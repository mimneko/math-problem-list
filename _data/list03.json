{
    "problems": [
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = -3, \\quad a_{n+1} =a_n + 4 $$",
            "solution": "$$ a_n = 4n - 7 $$",
            "gpt": "# 解答\n\n## 1 . 数列の性質を確認しよう  \n\n与えられた数列 \\( \\{a_n\\} \\) は  \n\n\\[\na_1=-3,\\qquad \na_{n+1}=a_n+4\\quad (n=1,2,3,\\dots)\n\\]\n\nという漸化式で定められています。  \n右辺が「前項に常に 4 を足す」形なので、これは **等差数列** であり、公差（項と項の差）は  \n\n\\[\nd = 4\n\\]\n\nです。\n\n---\n\n## 2 . 一般項の推測  \n\n等差数列の一般項は\n\n\\[\na_n = a_1 + (n-1)d\n\\]\n\nで書けることが知られています（高校数学 I で学習）。  \nここで \\(a_1=-3,\\;d=4\\) を代入すると\n\n\\[\na_n = -3 + (n-1)\\,4\n     = -3 + 4n - 4\n     = 4n - 7\n\\]\n\nとなります。\n\n---\n\n## 3 . 数学的帰納法による確認（証明）\n\n「推測」だけでなく、すべての自然数 \\(n\\) について成り立つことを示しておきます。\n\n### (1) 基礎となるステップ（\\(n=1\\)）\n\\[\na_1 = -3,\\qquad\n4\\cdot1-7 = -3\n\\]\nよって \\(n=1\\) で一致します。\n\n### (2) 帰納法の仮定\nある自然数 \\(k\\) に対して  \n\\[\na_k = 4k-7\n\\]\nが成り立つと仮定します。\n\n### (3) 帰納法のステップ\n漸化式を用いると\n\\[\na_{k+1} = a_k + 4\n        = (4k - 7) + 4\n        = 4k - 3\n        = 4(k+1) - 7.\n\\]\n帰納法の仮定から \\(a_{k+1}\\) も所望の形で表せました。  \n\n---\n\n### (4) 結論\n基礎ステップと帰納ステップがともに成立したので、数学的帰納法により  \nすべての自然数 \\(n\\) について  \n\n\\[\n\\boxed{\\,a_n = 4n - 7\\,}\n\\]\n\nが一般項であることが証明されました。\n\n---\n\n## 4 . 確認のための表（前数項）\n\n| \\(n\\) | 1 | 2 | 3 | 4 | 5 |\n|-------|---|---|---|---|---|\n| 漸化式による値 \\(a_n\\) | -3 | 1 | 5 | 9 | 13 |\n| 一般項 \\(4n-7\\) | -3 | 1 | 5 | 9 | 13 |\n\n両者が一致していることが確かめられます。\n\n---\n\n## 5 . （参考）グラフで見る数列\n\n以下の簡単な Python スクリプトを使うと、数列が一直線上に並ぶ等差数列であることを視覚的に確認できます。\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1, 11)          # n = 1 から 10 まで\na_n = 4*n - 7                  # 一般項\nplt.figure(figsize=(6, 4))\nplt.plot(n, a_n, 'o-', label=r'$a_n=4n-7$')\nplt.xlabel(r'$n$')\nplt.ylabel(r'$a_n$')\nplt.title('Arithmetic Sequence $a_n=4n-7$')\nplt.grid(True)\nplt.legend()\nplt.show()\n```\n\n---\n\n以上より、数列 \\( \\{a_n\\} \\) の一般項は  \n\\[\n\\boxed{a_n = 4n - 7}\n\\]  \nであり、これ以外に可能性はありません。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 4, \\quad 2a_{n+1} + 3a_n = 0 $$",
            "solution": "$$ a_n = 4 \\cdot \\left( -\\frac{3}{2} \\right)^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 漸化式を整理する\n与えられた漸化式  \n\\[\n2a_{n+1}+3a_n=0 \\qquad (n=1,2,3,\\dots)\n\\]  \nを \\(a_{n+1}\\) について解くと\n\n\\[\n2a_{n+1} = -3a_n \\quad\\Longrightarrow\\quad \na_{n+1}= -\\frac{3}{2}\\,a_n.\n\\]\n\n## 2. 数列の型を判断する\n右辺が「定数倍 × \\(a_n\\)」の形になっているので，この数列 \\(\\{a_n\\}\\) は**等比数列**（公比一定の数列）であることがわかる。\n\n* 初項（第1項）：\\(a_1 = 4\\)\n* 公比：\\(-\\dfrac{3}{2}\\)\n\n## 3. 一般項の公式\n等比数列の一般項は  \n\\[\na_n = a_1 \\, r^{\\,n-1}\n\\]  \nである。ただし \\(r\\) は公比。\n\nここでは  \n\\[\na_1 = 4,\\qquad r = -\\frac{3}{2}.\n\\]\n\nしたがって\n\n\\[\n\\boxed{\\,a_n = 4\\left(-\\dfrac{3}{2}\\right)^{n-1}\\,}\\qquad (n=1,2,3,\\dots)\n\\]\n\n## 4. 確認\n念のため，いくつか値を確かめてみる。\n\n| \\(n\\) | 公式で求めた \\(a_n\\) | 漸化式のチェック |\n|:---:|:---:|:---:|\n| 1 | \\(4\\) | — |\n| 2 | \\(4\\left(-\\dfrac{3}{2}\\right)= -6\\) | \\(2a_2+3a_1 = 2(-6)+3(4)= -12+12=0\\) ✔ |\n| 3 | \\(4\\left(-\\dfrac{3}{2}\\right)^2 = 4\\cdot \\dfrac{9}{4}=9\\) | \\(2a_3+3a_2 = 2(9)+3(-6)=18-18=0\\) ✔ |\n\nいずれも漸化式を満たすことが確認できたので、求めた一般項は正しい。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = a_n + 2^n - 3n + 1 $$",
            "solution": "$$ a_n = 2^n - \\frac{3}{2}n^2 + \\frac{5}{2}n - 2 $$",
            "gpt": "# 解答\n\n## 1.  方針  \n与えられた数列は  \n\\[\na_{n+1}-a_n = 2^{\\,n}-3n+1 \\qquad(n\\ge 1)\n\\]  \nという **差分（漸化式）** がわかっています。  \nこの形では  \n\\[\na_n = a_1 + \\sum_{k=1}^{n-1}(a_{k+1}-a_k)\n\\]  \nと書ける（望ましい「かたまり」を足し合わせればよい）ので、\n\n1. まず差分をすべて足し合わせる。  \n2. その総和を整理する。  \n\nという手順で一般項を求めます。\n\n---\n\n## 2.  差分を累積して足し合わせる  \n定義より  \n\\[\na_n = a_1 + \\sum_{k=1}^{n-1}\\bigl(2^{\\,k}-3k+1\\bigr)\\qquad(n\\ge 2)\n\\]  \nただし \\(a_1=1\\)。\n\n---\n\n## 3.  部分ごとに和を計算する  \n\n1) 等比数列の和  \n\\[\n\\sum_{k=1}^{n-1}2^{\\,k}\n  = 2^{1}+2^{2}+\\,\\dots+2^{\\,n-1}\n  = 2\\!\\left(\\frac{2^{\\,n-1}-1}{2-1}\\right)\n  = 2^{\\,n}-2\n\\]\n\n2) 等差数列の和（\\(k\\) の項に -3 を掛けたもの）  \n\\[\n\\sum_{k=1}^{n-1}(-3k)\n  = -3\\sum_{k=1}^{n-1}k\n  = -3\\cdot\\frac{(n-1)n}{2}\n  = -\\frac{3n(n-1)}{2}\n\\]\n\n3) 定数 1 の和  \n\\[\n\\sum_{k=1}^{n-1}1 = n-1\n\\]\n\n---\n\n## 4.  まとめて整理  \n\\[\n\\begin{aligned}\na_n\n&= 1\n  + \\Bigl(2^{\\,n}-2\\Bigr)\n  -\\frac{3n(n-1)}{2}\n  +(n-1) \\\\[4pt]\n&= 2^{\\,n}\n  -\\frac{3n(n-1)}{2}\n  +(n-2)\n\\end{aligned}\n\\]\n\nさらに分数部分を展開して一つにまとめると  \n\n\\[\n\\begin{aligned}\na_n\n&= 2^{\\,n}\n  -\\frac{3n^2-3n}{2}\n  +(n-2) \\\\[4pt]\n&= 2^{\\,n}\n  -\\frac{3n^2-3n}{2}\n  +\\frac{2n}{2}-2 \\\\[4pt]\n&= 2^{\\,n}\n  -\\frac{3n^2-5n+4}{2}\n\\end{aligned}\n\\]\n\n---\n\n## 5.  一般項（結論）  \n\\[\n\\boxed{\\displaystyle\na_n = 2^{\\,n} - \\frac{3n^2-5n+4}{2}\\qquad(n\\ge 1)\n}\n\\]\n\n---\n\n## 6.  確認（帰納的チェック）\n\n- \\(n=1\\)：  \n  \\[\n  a_1 = 2^1 - \\frac{3-5+4}{2}=2-1=1\\quad\\checkmark\n  \\]\n\n- 漸化式との整合 (\\(n\\to n+1\\)) も代入計算により確かめられます。  \n\n---\n\n## 7.  （参考）最初の 8 項を描画してみる  \n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef a(n):\n    return 2**n - (3*n**2 - 5*n + 4)/2\n\nN = 8\nn = np.arange(1, N+1)\nplt.figure(figsize=(6,3))\nplt.stem(n, a(n), use_line_collection=True)\nplt.title(\"数列 $a_n$ (n=1..8)\")\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.grid(True)\nplt.show()\n```\n\n上のコードを実行すると，下図のように単調増加で急激に伸びる（指数関数 \\(2^{\\,n}\\) の影響が支配的）様子が視覚的に確認できます。\n\n---\n\n以上で一般項の求値と確認を終えます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 6, \\quad a_{n+1} = 4a_n - 3 $$",
            "solution": "$$ a_n = 5 \\cdot 4^{n-1} + 1 $$",
            "gpt": "# 解答\n\n## 1. 漸化式の型を確認\n与えられた漸化式  \n\n\\[\na_{n+1}=4a_n-3 \\qquad(n\\ge 1)\n\\]\n\nは「一次同次項＋定数項」の形  \n\\[\na_{n+1}-4a_n=-3\n\\]\nになっています。  \n高校数学では、次の２段階で解くのが定石です。\n\n1. 同次漸化式（右辺を 0 と見た式）を解く  \n2. 定数項を含む“特解”を 1 つ見つけ、両者を合わせる  \n\n## 2. 同次漸化式を解く\nまず同次部分\n\\[\na_{n+1}-4a_n=0\n\\]\nを考えます。これは\n\\[\na_{n+1}=4a_n\n\\]\nなので、等比数列\n\\[\na_n^{(h)}=C\\cdot 4^{\\,n-1}\\quad(C\\text{ は定数})\n\\]\nが一般解です。  \n（添字を $n-1$ としたのは、 $a_1$ のとき $C$ がそのまま現れるようにするため。）\n\n## 3. 定数項を含む“特解”を探す\n右辺が定数 $-3$ なので、**定数解**を仮定します。  \nつまり\n\\[\na_n^{(p)}=A\\;(\\text{一定})\n\\]\nとおくと\n\n\\[\nA = 4A - 3\n\\]\n\n\\[\n\\Longrightarrow -3A=-3 \\Longrightarrow A=1\n\\]\n\nよって特解は\n\\[\na_n^{(p)} = 1\n\\]\n\n## 4. 一般解をまとめる\n同次解と特解を足して\n\\[\na_n = a_n^{(h)} + a_n^{(p)} = C\\cdot 4^{\\,n-1} + 1\n\\]\n\n## 5. 初項 \\(a_1=6\\) で定数 \\(C\\) を決定\n\\[\na_1 = C\\cdot 4^{\\,0}+1 = C+1 = 6\n\\]\n\\[\n\\Longrightarrow C = 5\n\\]\n\n## 6. 結論：一般項\n\\[\n\\boxed{\\,a_n = 5\\cdot 4^{\\,n-1} + 1\\qquad(n\\ge 1)\\,}\n\\]\n\n## 7. （参考）数列の様子\n最初の数項を並べると\n\n| n | 1 | 2 | 3 | 4 | 5 |\n|---|---|---|---|---|---|\n| \\(a_n\\) | 6 | 21 |  84 | 337 | 1 352 |\n\n指数的に増加していることが分かります。  \n以下のグラフは \\(n=1\\) から 6 までをプロットした例です（読み飛ばしても構いません）。\n\n```python\nimport matplotlib.pyplot as plt\nn = range(1,7)\na = [5*4**(k-1)+1 for k in n]\nplt.stem(n,a,use_line_collection=True)\nplt.xlabel(\"n\")\nplt.ylabel(\"a_n\")\nplt.title(\"数列 a_n = 5·4^{n-1}+1 (n=1..6)\")\nplt.grid(True)\nplt.show()\n```\n\nこれで、漸化式で定められた数列の一般項が完全に求まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 3a_n + 4n $$",
            "solution": "$$ a_n = 4 \\cdot 3^{n-1} - 2n - 1 $$",
            "gpt": "# 解答\n\n## 1　方針  \n漸化式  \n\\[\na_{n+1}=3a_n+4n \\qquad(n=1,2,\\dots)\n\\]  \nは  \n「等比型（係数 3）の**一次不定方程式**」です。  \n「同次部分（＝右辺の $3a_n$）」と「特解（＝右辺の $4n$ に対応）」を分けて考える ―― いわゆる\n\n　1. 同次漸化式の解  \n　2. 非同次項に対する特解  \n\nを求める方法で一般項を導きます。\n\n---\n\n## 2　同次漸化式の解\n\n非同次項 $4n$ を無視すると、\n\n\\[\nb_{n+1}=3b_n\n\\]\n\nとなる。同次漸化式の一般解は\n\n\\[\nb_n=C\\cdot3^{\\,n-1}\\qquad(\\text{定数 }C)\n\\]\n\nです（高1数Ⅰの「等比数列」と同じ）。\n\n---\n\n## 3　特解（$4n$ に対応する一つの解）を探す\n\n非同次項が $n$ の一次式なので、  \n「一次式型」で試してみるのが自然です。\n\n特解を  \n\\[\na_n^{(p)}=An+B\\qquad(A,B は定数)  \n\\]  \nと仮定し、漸化式に代入します。\n\n左辺  \n\\[\na_{n+1}^{(p)}=A(n+1)+B=An+A+B\n\\]\n\n右辺  \n\\[\n3a_n^{(p)}+4n=3(An+B)+4n=3An+3B+4n\n\\]\n\nよって\n\n\\[\nAn+A+B=\\;3An+3B+4n\n\\]\n\nこれを \\(n\\) の係数と定数項に分けると\n\n\\[\n\\begin{cases}\n\\text{(}\\,n\\text{ の項)} & An-3An-4n =0 \\\\\n\\text{(定数項)} & A+B-3B=0\n\\end{cases}\n\\Longrightarrow\n\\begin{cases}\n-2A-4=0\\\\\nA-2B=0\n\\end{cases}\n\\]\n\n解いて\n\n\\[\nA=-2,\\qquad B=-1\n\\]\n\nしたがって特解は\n\n\\[\na_n^{(p)}=-2n-1.\n\\]\n\n---\n\n## 4　一般解\n\n「同次解」＋「特解」で\n\n\\[\na_n=C\\cdot3^{\\,n-1}-2n-1.\n\\]\n\n---\n\n## 5　定数 \\(C\\) を初期条件で決定\n\n初項 \\(a_1=1\\) を代入：\n\n\\[\n1 \n= C\\cdot3^{\\,1-1} -2\\cdot1 -1\n= C - 3\n\\quad\\Longrightarrow\\quad\nC=4.\n\\]\n\n---\n\n## 6　結論（一般項）\n\n\\[\n\\boxed{\\,a_n = 4\\cdot3^{\\,n-1} - 2n - 1\\qquad(n\\ge1)\\,}\n\\]\n\n---\n\n## 7　確認\n\nn=2 のとき  \n公式： \\(a_2=4\\cdot3^{1}-2\\cdot2-1=12-4-1=7\\)  \n漸化式： \\(a_2=3a_1+4\\cdot1=3\\cdot1+4=7\\)  \n一致するので正しい。\n\n---\n\n## 8　（発展）別解の考え方\n\n「等比で割る」方法も高校範囲でよく使われます。\n\n1. 両辺を \\(3^{n}\\) で割るために  \n   \\(\\displaystyle b_n=\\frac{a_n}{3^{n-1}}\\) とおく。  \n\n2. 漸化式を変形すると一次差分が消え、  \n   等差数列が現れるので簡単に求められる。\n\n結果は同じく  \n\\(\\displaystyle a_n = 4\\cdot3^{\\,n-1} -2n-1.\\)\n\n---\n\n## 9　イメージをつかむためのグラフ（任意）\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1,11)\na = 4*3**(n-1) - 2*n - 1\n\nplt.figure(figsize=(6,3))\nplt.stem(n, a, use_line_collection=True)\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.title(\"最初の 10 項\")\nplt.grid(True)\nplt.show()\n```\n\n上図を描くと、指数関数的に急増する様子（係数 \\(3\\) の等比部分）が確認できます。  \n\n---\n\n以上で、漸化式で定められる数列 \\( \\{a_n\\} \\) の一般項を完全に求めることができました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 3, \\quad a_{n+1} = 2a_n + 3^{n+1} $$",
            "solution": "$$ a_n = 3^{n+1} - 3 \\cdot 2^n $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式\n\\[\na_1 = 3,\\qquad \na_{n+1}=2a_n+3^{\\,n+1}\\qquad(n\\ge 1)\n\\]\n\nこれは  \n「一次・非同次・定係数の漸化式」  \n（高校数学Ｂで学ぶ数列の範囲）なので，\n\n1. 同次部分の解（特性解）を求める  \n2. 非同次部分の特解を求める  \n3. 初期条件で定数を決定する  \n\nという手順で一般項 \\(a_n\\) を導きます。\n\n---\n\n## 2. 同次部分（特性解）\n\n右辺の \\(3^{\\,n+1}\\) を 0 にした同次漸化式  \n\\[\na_{n+1}=2a_n\n\\]\nは，両辺を \\(2^{n}\\) で割ってみると分かりやすく，  \n初項 \\(C\\) を用いて\n\n\\[\na_n^{(\\mathrm{h})}=C\\cdot 2^{\\,n-1}\\qquad(\\mathrm{h}= \\text{homogeneous})\n\\]\n\nと書けます。\n\n---\n\n## 3. 非同次部分（特解）\n\n右辺に指数関数 \\(3^{\\,n+1}\\) があるので，\n「同じ形（係数付きの同じ底の指数関数）」を特解の形として仮定します。\n\n（仮定）\n\\[\na_n^{(\\mathrm{p})}=k\\cdot 3^{\\,n} \\quad(k\\ \\text{は定数})\n\\]\n\nこれを元の漸化式に代入すると\n\n\\[\nk\\cdot 3^{\\,n+1}=2\\bigl(k\\cdot 3^{\\,n}\\bigr)+3^{\\,n+1}\n\\]\n\n両辺 \\(3^{\\,n}\\) で割ると\n\n\\[\n3k = 2k + 3\\quad\\Longrightarrow\\quad k=3.\n\\]\n\nしたがって特解は\n\n\\[\na_n^{(\\mathrm{p})}=3\\cdot 3^{\\,n}=3^{\\,n+1}.\n\\]\n\n---\n\n## 4. 一般解（同次解＋特解）\n\n\\[\na_n = a_n^{(\\mathrm{h})}+a_n^{(\\mathrm{p})}\n     = C\\cdot 2^{\\,n-1} + 3^{\\,n+1}.\n\\]\n\n---\n\n## 5. 初期条件で定数 \\(C\\) を決定\n\n\\[\na_1 = 3 \\quad\\Longrightarrow\\quad\n3 = C\\cdot 2^{\\,0} + 3^{\\,2}\n  = C + 9\n  \\quad\\Longrightarrow\\quad\nC = -6.\n\\]\n\n---\n\n## 6. 一般項\n\n\\[\n\\boxed{\\,a_n = 3^{\\,n+1} - 6\\cdot 2^{\\,n-1}\\,}\n\\]\n\n係数を少し整理すると\n\n\\[\na_n = 3^{\\,n+1} - 3\\cdot 2^{\\,n}\n\\]\n\nと書いてもよいです（両者は同値）。\n\n---\n\n## 7. 確認（数学的帰納法）\n\n最後に式が正しいことを再チェックします。\n\n1. (初期値)  \n   \\(n=1\\) で  \n   \\(a_1 = 3^{\\,2} - 3\\cdot 2^{\\,1} = 9 - 6 = 3\\)  \n   与えられた \\(a_1\\) と一致。\n\n2. (帰納法のステップ)  \n   \\(a_n\\) が  \n   \\(a_n = 3^{\\,n+1} - 3\\cdot 2^{\\,n}\\)  \n   を満たすと仮定すると\n   \\[\n   a_{n+1}\n   = 2a_n + 3^{\\,n+1}\n   = 2\\bigl(3^{\\,n+1} - 3\\cdot 2^{\\,n}\\bigr)+3^{\\,n+1}\n   = 2\\cdot 3^{\\,n+1}+3^{\\,n+1} - 3\\cdot 2^{\\,n+1}\n   = 3^{\\,n+2} - 3\\cdot 2^{\\,n+1},\n   \\]\n   すなわち  \n   \\(a_{n+1} = 3^{\\,n+2} - 3\\cdot 2^{\\,n+1}\\)  \n   で確かに成り立つ。\n\nよって数列の一般項は確定的に上の式で正しいことが確認できました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = \\frac{1}{5}, \\quad a_{n+1} = \\frac{ a_n }{ 4a_n - 1 } $$",
            "solution": "$$ a_n = \\frac{ 1 }{ 3 \\cdot (-1)^{n-1} + 2 } $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式の変形  \n漸化式  \n\\[\na_{n+1}=\\frac{a_n}{4a_n-1}\\qquad(n\\ge1)\n\\]  \nを解くには、分母をなくすため **逆数** をとる発想が有効です。  \nそこで  \n\n\\[\nb_n=\\frac1{a_n}\\qquad(n\\ge1)\n\\]\n\nとおくと  \n\n\\[\nb_{n+1}= \\frac1{a_{n+1}}\n          =\\frac{4a_n-1}{a_n}\n          =4-\\frac1{a_n}\n          =4-b_n .\n\\]\n\nすなわち\n\n\\[\n\\boxed{\\,b_{n+1}=4-b_{n}\\,}\\quad(n\\ge1)\n\\]\n\nとなり、一次の**線形漸化式**に帰着します。\n\n---\n\n## 2. 線形漸化式 \\(b_{n+1}=4-b_n\\) の一般解\n\n同次部分 \\(b_{n+1}=-b_n\\) の特性方程式  \n\\[\nr=-1\n\\]  \nより、同次解は \\(C(-1)^n\\)（\\(C\\) は定数）。\n\n一方、定数解（特解）を \\(b_n=k\\) （\\(n\\) に依らず一定）と置くと  \n\\[\nk = 4-k \\quad\\Longrightarrow\\quad k=2.\n\\]\n\nゆえに**一般解**は\n\n\\[\nb_n = 2 + C(-1)^n.\n\\]\n\n---\n\n## 3. 初期条件から定数 \\(C\\) を決定\n\n初項 \\(a_1=\\dfrac15\\) なので  \n\\[\nb_1=\\frac1{a_1}=5.\n\\]\n\n一般解に \\(n=1\\) を代入すると  \n\n\\[\nb_1 = 2 + C(-1)^{1}=2-C = 5\n\\quad\\Longrightarrow\\quad\nC = -3.\n\\]\n\nしたがって\n\n\\[\n\\boxed{\\,b_n = 2 - 3(-1)^n\\,}.\n\\]\n\n---\n\n## 4. 逆数に戻して \\(a_n\\) の一般項を得る\n\n\\[\na_n = \\frac1{b_n}= \\frac1{2-3(-1)^n}.\n\\]\n\n符号を整えると\n\n\\[\n\\boxed{\\displaystyle\na_n = \\frac1{2+3(-1)^{\\,n-1}}\\qquad(n\\ge1).\n}\n\\]\n\n---\n\n## 5. 形を分けて書くと\n\n\\[\na_n=\n\\begin{cases}\n\\dfrac15 & (n \\text{ が奇数})\\\\[6pt]\n-1 & (n \\text{ が偶数})\n\\end{cases}\n\\]\n\n---\n\n## 6. 確認（帰納的チェック）\n\n奇数 \\(n\\) で \\(a_n=\\dfrac15\\) とすると  \n\\[\na_{n+1}=\\frac{\\frac15}{4\\cdot\\frac15-1}=\\frac{\\frac15}{-\\frac15}=-1\n\\]  \nで偶数項が \\(-1\\) になる。  \n偶数 \\(n\\) で \\(a_n=-1\\) とすると  \n\\[\na_{n+1}=\\frac{-1}{4(-1)-1}=\\frac{-1}{-5}=\\frac15\n\\]  \nで奇数項に戻る。  \n初項 \\(a_1=\\dfrac15\\) からこのサイクルが保たれ、導いた一般項が正しいことが確かめられます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 2 \\sqrt{ a_n } $$",
            "solution": "$$ a_n = 2^{ 2 - 2^{ 2-n } } $$",
            "gpt": "# 解答\n\n### 1. まずは数列を少し書き出してみる\n\\[\na_1 = 1,\\qquad  \na_2 = 2\\sqrt{a_1}=2,\\qquad\na_3 = 2\\sqrt{a_2}=2\\sqrt2,\\qquad\na_4 = 2\\sqrt{2\\sqrt2}=2^{\\frac74},\\ \\ldots\n\\]\n\n「指数がだんだん分数になっている」ことに注目して，  \n$$a_n = 2^{s_n}\\quad\\text{とおくと楽そうだ}$$  \nと気づきます（すべて正の数なので対数を取れる）。\n\n---\n\n### 2. 指数部 \\(s_n\\) の漸化式を立てる\n\\[\na_n = 2^{s_n}\\quad(\\text{ただし }s_n\\in\\mathbb R)\n\\]\nとおくと\n\\[\na_{n+1} = 2\\sqrt{a_n}\n         = 2\\,(2^{s_n})^{\\tfrac12}\n         = 2^{1+\\frac12s_n}.\n\\]\n一方で \\(a_{n+1}=2^{s_{n+1}}\\) だから\n\\[\n\\boxed{\\,s_{n+1}=1+\\frac12s_n\\,}\\qquad(n\\ge1),\\quad s_1=\\log_2 1 = 0.\n\\]\n\n---\n\n### 3. 線形漸化式 \\(s_{n+1}=1+\\tfrac12s_n\\) を解く  \n定数解を探すと，  \n\\[\ns = 1+\\frac12s \\quad\\Longrightarrow\\quad s=2.\n\\]\n差を取って\n\\[\nt_n := s_n - 2\\quad\\Longrightarrow\\quad\nt_{n+1} = \\frac12 t_n,\\qquad t_1 = -2.\n\\]\nこれは等比数列なので\n\\[\nt_n = t_1\\!\\left(\\frac12\\right)^{n-1}\n     = -2\\!\\left(\\frac12\\right)^{n-1}\n     = -2^{2-n}.\n\\]\n\n元に戻して\n\\[\n\\boxed{\\,s_n = 2 - 2^{2-n}\\,}.\n\\]\n\n---\n\n### 4. 元の数列 \\(a_n\\) の一般項\n\\[\na_n = 2^{s_n}\n     = 2^{\\,2 - 2^{2-n}}\n     = 4\\cdot 2^{-\\,2^{2-n}}\n     \\qquad(n\\ge1).\n\\]\n\n---\n\n### 5. 答え\n\\[\n\\boxed{\\displaystyle a_n = 2^{\\,2 - 2^{2-n}}\\quad(n=1,2,3,\\dots)}\n\\]\n\n※ 確認  \nn=1: \\(2-2^{1}=0\\Rightarrow a_1=2^0=1\\)  \nn=2: \\(2-2^{0}=1\\Rightarrow a_2=2\\)  \nn=3: \\(2-2^{-1}=3/2\\Rightarrow a_3=2^{3/2}=2\\sqrt2\\)  \n いずれも条件を満たす。\n\n---\n\n### （参考）数列の挙動をグラフで見る\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1,11)\na = 2**(2 - 2**(2-n))\n\nplt.figure(figsize=(6,3))\nplt.stem(n, a, basefmt=\" \")\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.title(\"最初の10項\")\nplt.grid(True)\nplt.show()\n```\n\n実行すると \\(a_n\\) は単調増加して \\(4\\) に近づく様子がわかります（極限 \\(\\displaystyle\\lim_{n\\to\\infty}a_n=2^2=4\\)）。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = \\frac{ n+2 }{ n }a_n + 1 $$",
            "solution": "$$ a_n = \\frac{ n(3n+1) }{ 2 } $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式\n\\[\na_{1}=2,\\qquad \na_{n+1}= \\frac{n+2}{n}\\,a_{n}+1\\qquad (n\\ge 1)\n\\]\n\n高校範囲で扱える“非同次一次漸化式（係数が $n$ に依存）”です。  \n直接解く方法はいくつか考えられますが、ここでは  \n\n1. 数列の差分を調べて形を予想する  \n2. 予想した形を代入して定数を決定し、  \n3. 数学的帰納法で正しさを確認する  \n\nという流れで求めます。\n\n---\n\n## 2. 差分を取って形を探る\n\nまず $a_{n+1}-a_{n}$ を計算します。\n\n\\[\n\\begin{aligned}\na_{n+1}-a_{n}\n&=\\frac{n+2}{n}a_{n}+1-a_{n}\\\\\n&=\\left(\\frac{n+2}{n}-1\\right)a_{n}+1\\\\\n&=\\frac{2}{n}\\,a_{n}+1.\n\\end{aligned}\n\\]\n\n### 2.1 実際に数項計算  \n\\[\n\\begin{array}{c|cccccc}\nn & 1 & 2 & 3 & 4 & 5 \\\\ \\hline\na_n & 2 & 7 & 15 & 26 & 40\n\\end{array}\n\\]\n\n差を取ると\n\n\\[\n\\begin{array}{c|cccc}\nn & 1 & 2 & 3 & 4 \\\\ \\hline\na_{n+1}-a_{n} & 5 & 8 & 11 & 14\n\\end{array}\n\\]\n\nさらにもう一度差を取ると\n\n\\[\n8-5=3,\\quad 11-8=3,\\quad 14-11=3.\n\\]\n\n二階差分が **一定で 3** になっています。  \n二階差分が一定ということは，$a_n$ は **2次式**  \n\\[\na_n=An^{2}+Bn+C\n\\]\nで表せるはずです。\n\n---\n\n## 3. 2次式と仮定して係数を決定\n\n\\[\na_n = An^{2}+Bn+C \\qquad(\\star)\n\\]\n\n初項 $a_1=2$ と、漸化式を $(\\star)$ に代入して係数 $A,B,C$ を決めます。\n\n### 3.1 初項\n\\[\nA(1)^2+B(1)+C=A+B+C=2 \\quad\\cdots(1)\n\\]\n\n### 3.2 $n=1$ の漸化式\n\\[\na_2=\\frac{3}{1}a_1+1=3\\cdot2+1=7.\n\\]\n左辺 $a_2 = A(2)^2+B(2)+C=4A+2B+C=7 \\quad\\cdots(2)\n\n### 3.3 $n=2$ の漸化式\n\\[\na_3=\\frac{4}{2}a_2+1=2\\cdot7+1=15.\n\\]\n左辺 $a_3 = A(3)^2+B(3)+C=9A+3B+C=15 \\quad\\cdots(3)\n\n(1)–(3) を連立すると  \n\\[\n\\begin{cases}\nA+B+C=2\\\\\n4A+2B+C=7\\\\\n9A+3B+C=15\n\\end{cases}\n\\]\n\n(2)−(1)：　$3A+B=5$  \n(3)−(2)：　$5A+B=8$  \nよって\n\\[\n2A=3 \\Longrightarrow A=\\dfrac{3}{2},\\qquad \nB = 5-3A = 5-\\dfrac{9}{2}=\\dfrac{1}{2},\\qquad\nC = 2-A-B =2-\\dfrac{3}{2}-\\dfrac{1}{2}=0.\n\\]\n\nしたがって\n\n\\[\na_n=\\frac{3}{2}n^{2}+\\frac{1}{2}n\n        =\\frac{n(3n+1)}{2}\\qquad(\\forall n\\ge 1)\n\\]\n\n---\n\n## 4. 数学的帰納法で確認\n\n求めた一般項  \n\\[\n\\boxed{\\,a_n=\\dfrac{n(3n+1)}{2}\\,}\n\\]\nが本当に漸化式を満たすことを示します。\n\n### 4.1 基底（$n=1$）\n\\[\na_{1}=\\frac{1(3\\cdot1+1)}{2}=2 \\quad\\checkmark\n\\]\n\n### 4.2 帰納法の仮定  \nある $n$ について  \n\\[\na_n=\\frac{n(3n+1)}{2}\n\\]\nが成り立つと仮定。\n\n### 4.3 帰納法の主張  \n\\[\na_{n+1}=\\frac{(n+1)\\bigl(3(n+1)+1\\bigr)}{2}\n        =\\frac{(n+1)(3n+4)}{2}\n\\]\nとなることを示す。\n\n### 4.4 計算\n漸化式より\n\\[\n\\begin{aligned}\na_{n+1}\n&=\\frac{n+2}{n}a_n+1\\\\\n&=\\frac{n+2}{n}\\cdot\\frac{n(3n+1)}{2}+1\\\\\n&=\\frac{(n+2)(3n+1)}{2}+1\\\\\n&=\\frac{3n^{2}+7n+2}{2}+1\\\\\n&=\\frac{3n^{2}+7n+2+2}{2}\\\\\n&=\\frac{3n^{2}+7n+4}{2}\\\\\n&=\\frac{(n+1)(3n+4)}{2}.\n\\end{aligned}\n\\]\n右辺は帰納的に示したい形と一致するので帰納法が完了。  \nよって **すべての $n$ について**  \n\\[\na_n=\\frac{n(3n+1)}{2}\n\\]\nが成立します。\n\n---\n\n## 5. 結論\n\\[\n\\boxed{\\displaystyle a_n=\\frac{n(3n+1)}{2}\\qquad(n\\ge 1)}\n\\]\n\n---\n\n## 6. （参考）グラフでイメージ\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1,11)\na = n*(3*n+1)/2\n\nplt.figure(figsize=(6,4))\nplt.plot(n, a, 'o-', label=r'$a_n=\\frac{n(3n+1)}{2}$')\nplt.xticks(n)\nplt.grid(True)\nplt.xlabel('$n$')\nplt.ylabel('$a_n$')\nplt.legend()\nplt.title('前半10項の値')\nplt.show()\n```\n\n上のコードを実行すると、$a_n$ が 2 次関数型に増加している様子が視覚的に確認できます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = \\frac{1}{2}, \\quad (n+1)a_n = (n-1)a_{n-1}, (n\\geqq2) $$",
            "solution": "$$ a_n = \\frac{ 1 }{ n(n+1) } $$",
            "gpt": "# 解答\n\n## 1. 漸化式の整理\n与えられた漸化式  \n\\[\n(n+1)a_n=(n-1)a_{n-1}\\quad (n\\ge 2)\n\\]\nを  \n\\[\na_n=\\frac{n-1}{n+1}\\,a_{n-1}\\tag{1}\n\\]\nと書き換える。\n\n## 2. 積の形で一般項を表す\n(1) を繰り返し用いて \\(a_n\\) を \\(a_1\\) まで遡ると\n\n\\[\n\\begin{aligned}\na_n&=\\frac{n-1}{n+1}\\,a_{n-1}\n     =\\frac{n-1}{n+1}\\cdot\\frac{n-2}{n}\\,a_{n-2}\n     =\\dots\n     =a_1\\prod_{k=2}^{n}\\frac{k-1}{k+1}\\quad(n\\ge 2). \\tag{2}\n\\end{aligned}\n\\]\n\n## 3. 積 \\(\\displaystyle\\prod_{k=2}^{n}\\frac{k-1}{k+1}\\) の計算\n分子と分母をそれぞれまとめる。\n\n● 分子  \n\\[\n\\prod_{k=2}^{n}(k-1)=1\\cdot2\\cdot3\\cdots(n-1)=(n-1)!.\n\\]\n\n● 分母  \n\\[\n\\prod_{k=2}^{n}(k+1)=3\\cdot4\\cdot5\\cdots(n+1)=\\frac{(n+1)!}{1\\cdot2}=\\frac{(n+1)!}{2}.\n\\]\n\nしたがって  \n\\[\n\\prod_{k=2}^{n}\\frac{k-1}{k+1}\n =\\frac{(n-1)!}{(n+1)!/2}\n =\\frac{2(n-1)!}{(n+1)!}\n =\\frac{2}{n(n+1)}.\\tag{3}\n\\]\n\n## 4. 一般項の決定\n初項 \\(a_1=\\dfrac12\\) と (2)(3) を用いると\n\n\\[\na_n\n =a_1\\cdot\\frac{2}{n(n+1)}\n =\\frac12\\cdot\\frac{2}{n(n+1)}\n =\\boxed{\\displaystyle\\frac{1}{n(n+1)}}\\quad(n\\ge 1).\n\\]\n\n## 5. 検算（漸化式を満たすことの確認）\n求めた式 \\(a_n=\\dfrac{1}{n(n+1)}\\) が漸化式を満たすか調べる。\n\n\\[\n(n+1)a_n=\\frac{n+1}{n(n+1)}=\\frac1n,\\qquad\n(n-1)a_{n-1}=\\frac{n-1}{(n-1)n}=\\frac1n.\n\\]\n\n両辺が一致するので、漸化式を満たすことが確認できる。  \nまた \\(n=1\\) についても  \n\\[\na_1=\\frac{1}{1\\cdot2}=\\frac12\n\\]\nで初期条件と一致する。\n\n以上より、数列 \\(\\{a_n\\}\\) の一般項は  \n\\[\n\\boxed{a_n=\\dfrac{1}{n(n+1)}}\n\\] である。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 1, \\quad a_{n+2} = a_{n+1} + 6a_n $$",
            "solution": "$$ a_n = \\frac{1}{5} \\{ 3^{n-1} - (-2)^{n-1} \\} $$",
            "gpt": "# 解答\n\n## 1　漸化式の性質を確認する  \n与えられた数列 \\( \\{a_n\\} \\) は  \n\n\\[\na_{n+2}=a_{n+1}+6a_n \\qquad(n\\ge1),\\quad \na_1=0,\\;a_2=1\n\\]\n\nという**2次の線形・同次漸化式（係数一定）**です。  \nこのタイプの漸化式は、高校数学 B で学ぶ「特性方程式」を使うと一般項が求めやすいことが知られています。\n\n---\n\n## 2　特性方程式を立てる  \nまず  \n\\[\na_n = r^{\\,n}\\quad (r\\neq0)\n\\]  \nという形の解を仮定して漸化式に代入します。\n\n\\[\nr^{\\,n+2}=r^{\\,n+1}+6r^{\\,n}\\quad\\Longrightarrow\\quad\n\\cancel{r^{\\,n}}\\bigl(r^2-r-6\\bigr)=0\n\\]\n\n\\(r\\neq0\\) なので\n\n\\[\nr^2-r-6=0\n\\]\n\nを解けばよい、これを**特性方程式**と呼びます。\n\n---\n\n## 3　特性方程式の解  \n\\[\nr^2-r-6=0\n\\quad\\Longleftrightarrow\\quad\n(r-3)(r+2)=0\n\\]\n\nしたがって  \n\\[\nr_1=3,\\qquad r_2=-2\n\\]\n\nの2つの異なる解を得ます。\n\n---\n\n## 4　一般解（パラメータ付き）  \n根が重ならない（重解でない）とき、数列の一般項は\n\n\\[\na_n = \\alpha\\,(r_1)^{\\,n-1}+\\beta\\,(r_2)^{\\,n-1}\n      = \\alpha\\,3^{\\,n-1}+\\beta\\,(-2)^{\\,n-1}\n      \\qquad(\\alpha,\\betaは定数)\n\\]\n\nとなります。  \n「\\(n-1\\)」としたのは、\\(a_1\\) に \\(\\alpha,\\beta\\) が直接対応するようにそろえただけで、\\(n\\) 乗で書いてもかまいません（後で定数を決めるときに少し楽になるだけです）。\n\n---\n\n## 5　初期条件で定数を決定  \n\n● \\(n=1\\) のとき  \n\\[\na_1=0\n\\quad\\Longrightarrow\\quad\n\\alpha\\,3^{0}+\\beta\\,(-2)^{0}=\\alpha+\\beta=0\n\\]\nすなわち  \n\\[\n\\beta = -\\alpha\n\\]\n\n● \\(n=2\\) のとき  \n\\[\na_2=1\n\\quad\\Longrightarrow\\quad\n\\alpha\\,3^{1}+\\beta\\,(-2)^{1}=3\\alpha-2\\beta=1\n\\]\n\\(\\beta=-\\alpha\\) を代入すると  \n\\[\n3\\alpha-2(-\\alpha)=5\\alpha=1\n\\quad\\Longrightarrow\\quad\n\\alpha=\\dfrac15,\\qquad \\beta=-\\dfrac15\n\\]\n\n---\n\n## 6　一般項の決定  \n\\[\n\\boxed{\\displaystyle\na_n = \\frac15\\Bigl(3^{\\,n-1}-(-2)^{\\,n-1}\\Bigr)\\qquad(n\\ge1)\n}\n\\]\n\n---\n\n## 7　確認（帰納的チェック）\n\n漸化式 \\(a_{n+2}=a_{n+1}+6a_n\\) に代入してみます。\n\n1. 計算を簡単にするため  \n   \\[\n   a_n=\\frac15\\bigl(3^{\\,n-1}-(-2)^{\\,n-1}\\bigr)\n   \\]\n   とおきます。\n\n2. \\(a_{n+1},a_{n+2}\\) を同じ形で書くと  \n   \\[\n   a_{n+1}=\\frac15\\bigl(3^{\\,n}-(-2)^{\\,n}\\bigr),\\quad\n   a_{n+2}=\\frac15\\bigl(3^{\\,n+1}-(-2)^{\\,n+1}\\bigr)\n   \\]\n\n3. 右辺  \n   \\[\n   a_{n+1}+6a_n\n   =\\frac15\\Bigl[3^{\\,n}-(-2)^{\\,n}+6\\bigl(3^{\\,n-1}-(-2)^{\\,n-1}\\bigr)\\Bigr]\n   \\]\n   \\[\n   =\\frac15\\Bigl[3^{\\,n}+6\\cdot3^{\\,n-1}-\\bigl((-2)^{\\,n}+6(-2)^{\\,n-1}\\bigr)\\Bigr]\n   \\]\n   \\[\n   =\\frac15\\Bigl[3^{\\,n-1}(3+6)-(-2)^{\\,n-1}\\bigl((-2)+6\\bigr)\\Bigr]\n   \\]\n   \\[\n   =\\frac15\\Bigl[3^{\\,n-1}\\cdot9-(-2)^{\\,n-1}\\cdot4\\Bigr]\n   =\\frac15\\Bigl[3^{\\,n+1}-(-2)^{\\,n+1}\\Bigr]\n   =a_{n+2}\n   \\]\n   左辺と一致し、漸化式を満たすことが確認できます。\n\n4. 初期値も  \n   \\[\n   a_1=\\frac15\\bigl(3^0-(-2)^0\\bigr)=0,\\quad\n   a_2=\\frac15\\bigl(3^1-(-2)^1\\bigr)=1\n   \\]\n   で条件通り。\n\nしたがって求めた一般項は完全に正しいことがわかります。\n\n---\n\n## 8　（参考）最初の数項とグラフ\n\n\\[\n\\begin{array}{c|cccccccc}\nn & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8\\\\\\hline\na_n & 0 & 1 & 1 & 7 & 13 & 55 & 121 &  463\n\\end{array}\n\\]\n\n指数関数 \\(3^{\\,n}\\) が含まれているため、プラス寄りに急激に増える様子が見えます。  \n以下は Python（matplotlib）で描いた \\(n=1\\sim10\\) の折れ線グラフ例です。実際のテストやプリントに載せたい場合は次のコードを実行してください。\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef a(n):\n    return (3**(n-1) - (-2)**(n-1))/5\n\nn = np.arange(1, 11)\nseq = a(n)\n\nplt.figure(figsize=(6,3))\nplt.plot(n, seq, marker='o')\nplt.title(r'Sequence $a_n=\\frac15\\bigl(3^{n-1}-(-2)^{n-1}\\bigr)$')\nplt.xlabel('n'); plt.ylabel('a_n')\nplt.grid(True)\nplt.show()\n```\n\n---\n\n### まとめ\n与えられた漸化式  \n\\[\n\\boxed{a_{n+2}=a_{n+1}+6a_n,\\;a_1=0,\\;a_2=1}\n\\]  \nの一般項は\n\n\\[\n\\boxed{\\displaystyle\na_n = \\frac{1}{5}\\left(3^{\\,n-1}-(-2)^{\\,n-1}\\right)\\quad(n\\ge1)\n}\n\\]\n\nこれ以外の形（指数の位置をずらすなど）も、同値変形の範囲であればもちろん正解です。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_2 = 2, \\quad a_{n+2} + 4a_{n+1} - 5a_n = 0 $$",
            "solution": "$$ a_n = \\frac{1}{6} \\{ 7 - (-5)^{n-1} \\} $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式の整理\n与えられた数列 \\( \\{a_n\\} \\) は\n\n\\[\na_{n+2}+4a_{n+1}-5a_n = 0 \\qquad (n\\ge 1),\\quad \na_1 = 1,\\; a_2 = 2\n\\]\n\nという**2次の線形同次漸化式（係数一定）**です。  \n高校数学では、次の手順で一般項を求めます。\n\n---\n\n## 2. 特性方程式を立てる\n漸化式  \n\\[\na_{n+2}+4a_{n+1}-5a_n = 0\n\\]  \nに対し、解を \\(a_n = r^n\\) と仮定すると\n\n\\[\nr^{n+2}+4r^{n+1}-5r^n = r^n(r^{2}+4r-5)=0.\n\\]\n\n\\(r^n\\neq 0\\) なので\n\n\\[\nr^{2}+4r-5=0\n\\]\n\nを **特性方程式** と呼びます。\n\n---\n\n## 3. 特性方程式を解く\n\\[\nr^{2}+4r-5=0\n\\]\n\\[\n(r+5)(r-1)=0\n\\]\n\\[\n\\therefore \\; r_1 = 1,\\; r_2 = -5.\n\\]\n\n互いに異なる 2 つの解を得ました。\n\n---\n\n## 4. 一般解（係数未定形）\n根が重複しないとき、漸化式の一般解は\n\n\\[\na_n = A\\,(r_1)^n + B\\,(r_2)^n\n      = A\\cdot 1^{\\,n} + B\\cdot(-5)^{\\,n}\n      = A + B(-5)^n\n\\]\n\nという形になります。  \nここで \\(A,B\\) は定数（初期条件で決定）。\n\n---\n\n## 5. 初期条件で定数を決定\n\n初期条件  \n\\[\na_1=1,\\quad a_2 = 2\n\\]\nを代入して連立方程式を作ります。\n\n1) \\(n=1\\) のとき  \n\\[\nA + B(-5)^1 = A - 5B = 1\n\\]\n\n2) \\(n=2\\) のとき  \n\\[\nA + B(-5)^2 = A + 25B = 2\n\\]\n\nこれを解くと\n\n\\[\n\\begin{cases}\nA - 5B = 1\\\\\nA +25B = 2\n\\end{cases}\n\\quad\\Longrightarrow\\quad\n30B = 1\\;\\; \\Rightarrow\\; B = \\dfrac{1}{30},\n\\]\n\\[\nA = 1 + 5B = 1 + 5\\cdot\\dfrac{1}{30} = \\dfrac{7}{6}.\n\\]\n\n---\n\n## 6. 一般項の完成\n求まった \\(A,B\\) を戻すと\n\n\\[\na_n = \\frac{7}{6} + \\frac{1}{30}(-5)^n.\n\\]\n\n分母をそろえると、より簡潔に\n\n\\[\n\\boxed{\\,a_n = \\dfrac{35 + (-5)^n}{30}\\,}\\qquad (n\\ge 1)\n\\]\n\n---\n\n## 7. 検算\n(1) 初期値確認  \n\\[\na_1 = \\frac{35+(-5)^1}{30} = \\frac{35-5}{30}= \\frac{30}{30}=1,\\quad\na_2 = \\frac{35+(-5)^2}{30}= \\frac{35+25}{30}= \\frac{60}{30}=2 \\;\\checkmark\n\\]\n\n(2) 漸化式への代入  \n任意の \\(n\\) について  \n\\[\n\\begin{aligned}\na_{n+2}+4a_{n+1}-5a_n\n&= \\frac{35+(-5)^{n+2}}{30}\n   +4\\frac{35+(-5)^{n+1}}{30}\n   -5\\frac{35+(-5)^n}{30}\\\\\n&= \\frac{1}{30}\\Bigl[\n   35+(-5)^{n+2}+140+4(-5)^{n+1}-175-5(-5)^n\n   \\Bigr]\\\\\n&= \\frac{1}{30}\\Bigl[\n   0 + (-5)^n\\bigl[(-5)^2+4(-5)-5\\bigr]\n   \\Bigr]\\\\\n&= \\frac{1}{30}(-5)^n(25-20-5)=0. \n\\end{aligned}\n\\]\nよって漸化式も確かに満たしています。 ✔\n\n---\n\n## 8. まとめ\n以上より、与えられた数列 \\( \\{a_n\\} \\) の一般項は\n\n\\[\n\\boxed{\\,a_n = \\dfrac{35 + (-5)^n}{30}\\,}\\quad (n=1,2,3,\\dots)\n\\]\n\nであることが示されました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 2, \\quad a_{n+2} - 4a_{n+1} + 4a_n = 0 $$",
            "solution": "$$ a_n = (n-1) \\cdot 2^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 漸化式の形を確認  \n与えられた漸化式  \n\n\\[\na_{n+2}-4a_{n+1}+4a_n = 0 \\qquad (n\\ge 1)\n\\]\n\nは，**2次の線形同次漸化式（定係数）** です。  \nこの型の一般項は「特性方程式」を用いて求めることができます。\n\n---\n\n## 2. 特性方程式を立てる  \n係数をそのまま用いて\n\n\\[\nr^2-4r+4=0\n\\]\n\nを解きます。\n\n\\[\nr^2-4r+4=(r-2)^2=0 \\Longrightarrow r=2 \\quad(\\text{重解})\n\\]\n\n---\n\n## 3. 重解の場合の一般解  \n根が重解 \\(r=2\\) のみ なので，一般項は\n\n\\[\na_n=(A+Bn)\\,2^{\\,n}\\qquad(A,Bは定数)\n\\]\n\nとなります（教科書でも「重解のときは次数ぶん \\(n\\) を掛ける」と紹介されていますね）。\n\n---\n\n## 4. 初期条件から定数を決定  \n\n### ① \\(n=1\\) のとき  \n\\[\na_1=0 \\quad\\Longrightarrow\\quad (A+B)\\,2^{1}=0\n\\]\n\\[\n\\boxed{A+B=0}\n\\]\n\n### ② \\(n=2\\) のとき  \n\\[\na_2=2 \\quad\\Longrightarrow\\quad (A+2B)\\,2^{2}=2\n\\]\n\\[\n4(A+2B)=2 \\quad\\Longrightarrow\\quad A+2B=\\frac12\n\\]\n\n---\n\nこれら2式を連立すると  \n\\[\n\\begin{cases}\nA+B=0\\\\\nA+2B=\\dfrac12\n\\end{cases}\n\\Longrightarrow\n\\begin{cases}\nB=\\dfrac12\\\\\nA=-\\dfrac12\n\\end{cases}\n\\]\n\n---\n\n## 5. 一般項の決定  \n\n\\[\na_n=(A+Bn)\\,2^{\\,n}\n     =\\left(-\\dfrac12+\\dfrac12 n\\right)2^{\\,n}\n     =\\dfrac12(n-1)2^{\\,n}\n     =(n-1)2^{\\,n-1}\n\\]\n\n---\n\n## 6. 結論（必要十分性の確認）\n\n求めた\n\n\\[\n\\boxed{\\,a_n=(n-1)2^{\\,n-1}\\,}\\qquad(n\\ge1)\n\\]\n\nが初期条件と漸化式をともに満たすことは，  \n(1) \\(n=1,2\\) で値が一致する，  \n(2) 線形同次漸化式の一般解の形から得ている  \nことより保証されます。\n\n以上で数列 \\(\\{a_n\\}\\) の一般項はすべて求まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_2 = 1, \\quad a_{n+2} = a_{n+1} + a_n $$",
            "solution": "$$ a_n = \\frac{1}{\\sqrt{5}} \\Biggl\\{ \\left( \\frac{ 1+\\sqrt{5} }{ 2 } \\right)^n - \\left( \\frac{ 1-\\sqrt{5} }{ 2 } \\right)^n \\Biggr\\} $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式\n\\[\na_1=1,\\quad a_2=1,\\quad \na_{n+2}=a_{n+1}+a_n\\qquad(n\\ge1)\n\\]\n\nこれは「2項間の線形同次漸化式（係数一定）」です。高校数学 C の範囲で学ぶ**特性方程式**（または判別式）を用いて一般項を求めます。\n\n---\n\n## 2. 特性方程式を立てる\n漸化式  \n\\[\na_{n+2}=a_{n+1}+a_n\n\\]  \nの両辺を \\(r^{\\,n}\\) 型の解  \n\\[\na_n = r^{\\,n}\\quad (r\\neq0)\n\\]  \nで満たすと仮定すると\n\n\\[\nr^{\\,n+2}=r^{\\,n+1}+r^{\\,n}\n\\;\\;\\Longrightarrow\\;\\;\nr^2 = r + 1.\n\\]\n\nこれを**特性方程式**と呼びます。\n\n---\n\n## 3. 特性方程式の解\n\n\\[\nr^2 - r - 1 = 0\n\\]\n\n判別式 \\(D = (-1)^2 - 4\\cdot1\\cdot(-1)=5\\) より\n\n\\[\nr = \\frac{1\\pm\\sqrt{5}}{2}.\n\\]\n\nそこで  \n\\[\nr_1 = \\frac{1+\\sqrt{5}}{2}\\quad(\\text{黄金比}) ,\\qquad\nr_2 = \\frac{1-\\sqrt{5}}{2}\\quad(\\text{負の値})\n\\]  \nとおきます。\n\n---\n\n## 4. 一般解の形\n\n同種の漸化式では、2つの特性根 \\(r_1,r_2\\) が得られたとき\n\n\\[\na_n = A\\,r_1^{\\,n} + B\\,r_2^{\\,n}\\quad(\\text{任意定数 }A,B)\n\\]\n\nがすべての解を表します。  \n（線形性と一次独立性の議論は高校数学 C の教科書に示されています。）\n\n---\n\n## 5. 初期条件から定数を決める\n\n初期条件 \\(a_1=1,\\;a_2=1\\) を代入します。\n\n1) \\(n=1\\)\n\\[\na_1 = A\\,r_1^{\\,1}+B\\,r_2^{\\,1}=A\\,r_1+B\\,r_2 = 1\n\\]\n\n2) \\(n=2\\)\n\\[\na_2 = A\\,r_1^{\\,2}+B\\,r_2^{\\,2}=A\\,r_1^{\\,2}+B\\,r_2^{\\,2} = 1\n\\]\n\nこれを連立して \\(A,B\\) を求めます。\n\n### 連立方程式\n\n\\[\n\\begin{cases}\nA\\,r_1 + B\\,r_2 = 1 \\\\\nA\\,r_1^{2} + B\\,r_2^{2} = 1\n\\end{cases}\n\\]\n\nまず \\(r_1^{2}=r_1+1,\\; r_2^{2}=r_2+1\\) （特性方程式の利用）を使うと\n\n\\[\nA(r_1+1)+B(r_2+1)=1\n\\]\n\\[\n\\Longleftrightarrow \nA\\,r_1 + B\\,r_2 + (A+B)=1.\n\\]\n\n第一式 \\(A\\,r_1+B\\,r_2=1\\) によって上式の左側の先頭部分は 1 になるので\n\n\\[\n1 + (A+B)=1\\quad\\Longrightarrow\\quad A+B=0.\n\\]\n\nしたがって \\(B=-A\\)。  \nこれを第一式へ代入：\n\n\\[\nA\\,r_1 - A\\,r_2 = 1\n\\quad\\Longrightarrow\\quad\nA=\\frac{1}{r_1 - r_2}.\n\\]\n\n同様に \\(B=-A=-\\dfrac{1}{r_1-r_2}\\)。\n\n### \\(r_1-r_2\\) を整理\n\\[\nr_1-r_2=\\frac{1+\\sqrt5}{2}-\\frac{1-\\sqrt5}{2}=\\sqrt5.\n\\]\nよって  \n\\[\nA = \\frac{1}{\\sqrt5}, \\qquad B = -\\frac{1}{\\sqrt5}.\n\\]\n\n---\n\n## 6. 一般項の完成\n\n\\[\na_n \n= \\frac{1}{\\sqrt5}\\,r_1^{\\,n} - \\frac{1}{\\sqrt5}\\,r_2^{\\,n}\n= \\frac{1}{\\sqrt5}\n\\left\\{\n\\left(\\frac{1+\\sqrt5}{2}\\right)^{n}\n-\n\\left(\\frac{1-\\sqrt5}{2}\\right)^{n}\n\\right\\}.\n\\]\n\nこれが求める一般項です。\n\n---\n\n## 7. 式の確認（数学的帰納法）\n\n念のため、得られた式で漸化式を満たすことを示します。\n\n1) 初期値  \n n=1,2 に代入すると：\n\n\\[\na_1 = \\frac{1}{\\sqrt5}\\bigl(r_1 - r_2\\bigr)=\\frac{\\sqrt5}{\\sqrt5}=1,\\quad\na_2 = \\frac{1}{\\sqrt5}\\bigl(r_1^{2}-r_2^{2}\\bigr)=\\frac{1}{\\sqrt5}(r_1+r_1r_2 - r_2-r_1r_2)=\\frac{1}{\\sqrt5}(r_1-r_2)=1.\n\\]\n\n2) 漸化式  \n帰納法の仮定として  \n\\[\na_k = \\frac{r_1^{k}-r_2^{k}}{\\sqrt5},\\quad\na_{k+1} = \\frac{r_1^{k+1}-r_2^{k+1}}{\\sqrt5}\n\\]  \nとすると\n\n\\[\na_{k+1}+a_k \n= \\frac{r_1^{k+1}-r_2^{k+1}}{\\sqrt5}\n   +\\frac{r_1^{k}-r_2^{k}}{\\sqrt5}\n= \\frac{r_1^{k}(r_1+1)-r_2^{k}(r_2+1)}{\\sqrt5}.\n\\]\n\n特性方程式 \\(r_i^{2}=r_i+1\\) を用いれば\n\n\\[\na_{k+1}+a_k\n= \\frac{r_1^{k}\\,r_1^{2}-r_2^{k}\\,r_2^{2}}{\\sqrt5}\n= \\frac{r_1^{k+2}-r_2^{k+2}}{\\sqrt5}\n= a_{k+2},\n\\]\nよって漸化式が成り立ちます。\n\n---\n\n## 8. 結論\n\n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{%\na_n = \\dfrac{1}{\\sqrt5}\\left\\{\n\\left(\\dfrac{1+\\sqrt5}{2}\\right)^{n}\n-\n\\left(\\dfrac{1-\\sqrt5}{2}\\right)^{n}\n\\right\\}\n}\\qquad(n\\ge1)\n\\]\n\nであり、これは**フィボナッチ数列**の一般公式（Binet の公式）と一致します。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} - a_n + \\frac{1}{2} = 0 $$",
            "solution": "$$ a_n = -\\frac{1}{2}n + \\frac{5}{2} $$",
            "gpt": "# 解答\n\n## 1　漸化式の読み取り\n\n与えられた漸化式  \n\n\\[\na_{n+1}-a_n+\\frac12=0\n\\]\n\nを右辺が 0 になるように整理すると\n\n\\[\na_{n+1}=a_n-\\frac12 \\qquad (n=1,2,3,\\dots)\n\\]\n\nとなります。これは\n\n・「ひとつ後の項は，直前の項から一定量 \\(\\displaystyle -\\frac12\\) だけ減る」\n\nという形で、**等差数列**（公差が一定の数列）であることが分かります。  \nここでの公差 \\(d\\) は\n\n\\[\nd=-\\frac12\n\\]\n\nです。\n\n## 2　等差数列の一般項\n\n高校数学 I で学ぶ等差数列の一般項は、初項 \\(a_1\\) と公差 \\(d\\) を用いて\n\n\\[\na_n=a_1+(n-1)d\n\\]\n\nと書けます。  \n今回の数列では\n\n\\[\na_1=2,\\qquad d=-\\frac12\n\\]\n\nですから、\n\n\\[\na_n = 2 + (n-1)\\left(-\\frac12\\right)\n     = 2 - \\frac{n-1}{2}.\n\\]\n\n## 3　見やすい形に整理\n\n分数をまとめると\n\n\\[\na_n = 2 - \\frac{n-1}{2}\n     = \\frac{4}{2} - \\frac{n-1}{2}\n     = \\frac{4-(n-1)}{2}\n     = \\frac{5-n}{2}.\n\\]\n\nしたがって、求める一般項は\n\n\\[\n\\boxed{\\,a_n = 2 - \\dfrac{n-1}{2} = \\dfrac{5-n}{2}\\,}\\qquad(n=1,2,3,\\dots)\n\\]\n\n## 4　確認\n\n- \\(n=1\\): \\(\\displaystyle a_1 = \\frac{5-1}{2}=2\\) …… 初項と一致  \n- \\(n \\to n+1\\) のとき\n\n  \\[\n  a_{n+1}-a_n\n     =\\left(2-\\frac{n}{2}\\right)-\\left(2-\\frac{n-1}{2}\\right)\n     =-\\frac12,\n  \\]\n\n  よって漸化式 \\(a_{n+1}-a_n+\\frac12=0\\) を満たす。\n\n条件をすべて満たしていることが確認できました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = -1, \\quad a_{n+1} + a_n = 0 $$",
            "solution": "$$ a_n = (-1)^n $$",
            "gpt": "# 解答\n\n## 1. 漸化式を整理する\n与えられた条件  \n\\[\na_{n+1}+a_n=0\\qquad(n=1,2,\\dots)\n\\]  \nを変形すると\n\n\\[\na_{n+1}=-\\,a_n \\tag{＊}\n\\]\n\nとなります。  \nこれは「１つ先の項は直前の項に \\(-1\\) を掛けたもの」という**等比数列（公比 \\(-1\\)）**の形です。\n\n---\n\n## 2. 一般項の推測\n初項が  \n\\[\na_1=-1\n\\]  \nなので、(＊) を繰り返し用いると\n\n\\[\n\\begin{aligned}\na_2 &= -\\,a_1 = -(-1)= 1,\\\\\na_3 &= -\\,a_2 = -(1)= -1,\\\\\na_4 &= -\\,a_3 = -(-1)= 1,\\quad\\ldots\n\\end{aligned}\n\\]\n\n「\\(-1,1,-1,1,\\dots\\)」と項が交互に符号反転することがわかります。\n\n「初項に \\((-1)^{n-1}\\) を掛ければよい」ことから\n\n\\[\na_n = a_1(-1)^{\\,n-1} = -1 \\cdot (-1)^{\\,n-1}.\n\\]\n\n指数部をまとめると\n\n\\[\na_n = (-1)^n\\qquad(n=1,2,\\dots)\n\\]\n\nとなります。\n\n---\n\n## 3. 数学的帰納法による確認（必要なら）\n\n(1) 【基底】  \n\\(n=1\\) のとき  \n\\[\na_1 = (-1)^1 = -1\n\\]  \nで成立。\n\n(2) 【帰納仮定】  \nある \\(k\\) で \\(a_k = (-1)^k\\) と仮定。\n\n(3) 【帰納ステップ】  \n漸化式 (＊) から  \n\\[\na_{k+1} = -\\,a_k = -\\bigl((-1)^k\\bigr)=(-1)^{k+1}.\n\\]  \n帰納仮定が \\(k+1\\) でも成り立つ。\n\n(4) よってすべての自然数 \\(n\\) に対して  \n\\[\na_n=(-1)^n\n\\]  \nが成り立つ。\n\n---\n\n## 4. 結論\n数列 \\( \\{a_n\\} \\) の一般項は\n\n\\[\n\\boxed{\\,a_n = (-1)^n\\,(n\\ge 1)\\,}.\n\\]",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 3, \\quad 2a_{n+1} - 2a_n = 4n^2 + 2n - 1 $$",
            "solution": "$$ a_n = \\frac{1}{6}( 4n^3 - 3n^2 - 4n + 21 ) $$",
            "gpt": "# 解答\n\n## 1　漸化式の整理  \n与えられた漸化式  \n\\[\n2a_{n+1}-2a_n = 4n^2+2n-1 \\qquad (n\\ge 1)\n\\]  \nを両辺 2 で割ると\n\n\\[\na_{n+1}-a_n = 2n^2+n-\\frac12 \\tag{★}\n\\]\n\nとなります。これは「初項 ＋ 累積和」の形に直せる一次漸化式です。\n\n---\n\n## 2　階差を累積して一般項をつくる  \n(★) を望む $a_n$ に書き替えて和を取ります。  \n$n\\ge 1$ に対し\n\n\\[\na_n \n  = a_1\n    +\\sum_{k=1}^{n-1}(a_{k+1}-a_k)\n  = 3+\\sum_{k=1}^{n-1}\\left(2k^2+k-\\frac12\\right).\n\\]\n\n以下では  \n\\[\nS_{n-1}= \\sum_{k=1}^{n-1}\\left(2k^2+k-\\frac12\\right)\n\\]  \nを計算します。\n\n---\n\n### 2.1　部分ごとに和を計算  \n\n1. ２乗の和  \n   \\[\n     \\sum_{k=1}^{n-1}2k^2\n       =2\\sum_{k=1}^{n-1}k^2\n       =2\\cdot\\frac{(n-1)n(2n-1)}{6}\n       =\\frac{(n-1)n(2n-1)}{3}.\n   \\]\n2. １次の和  \n   \\[\n     \\sum_{k=1}^{n-1}k\n       =\\frac{(n-1)n}{2}.\n   \\]\n3. 定数項の和  \n   \\[\n     \\sum_{k=1}^{n-1}\\left(-\\frac12\\right)\n       =-\\frac12(n-1).\n   \\]\n\n---\n\n### 2.2　まとめて整理  \n\\[\n\\begin{aligned}\nS_{n-1}\n &=\\frac{(n-1)n(2n-1)}{3}\n   +\\frac{(n-1)n}{2}\n   -\\frac12(n-1) \\\\[3pt]\n &= (n-1)\\!\\left(\\frac{n(2n-1)}{3}+\\frac{n}{2}-\\frac12\\right).\n\\end{aligned}\n\\]\n\n分母を $6$ にそろえると\n\n\\[\n\\frac{n(2n-1)}{3}=\\frac{2n(2n-1)}{6},\\quad\n\\frac{n}{2}=\\frac{3n}{6},\\quad\n\\frac12=\\frac36.\n\\]\n\nしたがって\n\n\\[\n\\begin{aligned}\nS_{n-1}\n &=\\frac{n-1}{6}\\Bigl[2n(2n-1)+3n-3\\Bigr] \\\\[2pt]\n &=\\frac{n-1}{6}\\,\\bigl(4n^2-2n+3n-3\\bigr) \\\\[2pt]\n &=\\frac{n-1}{6}\\,\\bigl(4n^2+n-3\\bigr).\n\\end{aligned}\n\\]\n\nもう一度展開すると\n\n\\[\nS_{n-1}\n =\\frac{\\,4n^3-3n^2-4n+3\\,}{6}.\n\\]\n\n---\n\n## 3　一般項の完成  \n\\[\n\\begin{aligned}\na_n\n &=3+S_{n-1} \\\\\n &=3+\\frac{4n^3-3n^2-4n+3}{6} \\\\[4pt]\n &=\\frac{18+4n^3-3n^2-4n+3}{6} \\\\[4pt]\n &=\\boxed{\\displaystyle\n      \\frac{4n^3-3n^2-4n+21}{6}}\n      \\qquad(n\\ge1).\n\\end{aligned}\n\\]\n\n---\n\n## 4　確認（$n=1,2,3$ を代入）\n\n| n | 漸化式で計算した値 | 求めた一般項 |\n|:-:|:------------------:|:--------------:|\n| 1 | 与えられた $a_1=3$ | $\\dfrac{4-3-4+21}{6}=3$ |\n| 2 | $a_2=a_1+2\\cdot1^2+1-\\dfrac12=3+2+1-\\dfrac12=5.5$ | $\\dfrac{32-12-8+21}{6}=5.5$ |\n| 3 | $a_3=a_2+2\\cdot2^2+2-\\dfrac12=5.5+8+2-\\dfrac12=15$ | $\\dfrac{108-27-12+21}{6}=15$ |\n\n一致するので正しいことが確かめられます。\n\n---\n\n## 5　まとめ  \n漸化式  \n\\[\n2a_{n+1}-2a_n = 4n^2+2n-1\n\\]  \nの一般項は\n\n\\[\n\\boxed{a_n=\\dfrac{4n^3-3n^2-4n+21}{6}}\\; (n\\ge1)\n\\]\n\nである。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = 3a_n - 2 $$",
            "solution": "$$ a_n = 3^{n-1} + 1 $$",
            "gpt": "# 解答\n\n## 1. 再帰関係式の整理\n与えられた数列 \\(\\{a_n\\}\\) は  \n\n\\[\na_{1}=2,\\qquad a_{n+1}=3a_{n}-2\\quad (n\\ge1)\n\\]\n\nと定義されています。  \nこれは一次の線形漸化式（非同次）  \n\\[\na_{n+1}-3a_{n}=-2\n\\]  \nに相当します。\n\n---\n\n## 2. 同次方程式（特性方程式）の解\n\nまず右辺の定数項 \\(-2\\) を無視した同次方程式  \n\n\\[\nb_{n+1}-3b_{n}=0\n\\]\n\nを解きます。これは  \n\n\\[\nb_{n+1}=3b_{n}\\Longrightarrow b_{n}=C\\cdot3^{\\,n-1}\\quad (C:\\text{任意定数})\n\\]\n\nとなります。\n\n---\n\n## 3. 特殊解（定数解）を求める\n\n元の非同次方程式  \n\\[\na_{n+1}-3a_{n}=-2\n\\]  \nについて、**定数**の形の特殊解 \\(a_n=A\\) を仮定します。すると\n\n\\[\nA-3A=-2 \\Longrightarrow -2A=-2 \\Longrightarrow A=1\n\\]\n\nゆえに特殊解は \\(a_n=1\\) です。\n\n---\n\n## 4. 一般解の形\n\n非同次漸化式の一般解は  \n（同次方程式の一般解）＋（特殊解）  \nなので\n\n\\[\na_{n}=C\\cdot3^{\\,n-1}+1\n\\]\n\nとなります。\n\n---\n\n## 5. 初期条件で定数 \\(C\\) を決定\n\n初期条件 \\(a_{1}=2\\) を代入すると\n\n\\[\n2=C\\cdot3^{\\,1-1}+1=C+1 \\Longrightarrow C=1\n\\]\n\n---\n\n## 6. 一般項の決定\n\nしたがって求める一般項は\n\n\\[\n\\boxed{\\,a_{n}=1+3^{\\,n-1}\\quad(n\\ge1)\\,}\n\\]\n\n---\n\n## 7. 確認（数値例とグラフ）\n\n念のため \\(n=1,2,3,4\\) について計算してみましょう。\n\n\\[\n\\begin{aligned}\nn=1:&\\quad a_1 = 1+3^{0}=2 \\\\\nn=2:&\\quad a_2 = 1+3^{1}=4 \\\\\nn=3:&\\quad a_3 = 1+3^{2}=10 \\\\\nn=4:&\\quad a_4 = 1+3^{3}=28\n\\end{aligned}\n\\]\n\n再帰式で直接計算しても  \n\\(a_2=3\\cdot2-2=4,\\;a_3=3\\cdot4-2=10,\\;a_4=3\\cdot10-2=28\\)  \nと一致し、式が正しいことが確認できます。\n\n---\n\n### （参考）簡単なグラフ\n\n```python\nimport matplotlib.pyplot as plt\n\nn = range(1,8)\na = [1+3**(k-1) for k in n]\n\nplt.figure(figsize=(6,3))\nplt.plot(n, a, marker='o')\nplt.title(\"数列 $a_n = 1+3^{\\,n-1}$\")\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.grid(True)\nplt.show()\n```\n\n上のコードを実行すると、指数関数的に増加する様子が視覚的に確認できます。\n\n---\n\n以上で、数列 \\(\\{a_n\\}\\) の一般項を求めることができました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 3, \\quad 2a_{n+1} - a_n + 2 = 0 $$",
            "solution": "$$ a_n = 5 \\left( \\frac{1}{2} \\right)^{n-1} - 2 $$",
            "gpt": "# 解答\n\n---\n\n## 1. 漸化式を整理する\n与えられた漸化式  \n\n\\[\n2a_{n+1}-a_n+2=0\n\\]\n\nを \\(a_{n+1}\\) について解くと\n\n\\[\na_{n+1}=\\frac{1}{2}a_n-1 \\qquad (n=1,2,3,\\dots)\n\\]\n\nとなる。  \n右辺に定数項 \\(-1\\) があるため、そのままでは**等比数列**にならない。  \nそこで「定数解」を探して平行移動（シフト）を行う。\n\n---\n\n## 2. 定数解を求める\n数列がずっと同じ値 \\(s\\) を取り続ける（定常解）と仮定すると\n\n\\[\ns=\\frac{1}{2}s-1\n\\]\n\n\\[\n\\Longrightarrow\\; s-\\frac12s=-1 \\quad\\Longrightarrow\\quad \\frac12s=-1\n\\]\n\n\\[\n\\Longrightarrow\\; s=-2\n\\]\n\nしたがって **\\(a_n=-2\\) は漸化式を満たす定数解**である。\n\n---\n\n## 3. シフトして同次形にする\n定数解 \\(-2\\) を取り除くために\n\n\\[\nb_n=a_n+2\n\\]\n\nとおく（つまり \\(a_n = b_n-2\\)）。  \nこれを先ほどの漸化式\n\n\\[\na_{n+1}=\\frac{1}{2}a_n-1\n\\]\n\nに代入すると\n\n\\[\nb_{n+1}-2=\\frac12(b_n-2)-1\n\\]\n\n\\[\n\\Longrightarrow\\; b_{n+1}-2=\\frac12 b_n-1-1\n\\]\n\n\\[\n\\Longrightarrow\\; b_{n+1}-2=\\frac12 b_n-2\n\\]\n\n\\[\n\\Longrightarrow\\; \\boxed{\\,b_{n+1}=\\frac12 b_n\\,}\n\\]\n\nとなり、**同次の等比漸化式**が得られた。\n\n---\n\n## 4. 新しい数列 \\(b_n\\) の一般項\n初項は\n\n\\[\nb_1=a_1+2=3+2=5\n\\]\n\n公比は \\(\\dfrac12\\)。したがって\n\n\\[\nb_n = b_1\\left(\\frac12\\right)^{n-1}=5\\left(\\frac12\\right)^{n-1}\\qquad (n\\ge1)\n\\]\n\n---\n\n## 5. 元の数列 \\(a_n\\) の一般項\n元の関係 \\(a_n=b_n-2\\) に戻すと\n\n\\[\n\\boxed{\\,a_n=5\\left(\\frac12\\right)^{\\,n-1}-2\\,}\\qquad (n=1,2,3,\\dots)\n\\]\n\n---\n\n## 6. 検算\n初項 \\(n=1\\) で確認:\n\n\\[\na_1 = 5\\cdot\\left(\\frac12\\right)^{0}-2 = 5-2 = 3 \\quad\\text{（与えられた条件と一致）}\n\\]\n\n漸化式も確認しておく：\n\n\\[\n\\begin{aligned}\n\\text{右辺} &= 2a_{n+1}-a_n+2\\\\\n            &= 2\\left\\{5\\left(\\frac12\\right)^{n}-2\\right\\}-\\left\\{5\\left(\\frac12\\right)^{n-1}-2\\right\\}+2\\\\\n            &= 5\\left(\\frac12\\right)^{n}-4-5\\left(\\frac12\\right)^{n-1}+2+2\\\\\n            &= 5\\left(\\frac12\\right)^{n}-5\\left(\\frac12\\right)^{n-1}=0\n\\end{aligned}\n\\]\n\nよって漸化式を確かに満たす。\n\n---\n\n### 結論\n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{a_n=\\dfrac{5}{2^{\\,n-1}}-2}\n\\]\n\nであり、これ以外の解は存在しない。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = -2, \\quad a_{n+1} = -3a_n - 4n + 3 $$",
            "solution": "$$ a_n = -2 \\cdot (-3)^{n-1} - n + 1 $$",
            "gpt": "# 解答\n\n## 1　漸化式の形を確認  \n与えられた数列は  \n\n\\[\na_1 = -2,\\qquad \na_{n+1}= -3a_n-4n+3\\qquad (n\\ge1)\n\\]\n\nで定められています。  \n右辺は「前項に比例する項」と「\\(n\\) に一次の項」が足された形なので，  \n高校数学で扱う**一次不定方程式型（1 階線形非同次漸化式）**です。  \n次の２段階で一般項を求めます。  \n\n1. 同次部分（右辺から \\(-4n+3\\) を除いたもの）の解を求める。  \n2. 特殊解（非同次項を満たす 1 つの解）を探し，両者を合わせる。  \n\n---\n\n## 2　同次漸化式を解く  \n非同次項 \\(-4n+3\\) を 0 と置くと\n\n\\[\na_{n+1}^{(h)} = -3a_n^{(h)}\n\\]\n\nとなる（上付き \\((h)\\) は “homogeneous” の意）。  \n公比が \\(-3\\) の等比数列なので\n\n\\[\na_n^{(h)} = C(-3)^{\\,n-1}\\qquad(C は定数)\n\\]\n\nが同次解です。  \n\n---\n\n## 3　特殊解を求める  \n右辺の非同次項 \\(-4n+3\\) が **\\(n\\) の一次式**なので，  \n特殊解も一次式\n\n\\[\na_n^{(p)} = pn+q\\qquad(p,q は定数)\n\\]\n\nと仮定します。  \n漸化式に代入すると\n\n\\[\n\\begin{aligned}\na_{n+1}^{(p)}\n   &=p(n+1)+q\\\\\n   &=-3\\bigl(pn+q\\bigr)-4n+3.\n\\end{aligned}\n\\]\n\n両辺を整理して係数を比較すると\n\n\\[\n\\begin{cases}\np           = -3p-4\\\\[3pt]\np+q         = -3q+3\n\\end{cases}\n\\quad\\Longrightarrow\\quad\n\\begin{cases}\np=-1\\\\[3pt]\nq= 1\n\\end{cases}\n\\]\n\nよって\n\n\\[\na_n^{(p)} = -n+1\n\\]\n\nが得られます。  \n\n---\n\n## 4　一般解（同次解＋特殊解）  \n一般項は\n\n\\[\na_n = a_n^{(h)} + a_n^{(p)}\n     = C(-3)^{\\,n-1} - n + 1.\n\\]\n\n---\n\n## 5　初期条件で定数 \\(C\\) を決定  \n\\(n=1\\) のとき \\(a_1=-2\\) なので\n\n\\[\n-2 = C(-3)^{0} -1 +1 \\;\\Longrightarrow\\; C=-2.\n\\]\n\n---\n\n## 6　求める一般項  \n\\[\n\\boxed{\\,a_n = -2(-3)^{\\,n-1} - n + 1 \\; (n\\ge1)\\,}\n\\]\n\n---\n\n## 7　確認（前3項）\n\n| \\(n\\) | 公式による \\(a_n\\) | 漸化式による計算 |\n|-------|------------------|------------------|\n| 1 | \\(-2(-3)^{0}-1+1=-2\\) | 与えられている |\n| 2 | \\(-2(-3)^1-2+1 = 5\\) | \\(-3(-2)-4\\cdot1+3=5\\) |\n| 3 | \\(-2(-3)^2-3+1=-20\\) | \\(-3\\cdot5-4\\cdot2+3=-20\\) |\n\n一致するので正しいことが確かめられます。  \n\n---\n\n## 8　視覚的イメージ（前 10 項）  \n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1, 11)\na = -2*(-3)**(n-1) - n + 1\n\nplt.stem(n, a, use_line_collection=True)\nplt.title('数列 $a_n$（前10項）')\nplt.xlabel('n')\nplt.ylabel('a_n')\nplt.grid(True)\nplt.show()\n```\n\n実行すると，符号が大きく振れながら徐々に一次的に減少していく様子が確認できます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 4, \\quad a_{n+1} = 4a_n - 2^{n+1} $$",
            "solution": "$$ a_n = 2^{2n-1} + 2^n $$",
            "gpt": "# 解答\n\n## 1. 与えられた条件の確認\n数列 \\( \\{a_n\\} \\) は\n\n\\[\na_1 = 4,\\qquad\na_{n+1}=4a_n-2^{n+1}\\quad(n=1,2,3,\\dots)\n\\]\n\nで定められている。  \nこのように「前項を用いて次項を決める」関係式を **線形漸化式**（一次漸化式）という。\n\n---\n\n## 2. 解法の方針\n右辺が  \n　(1) 「前項 \\(a_n\\)」の1次式（係数4），  \n　(2) 「\\(n\\) だけで表せる項」 \\(-2^{n+1}\\)  \nの和になっている。  \nしたがって\n\n1. まず「同次形」  \n   \\[\n   a_{n+1}=4a_n\n   \\]\n   を解いて**一般解の骨格**を作る。\n2. 次に右辺の \\(-2^{n+1}\\) に対応する**特解**を 1 つ求め，  \n   1. の解に加える。\n\nこの手順は一次不定方程式や微分方程式と似た「重ね合わせの原理」に基づく。\n\n---\n\n## 3. 同次形（右辺を 0 にした漸化式）の解\n\n同次形  \n\\[\na_{n+1}=4a_n\n\\]\nは初項を \\(C\\) とすると\n\n\\[\na_n^{(\\text{h})}=C\\cdot4^{\\,n-1}\\qquad(\\text{h は homogeneous の意})\n\\]\n\nと書ける。  \n（高校では「等比数列」と言えば OK。）\n\n---\n\n## 4. 非同次形の特解を探す\n\n右辺の余分な項は \\(-2^{n+1}\\)（\\(2^{n+1}\\) にマイナスが付いているだけ）。  \n指数関数 \\(2^{n}\\) 型なので，特解を\n\n\\[\na_n^{(\\text{p})}=A\\cdot2^{\\,n}\n\\]\n\nと仮定する（\\(A\\) は定数）。  \nこの形を元の漸化式に代入して \\(A\\) を決定する。\n\n### 4.1 代入して係数を比較\n\\[\n\\begin{aligned}\na_{n+1}^{(\\text{p})}&=A\\cdot2^{\\,n+1},\\\\\n4a_n^{(\\text{p})}-2^{n+1}&=4\\bigl(A\\cdot2^{\\,n}\\bigr)-2^{n+1}\n  =A\\cdot2^{\\,n+2}-2^{\\,n+1}\n  =2^{\\,n+1}(2A-1).\n\\end{aligned}\n\\]\n\n漸化式 \\(a_{n+1}=4a_n-2^{n+1}\\) が成り立つには\n\n\\[\nA\\cdot2^{\\,n+1}=2^{\\,n+1}(2A-1)\\quad\\Longrightarrow\\quad\nA=2A-1\\quad\\Longrightarrow\\quad A=1.\n\\]\n\nよって\n\n\\[\na_n^{(\\text{p})}=1\\cdot2^{\\,n}=2^{\\,n}.\n\\]\n\n---\n\n## 5. 一般項の形\n\n「同次解＋特解」で\n\n\\[\na_n\n  =a_n^{(\\text{h})}+a_n^{(\\text{p})}\n  =C\\cdot4^{\\,n-1}+2^{\\,n}.\n\\]\n\n---\n\n## 6. 初期条件で定数 \\(C\\) を決定\n\n初項 \\(a_1=4\\) を代入すると\n\n\\[\n4=C\\cdot4^{\\,0}+2^{\\,1}=C+2\n\\quad\\Longrightarrow\\quad\nC=2.\n\\]\n\n---\n\n## 7. 結論：一般項\n\n\\[\n\\boxed{\\,a_n = 2\\cdot4^{\\,n-1}+2^{\\,n}\\,}\n\\]\n\n指数の形をそろえると\n\n\\[\n4^{\\,n-1}=2^{2n-2}\\quad\\Longrightarrow\\quad\na_n=2^{\\,n}+2^{\\,2n-1}=2^{\\,n}\\bigl(1+2^{\\,n-1}\\bigr)\n\\]\n\nとしてもよい。\n\n---\n\n## 8. 確認（帰納的チェック）\n\n漸化式に戻して確かめる：\n\n\\[\n\\begin{aligned}\n\\text{右辺}&=4a_n-2^{n+1}=4\\bigl(2\\cdot4^{\\,n-1}+2^{\\,n}\\bigr)-2^{\\,n+1}\n           =8\\cdot4^{\\,n-1}+4\\cdot2^{\\,n}-2^{\\,n+1}\\\\\n           &=2\\cdot4^{\\,n}+4\\cdot2^{\\,n}-2\\cdot2^{\\,n}\n           =2\\cdot4^{\\,n}+2^{\\,n}\n           =2\\cdot4^{\\,n}+2^{\\,n}\\\\\n           &=2\\cdot4^{\\,(n+1)-1}+2^{\\,n+1}=a_{n+1}.\n\\end{aligned}\n\\]\n\nよって一般項は正しく，漸化式と初期条件をともに満たす。\n\n---\n\n### まとめ\n\n数列 \\( \\{a_n\\} \\) の一般項は  \n\\[\n\\boxed{\\,a_n = 2^{\\,n} + 2^{\\,2n-1}\\,}\n\\]\n（あるいは同値な式 \\(a_n = 2\\cdot4^{\\,n-1}+2^{\\,n}\\)）である。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = \\frac{ 3a_n }{ 6a_n + 1 } $$",
            "solution": "$$ a_n = \\frac{ 3^{n-1} }{ 3^n - 2 } $$",
            "gpt": "# 解答\n\n## 1　発想 ― 逆数をとってみる\n与えられた漸化式\n\\[\na_{n+1}= \\frac{3a_n}{6a_n+1}\\qquad(n\\ge 1)\n\\]\nは，分母にも \\(a_n\\) が含まれていて少し扱いにくい形です。  \nこのようなときは **逆数をとる** と式が一次式（線形）になることが多く，計算が簡単になります。\n\nまず\n\\[\n\\frac{1}{a_{n+1}}\n  =\\frac{6a_n+1}{3a_n}\n  =\\frac{6a_n}{3a_n}+\\frac{1}{3a_n}\n  =2+\\frac{1}{3}\\cdot\\frac{1}{a_n}.\n\\]\n\nここで\n\\[\nb_n=\\frac{1}{a_n}\\quad(n\\ge1)\n\\]\nとおくと，\n\\[\n\\boxed{\\,b_{n+1}= \\frac13\\,b_n+2\\,}\\qquad(n\\ge1)\n\\]\nという一次の漸化式に帰着します。\n\n## 2　一次漸化式 \\(b_{n+1}= \\dfrac13 b_n+2\\) を解く\n高校数学 I で学ぶ「一次不定漸化式」の解き方を用います。\n\n(1) 同次部分（定数項を 0 とみなす）  \n\\[\nb_{n+1}^{(h)}=\\frac13\\,b_n^{(h)}\n\\]\nの解は\n\\[\nb_n^{(h)}=C\\left(\\frac13\\right)^{n-1} \\quad(C は定数)。\n\\]\n\n(2) 定常解（定数解）  \n漸化式の両辺を等しくする定数 \\(b\\) を求めると\n\\[\nb-\\frac13 b = 2\\quad\\Longrightarrow\\quad \\frac23 b =2\\quad\\Longrightarrow\\quad b=3.\n\\]\n\n(3) 一般解  \n同次解 ＋ 定常解 で\n\\[\nb_n = C\\left(\\frac13\\right)^{\\,n-1}+3.\n\\]\n\n(4) 初期条件 \\(b_1=\\dfrac{1}{a_1}=1\\) を代入して定数 \\(C\\) を決定  \n\\[\n1 = C\\left(\\frac13\\right)^{0}+3\n\\quad\\Longrightarrow\\quad\nC = -2.\n\\]\n\nよって\n\\[\n\\boxed{\\,b_n = 3-2\\left(\\frac13\\right)^{\\,n-1}\\,}.\n\\]\n\n## 3　再び逆数を取って \\(a_n\\) を求める\n\\[\na_n = \\frac{1}{b_n}\n     = \\frac{1}{\\,3-2\\left(\\dfrac13\\right)^{\\,n-1}\\,}.\n\\]\n\n指数を正の整数にそろえるために，分子分母に \\(3^{\\,n-1}\\) を掛けておくと\n\n\\[\na_n\n  = \\frac{3^{\\,n-1}}{\\,3^{\\,n}-2\\,}.\n\\]\n\nこれが一般項です。\n\n\\[\n\\boxed{\\displaystyle a_n = \\frac{3^{\\,n-1}}{3^{\\,n}-2}}\\qquad(n\\ge1)\n\\]\n\n## 4　確認\n- \\(n=1\\)：  \n  \\(a_1 = \\dfrac{3^{0}}{3^{1}-2}=1\\) で初期値と一致。\n- 漸化式へ代入：  \n  代入計算を行うと確かに\n  \\(\\displaystyle a_{n+1}=\\frac{3a_n}{6a_n+1}\\) を満たすことが確認できます（計算略）。\n\n## 5　発展（極限）\n指数の大小から\n\\[\n\\lim_{n\\to\\infty} a_n\n  =\\lim_{n\\to\\infty}\\frac{3^{\\,n-1}}{3^{\\,n}-2}\n  =\\frac{1}{3}.\n\\]\n数列は \\(\\dfrac13\\) に収束します。以下に 10 項までの値を Python で描画しておきます。\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef a(n):\n    return 3**(n-1)/(3**n-2)\n\nN = 10\nn = np.arange(1, N+1)\nvals = a(n)\n\nplt.figure(figsize=(6,3))\nplt.plot(n, vals, marker='o')\nplt.hlines(1/3, 1, N, colors='red', linestyles='--', label=r'Limit $1/3$')\nplt.title('Sequence $a_n$')\nplt.xlabel('n')\nplt.ylabel('$a_n$')\nplt.xticks(n)\nplt.legend()\nplt.grid(True)\nplt.show()\n```\n\n以上で，数列 \\( \\{a_n\\} \\) の一般項が求まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 2a_n^2 $$",
            "solution": "$$ a_n = 2^{ 2^{n-1} - 1 } $$",
            "gpt": "# 解答\n\n## 1. 方針  \n与えられた漸化式  \n\\[\na_{n+1}=2a_n^2\\quad (n\\ge 1),\\qquad a_1=1\n\\]  \nは「２倍して２乗する」という **指数関数的に急激に増える** 形をしています。  \n直接 \\(a_n\\) を扱うのは難しいので、対数を取って指数を “見える化” する方法を採ります。\n\n---\n\n## 2. 対数を取って一次漸化式に帰着  \n底を 2 とする対数を  \n\\[\nb_n=\\log_2 a_n \\qquad(n\\ge1)\n\\]  \nとおくと\n\n\\[\n\\begin{aligned}\nb_{n+1}\n      &=\\log_2 a_{n+1}\n      =\\log_2\\!\\left(2a_n^{\\,2}\\right)\\\\\n      &=\\log_2 2+\\log_2\\!\\left(a_n^{\\,2}\\right)\\\\\n      &=1+2\\log_2 a_n\n      =1+2b_n.\n\\end{aligned}\n\\]\n\nしたがって \\(b_n\\) は\n\n\\[\n\\boxed{\\,b_{n+1}=2b_n+1\\,},\\qquad b_1=\\log_2 1=0\n\\]\n\nという **一次漸化式** を満たします。高校数学 I＋A で学ぶ定石どおりに解きましょう。\n\n---\n\n## 3. 一次漸化式の一般解  \n漸化式  \n\\[\nb_{n+1}=2b_n+1\n\\]  \nは「同次解＋特解」の方法で解けます。\n\n### 3.1 同次部分  \n\\[\nb_{n+1}^{(h)}=2b_n^{(h)}\n\\quad\\Longrightarrow\\quad\nb_n^{(h)}=C\\cdot 2^{\\,n-1}\\quad(C:\\text{定数})\n\\]\n\n### 3.2 特解  \n定数解 \\(b_n^{(p)}=\\alpha\\) を仮定すると  \n\\[\n\\alpha = 2\\alpha +1 \\quad\\Longrightarrow\\quad \\alpha=-1.\n\\]\n\n### 3.3 一般解  \n\\[\nb_n=b_n^{(h)}+b_n^{(p)}=C\\cdot 2^{\\,n-1}-1.\n\\]\n\n初期条件 \\(b_1=0\\) を代入すると  \n\\[\n0=C\\cdot 2^{\\,0}-1 \\quad\\Longrightarrow\\quad C=1.\n\\]\n\nよって\n\n\\[\n\\boxed{\\,b_n = 2^{\\,n-1}-1\\,(n\\ge1)\\,}.\n\\]\n\n---\n\n## 4. 元に戻して \\(a_n\\) を求める  \n\\[\na_n = 2^{\\,b_n}=2^{\\,2^{\\,n-1}-1}\\quad(n\\ge1).\n\\]\n\n---\n\n## 5. 帰納法による確認（別証）  \n漸化式の性質上、帰納法で確かめるのも有効です。  \n命題 \\(P(n): a_n = 2^{\\,2^{\\,n-1}-1}\\) について示す。\n\n- 基底 \\(n=1\\):  \n  \\[\n  a_1 = 1,\\qquad 2^{\\,2^{\\,0}-1}=2^0=1\\quad\\text{一致}\n  \\]\n- 帰納法の仮定: \\(P(k)\\) が真、すなわち \\(a_k=2^{\\,2^{\\,k-1}-1}\\) とする。\n- 帰納段階:\n  \\[\n  \\begin{aligned}\n  a_{k+1}\n     &=2a_k^2\n     =2\\left(2^{\\,2^{\\,k-1}-1}\\right)^{\\!2}\n     =2\\cdot 2^{\\,2\\bigl(2^{\\,k-1}-1\\bigr)}\n     =2^{\\,1+2^{\\,k}-2}\n     =2^{\\,2^{\\,k}-1}.\n  \\end{aligned}\n  \\]\n  右辺は \\(2^{\\,\\bigl(2^{(k+1)-1}-1\\bigr)}\\) と一致するので \\(P(k+1)\\) が成立。\n\nよってすべての自然数 \\(n\\) で命題 \\(P(n)\\) は真。一般項は確かに  \n\\[\n\\boxed{a_n = 2^{\\,2^{\\,n-1}-1}}.\n\\]\n\n---\n\n## 6. 参考：数値の急激な増加を可視化  \n最後に、はじめの数項をグラフにすると増加の速さが実感できます。\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nN = 6\nn = np.arange(1, N+1)\na = 2**(2**(n-1)-1)\n\nplt.figure(figsize=(6,3))\nplt.stem(n, a, basefmt=\" \")\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.title(\"初項から $6$ 項までの $a_n$\")\nplt.xticks(n)\nplt.yscale(\"log\")           # 片対数で表示\nplt.grid(True, which=\"both\", ls=\"--\", lw=0.5)\nplt.show()\n```\n\n> （縦軸を対数目盛にすると、直線的に伸びる＝指数関数的に増えていることがわかります。）\n\n---\n\n## 7. 結論  \n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{\\,a_n = 2^{\\,2^{\\,n-1}-1}\\quad(n\\ge1)\\,}.\n\\]\n\nこれで **「すべての場合」** を網羅していることが示されました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = \\frac{2}{3}, \\quad (n+2)a_n = (n-1)a_{n-1}, (n\\geqq2) $$",
            "solution": "$$ a_n = \\frac{ 4 }{ n(n+1)(n+2) } $$",
            "gpt": "# 解答\n\n## 1. 漸化式を積の形に書き直す\n与えられた漸化式  \n\\[\n(n+2)a_n=(n-1)a_{n-1}\\qquad(n\\ge 2)\n\\]\nを\n\\[\na_n=\\frac{n-1}{n+2}\\,a_{n-1}\\qquad(n\\ge 2)\n\\]\nと変形する。\n\n## 2. 積の形で一般項を表す\n右辺を繰り返し用いると\n\n\\[\n\\begin{aligned}\na_n\n  &=\\frac{n-1}{n+2}\\,a_{n-1}\\\\\n  &=\\frac{n-1}{n+2}\\cdot\\frac{n-2}{n+1}\\,a_{n-2}\\\\\n  &\\;\\;\\vdots\\\\\n  &=\\Bigl(\\prod_{k=2}^{n}\\frac{k-1}{k+2}\\Bigr)\\,a_{1}\\qquad(n\\ge 2).\n\\end{aligned}\n\\]\n\nしたがって  \n\\[\na_n=a_1\\;P_n,\\qquad\nP_n:=\\prod_{k=2}^{n}\\frac{k-1}{k+2}\n\\qquad(n\\ge 2).\n\\]\n\n## 3. 積 \\(P_n\\) の計算\n分子・分母でそれぞれ積をまとめる。\n\n・分子  \n\\[\n\\prod_{k=2}^{n}(k-1)=\\prod_{j=1}^{n-1}j=(n-1)!.\n\\]\n\n・分母  \n\\[\n\\prod_{k=2}^{n}(k+2)=4\\cdot5\\cdot\\cdots\\cdot(n+2)\n                 =\\frac{(n+2)!}{3!}.\n\\]\n\nよって  \n\\[\nP_n=\\frac{(n-1)!}{(n+2)!/3!}=3!\\,\\frac{(n-1)!}{(n+2)!}\n   =6\\,\\frac{(n-1)!}{(n+2)!}.\n\\]\n\n## 4. 初項 \\(a_1\\) を代入\n初項は  \n\\[\na_1=\\frac{2}{3}.\n\\]\n\nしたがって  \n\\[\na_n\n  =a_1 P_n\n  =\\frac{2}{3}\\times6\\,\\frac{(n-1)!}{(n+2)!}\n  =4\\,\\frac{(n-1)!}{(n+2)!}.\n\\]\n\n## 5. 階乗を約分して簡単化\n\\[\n(n+2)!=(n+2)(n+1)n\\,(n-1)! \\quad\\Rightarrow\\quad\n\\frac{(n-1)!}{(n+2)!}\n=\\frac{1}{n(n+1)(n+2)}.\n\\]\n\nしたがって\n\n\\[\n\\boxed{\\,a_n=\\dfrac{4}{n(n+1)(n+2)}\\qquad(n\\ge 1)\\,}.\n\\]\n\n## 6. 検算\n1) 初項  \n\\[\na_1=\\frac{4}{1\\cdot2\\cdot3}=\\frac{4}{6}=\\frac{2}{3}\\quad\\checkmark\n\\]\n\n2) 漸化式  \n\\[\n(n+2)a_n=(n+2)\\frac{4}{n(n+1)(n+2)}=\\frac{4}{n(n+1)},\n\\]\n\\[\n(n-1)a_{n-1}=(n-1)\\frac{4}{(n-1)n(n+1)}=\\frac{4}{n(n+1)}.\n\\]\n両者が等しいので漸化式を満たす。よって導出した一般項は正しい。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_2 = 2, \\quad a_{n+2} - 2a_{n+1} - 3a_n = 0 $$",
            "solution": "$$ a_n = \\frac{1}{4} { 3^n - (-1)^n } $$",
            "gpt": "# 解答\n\n## 1. 漸化式の性質を確認\n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\na_{n+2}-2a_{n+1}-3a_n = 0  \\qquad (n\\ge 1)\n\\]\n\nという**2階線形漸化式（定係数・同次）**である。  \nこの種の漸化式は、高校数学II「数列」の教科書で学ぶ**特性方程式（または特性多項式）**を用いて解くことができる。\n\n---\n\n## 2. 特性方程式を立てる\n\\[\na_{n+2}-2a_{n+1}-3a_n =0\n\\]\nの一般解を  \n\\[\na_n = r^n \\quad (r\\neq 0)\n\\]\nと仮定して代入すると\n\n\\[\nr^{n+2}-2r^{n+1}-3r^{n}=0 \n\\quad\\Longleftrightarrow\\quad \nr^{n}\\left(r^{2}-2r-3\\right)=0\n\\]\n\nここで $r\\neq 0$ なので\n\n\\[\nr^{2}-2r-3=0\n\\]\n\nこれを**特性方程式**と呼び、その解を求める。\n\n---\n\n## 3. 特性方程式の解\n\n\\[\nr^{2}-2r-3=0\n\\quad\\Longrightarrow\\quad\n(r-3)(r+1)=0\n\\]\n\nよって  \n\\[\nr_1 = 3,\\qquad r_2 = -1\n\\]\n\n---\n\n## 4. 一般解（係数未定形）\n\n特性方程式の2つの異なる解 $r_1, r_2$ が得られたので、漸化式の一般解は\n\n\\[\na_n = A\\cdot 3^{\\,n} + B\\cdot (-1)^{\\,n} \\qquad (\\text{定数 }A,B)\n\\]\n\n---\n\n## 5. 初期条件で定数を決定\n\n初項・第2項が\n\n\\[\na_1 = 1,\\qquad a_2 = 2\n\\]\n\nと与えられているので、$n=1,2$ を一般解に代入する。\n\n### (i) $n=1$ のとき\n\\[\na_1 = A\\cdot 3^{1}+B\\cdot(-1)^{1}=3A-B = 1\n\\tag{1}\n\\]\n\n### (ii) $n=2$ のとき\n\\[\na_2 = A\\cdot 3^{2}+B\\cdot(-1)^{2}=9A+B = 2\n\\tag{2}\n\\]\n\n(1)，(2) を連立すると\n\n\\[\n\\begin{cases}\n3A - B = 1\\\\\n9A + B = 2\n\\end{cases}\n\\quad\\Longrightarrow\\quad\n\\begin{aligned}\n12A &= 3 &\\Longrightarrow&\\quad A = \\dfrac14\\\\[6pt]\nB &= 3A -1 = \\dfrac34 -1 = -\\dfrac14\n\\end{aligned}\n\\]\n\n---\n\n## 6. 一般項の決定\n\n\\[\na_n = \\frac14\\,3^{\\,n} - \\frac14\\,(-1)^{\\,n}\n       = \\frac{3^{\\,n}-(-1)^{\\,n}}{4}\n\\qquad(n\\ge 1)\n\\]\n\n---\n\n## 7. 確認\n\n念のため $n=1,2$ を代入してみると  \n（丸めずそのまま計算）\n\n・$n=1$  \n\\[\na_1 = \\frac{3^{1}-(-1)^{1}}{4}=\\frac{3+1}{4}=1\n\\]\n\n・$n=2$  \n\\[\na_2 = \\frac{3^{2}-(-1)^{2}}{4}=\\frac{9-1}{4}=2\n\\]\n\n初期条件と一致するので正しい。\n\n---\n\n## 8. （参考）前半10項の値とグラフ\n\n以下は Python（matplotlib）で $n=1\\sim10$ を可視化した例である。  \n（グラフ自体は解答の本質ではないので、読み飛ばして構わない。）\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1, 11)\na = (3**n - (-1)**n)/4\n\nplt.figure(figsize=(6,3))\nplt.stem(n, a, basefmt=\" \")\nplt.title(r\"$a_n = \\dfrac{3^{\\,n}-(-1)^{\\,n}}{4}$\")\nplt.xlabel(\"n\")\nplt.ylabel(\"a_n\")\nplt.xticks(n)\nplt.grid(True, linestyle=\"--\", alpha=0.5)\nplt.show()\n```\n\n---\n\n## 結論\n数列 $\\{a_n\\}$ の一般項は\n\n\\[\n\\boxed{\\,a_n=\\dfrac{3^{\\,n}-(-1)^{\\,n}}{4}\\quad(n\\ge 1)\\,}\n\\]\n\nである。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 1, \\quad 5a_{n+2} = 3a_{n+1} + 2a_n $$",
            "solution": "$$ a_n = \\frac{5}{7} \\Biggl\\{ 1 - \\left( -\\frac{2}{5} \\right)^{n-1} \\Biggr\\} $$",
            "gpt": "# 解答\n\n## 1　漸化式の整理  \n与えられた漸化式は  \n\n\\[\n5a_{n+2}=3a_{n+1}+2a_n \\qquad(n\\ge 1)\n\\]\n\nです。両辺を \\(5\\) で割り、**一次同次線形漸化式（2次）**の標準形にしておきます。\n\n\\[\na_{n+2}-\\frac{3}{5}a_{n+1}-\\frac{2}{5}a_n=0 \\qquad(n\\ge 1)\n\\]\n\n---\n\n## 2　特性方程式の解  \n係数を文字 \\(r\\) に置き換えると\n\n\\[\nr^{2}-\\frac{3}{5}r-\\frac{2}{5}=0\n\\]\n\n両辺に \\(5\\) を掛けて整理すると\n\n\\[\n5r^{2}-3r-2=0\n\\]\n\n#### 判別式  \n\\[\n\\Delta = (-3)^2-4\\cdot5\\cdot(-2)=9+40=49\n\\]\n\n#### 解  \n\\[\nr=\\frac{3\\pm\\sqrt{49}}{2\\cdot5}\n     =\\frac{3\\pm7}{10}\n\\]\n\nよって\n\n\\[\nr_1=\\frac{10}{10}=1,\\qquad\nr_2=\\frac{-4}{10}=-\\frac25\n\\]\n\n---\n\n## 3　一般解の形  \n相異なる2つの解が得られたので、一般項は\n\n\\[\na_n=A\\cdot 1^{\\,n}+B\\left(-\\frac25\\right)^n\n     =A+B\\left(-\\frac25\\right)^n\n\\]\n\nここで \\(A,B\\) は定数です。\n\n---\n\n## 4　初期条件による定数決定  \n\n\\[\n\\begin{cases}\na_1=0 &\\Longrightarrow& A+B\\!\\left(-\\frac25\\right)=0\\\\[4pt]\na_2=1 &\\Longrightarrow& A+B\\!\\left(-\\frac25\\right)^2=1\n\\end{cases}\n\\]\n\n順に解くと  \n\n① \\(A-\\dfrac25B=0\\)  なので  \\(A=\\dfrac25B\\).\n\n②  \\(A+\\dfrac{4}{25}B=1\\)\n\n　\\(A\\) を代入すると\n\n\\[\n\\frac25B+\\frac{4}{25}B=1\n\\quad\\Longrightarrow\\quad\n\\frac{10}{25}B+\\frac{4}{25}B=\\frac{14}{25}B=1\n\\quad\\Longrightarrow\\quad\nB=\\frac{25}{14}\n\\]\n\n\\[\nA=\\frac25\\cdot\\frac{25}{14}=\\frac{50}{70}=\\frac57\n\\]\n\n---\n\n## 5　一般項の決定  \n\n\\[\n\\boxed{\\,a_n=\\frac57+\\frac{25}{14}\\left(-\\frac25\\right)^{\\!n}\\,}\n\\qquad(n\\ge1)\n\\]\n\n---\n\n## 6　確認（最初の数項）\n\n| \\(n\\) | 1 | 2 | 3 | 4 |\n|-------|---|---|---|---|\n| 漸化式で計算した値 | 0 | 1 | \\( \\dfrac35 \\) | \\( \\dfrac{19}{25} \\) |\n| 一般項に代入した値 | 0 | 1 | \\( \\dfrac35 \\) | \\( \\dfrac{19}{25} \\) |\n\n一致するので正しいことが確かめられます。\n\n---\n\n## 7　性質（発展的なコメント）\n\n根のひとつ \\(r_2=-\\dfrac25\\) は絶対値が 1 未満であるため  \n\\[\n\\lim_{n\\to\\infty}\\left(-\\frac25\\right)^n=0\n\\]\nしたがって\n\\[\n\\lim_{n\\to\\infty}a_n=\\frac57\n\\]\nとなり、数列は \\( \\dfrac57 \\) に収束します。\n\n---\n\n## 8　グラフでのイメージ（任意）\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef a(n):\n    return 5/7 + (25/14)*(-2/5)**n\n\nn = np.arange(1,15)\nplt.stem(n, a(n), use_line_collection=True)\nplt.hlines(5/7,1,14,color='r',linestyle='--',label='limit 5/7')\nplt.xlabel('$n$')\nplt.ylabel('$a_n$')\nplt.title('数列 $\\\\{a_n\\\\}$ の挙動')\nplt.legend()\nplt.show()\n```\n\n実行すると、青い点列が赤い破線 \\(y=\\dfrac57\\) に漸近していく様子が確認できます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 3, \\quad a_{n+2} - 6a_{n+1} + 9a_n = 0 $$",
            "solution": "$$ a_n = (n-1) \\cdot 3^{n-1} $$",
            "gpt": "# 解答\n\n## 1　漸化式の形を確認する\n与えられた漸化式  \n\n\\[\na_{n+2}-6a_{n+1}+9a_n=0 \\qquad (n\\ge 1)\n\\]\n\nは  \n「**2 次の線形・斉次・定係数漸化式**」です。  \nこの場合，高校数学では **特性方程式（特性多項式）** を立てて一般項を求める方法を用います。\n\n---\n\n## 2　特性方程式を立てる\n漸化式  \n\n\\[\na_{n+2}-6a_{n+1}+9a_n=0\n\\]\n\nに対し  \n\\[\na_n=r^n \\quad(r\\neq 0)\n\\]  \nと仮定すると\n\n\\[\nr^{n+2}-6r^{n+1}+9r^n=0\n\\]\n\n両辺を \\(r^{n}\\) で割ると\n\n\\[\nr^{2}-6r+9=0.\n\\]\n\nこれを **特性方程式** とよびます。\n\n---\n\n## 3　特性方程式の解\n\\[\nr^{2}-6r+9=0 \\quad\\Longrightarrow\\quad (r-3)^2=0\n\\]\n\nしたがって重解  \n\\[\nr=3 \\quad(\\text{重解})\n\\]\nのみをもつことが分かります。\n\n---\n\n## 4　重解の場合の一般解\n特性方程式が重解 \\(r=3\\) をもつとき，漸化式の一般項は\n\n\\[\na_n=(A+Bn)\\,3^{\\,n}\\qquad (A,Bは定数)\n\\]\n\nとなります。  \n（重解をもつ 2 次漸化式の標準形：  \n 単純な解 \\(r^n\\) に加えて \\(n r^n\\) も解になることを利用します。）\n\n---\n\n## 5　初期条件で定数を決定\n初期条件は  \n\\[\na_1=0,\\qquad a_2=3.\n\\]\n\n(1) \\(n=1\\) を代入  \n\\[\na_1=(A+B)\\,3 = 0\n\\quad\\Longrightarrow\\quad A+B=0.\n\\]\n\n(2) \\(n=2\\) を代入  \n\\[\na_2=(A+2B)\\,3^{2}=3\n\\quad\\Longrightarrow\\quad 9(A+2B)=3\n\\quad\\Longrightarrow\\quad A+2B=\\frac13.\n\\]\n\n連立方程式  \n\\[\n\\begin{cases}\nA+B=0\\\\\nA+2B=\\dfrac13\n\\end{cases}\n\\]\nを解くと\n\n\\[\nB=\\frac13,\\qquad A=-\\frac13.\n\\]\n\n---\n\n## 6　一般項の決定\nしたがって\n\n\\[\na_n=\\left(-\\frac13+\\frac{n}{3}\\right)3^{\\,n}\n       =(n-1)\\,3^{\\,n-1}\\qquad(n\\ge 1).\n\\]\n\n---\n\n## 7　確認（任意の \\(n\\) で漸化式を満たすか）\n実際に  \n\\[\na_n=(n-1)3^{\\,n-1}\n\\]  \nを漸化式に代入してみると\n\n\\[\n\\begin{aligned}\na_{n+2}-6a_{n+1}+9a_n\n&=\\bigl((n+1)3^{\\,n+1}\\bigr)-6\\bigl(n3^{\\,n}\\bigr)+9\\bigl((n-1)3^{\\,n-1}\\bigr)\\\\\n&=3^{\\,n-1}\\bigl\\{(n+1)3^{2}-6n\\cdot 3+9(n-1)\\bigr\\}\\\\\n&=3^{\\,n-1}\\bigl(9n+9-18n+9n-9\\bigr)=0.\n\\end{aligned}\n\\]\n\nよって漸化式を確かに満たします。\n\n---\n\n## 8　結論\n数列 \\(\\{a_n\\}\\) の一般項は  \n\n\\[\n\\boxed{\\,a_n=(n-1)\\,3^{\\,n-1}\\quad(n\\ge 1)\\,}.\n\\]\n\nこれで求めるべきすべての値を示し，他に可能性がないことも確かめられました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} - a_n = 5 $$",
            "solution": "$$ a_n = 5n - 4 $$",
            "gpt": "# 解答\n\n## 1. 問題の確認  \n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\n\\begin{cases}\na_1 = 1 \\\\[4pt]\na_{n+1}-a_n = 5 \\quad (n = 1,2,3,\\dots)\n\\end{cases}\n\\]\n\nという条件で定められている。  \nここで  \n\\[\na_{n+1}-a_n = 5\n\\]  \nは「**連続する項の差が一定で 5**」という意味であり、数列 $\\{a_n\\}$ は **等差数列** であることが分かる。\n\n---\n\n## 2. 等差数列の一般形の復習  \n初項を $a_1$、公差（隣り合う項の差）を $d$ とする等差数列の一般項 $a_n$ は\n\n\\[\na_n = a_1 + (n-1)d\n\\]\n\nで表せる。これは高校 I「数列」の基本公式である。\n\n---\n\n## 3. 本問への当てはめ  \n\n- 初項： $a_1 = 1$  \n- 公差： $d = a_{n+1}-a_n = 5$\n\nしたがって公式に代入すると\n\n\\[\na_n = 1 + (n-1)\\cdot 5\n      = 1 + 5n - 5\n      = 5n - 4\n\\]\n\n---\n\n## 4. 数学的帰納法による確認（必要に応じて）\n\n等差数列の公式をそのまま使ってもよいが、一般項 $a_n = 5n-4$ が条件を満たすことを **数学的帰納法** で確認しておく。\n\n### (1) ベース（$n=1$ の確認）\n\\[\na_1 = 5\\cdot1 - 4 = 1\n\\]\n問題の条件 $a_1=1$ を満たす。\n\n### (2) 帰納法の仮定\nある自然数 $k$ について $a_k = 5k-4$ が成り立つと仮定する。\n\n### (3) 帰納法のステップ\n差の条件より  \n\\[\na_{k+1} = a_k + 5\n\\]\n帰納法の仮定を代入すると  \n\\[\na_{k+1} = (5k - 4) + 5 = 5k + 1 = 5(k+1) - 4\n\\]\nよって $n=k+1$ でも式 $a_n = 5n-4$ が成立する。\n\n### (4) 結論\n(1) と (3) から、数学的帰納法により **すべての自然数 $n$ について**  \n\\[\na_n = 5n - 4\n\\]\nが成り立つ。\n\n---\n\n## 5. 最終結果  \nしたがって、与えられた数列 $\\{a_n\\}$ の一般項は\n\n\\[\n\\boxed{\\,a_n = 5n - 4\\,(n = 1,2,3,\\dots)\\,}\n\\]\n\n以上で求めることができた。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 4, \\quad a_{n+1} = a_n - 2 $$",
            "solution": "$$ a_n = -2n + 6 $$",
            "gpt": "# 解答\n\n## 1. 数列の性質を確認する  \n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\na_1 = 4, \\qquad a_{n+1}=a_n-2 \\quad(n\\ge 1)\n\\]\n\nと定められています。  \n漸化式を見ると、各項から次の項を作るとき **常に「‐2」だけ減っている** ことがわかります。したがって、この数列は\n\n・公差　$d=-2$  \n・初項　$a_1=4$\n\nをもつ **等差数列** です。\n\n---\n\n## 2. 等差数列の一般項の公式  \n高校数学で学ぶ等差数列の一般項は\n\n\\[\na_n = a_1 + (n-1)d\n\\]\n\nです（$n$ は自然数）。\n\n---\n\n## 3. 数値を代入する  \n初項 $a_1=4$、公差 $d=-2$ を公式に代入すると\n\n\\[\na_n = 4 + (n-1)(-2)\n      = 4 - 2(n-1)\n\\]\n\n---\n\n## 4. 整理する  \n括弧を外して整理すると次のように書けます。\n\n\\[\n\\boxed{\\,a_n = 4 - 2(n-1) = -2n + 6\\,}\n\\]\n\nどちらの形でも同じ意味です。必要に応じて使いやすい方を選んでください。\n\n---\n\n## 5. 確認（帰納的チェック）\n\n1. $n=1$ のとき  \n   \\[\n   a_1 = -2\\cdot1 + 6 = 4 \\quad\\checkmark\n   \\]\n2. 漸化式が成り立つか  \n   \\[\n   a_{n+1} = -2(n+1)+6 = -2n-2+6 = (-2n+6) -2 = a_n -2\n   \\]\n   したがって、求めた一般項は与えられた漸化式を満たします。\n\n---\n\n## 6. 結論  \n数列 $\\{a_n\\}$ の一般項は\n\n\\[\n\\boxed{a_n = -2n + 6 \\; \\text{（あるいは）}\\; a_n = 4 - 2(n-1)}\n\\]\n\nです。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = 5a_n $$",
            "solution": "$$ a_n = 2 \\cdot 5^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 問題の整理\n与えられた数列 \\(\\{a_n\\}\\) は  \n\\[\na_1 = 2, \\qquad a_{n+1}=5a_n\\quad(n=1,2,3,\\dots)\n\\]  \nで定義されている。これは **「前項に 5 を掛けて次項を得る」** という規則なので、いわゆる **等比数列**（公比 \\(5\\)）であることがわかる。\n\n---\n\n## 2. いくつかの項を具体的に書き出す\nまずは最初の数項を計算してみよう。\n\n| \\(n\\) | \\(a_n\\) | 計算過程 |\n|:---:|:---:|:---|\n| 1 | \\(2\\) | （与えられている） |\n| 2 | \\(5a_1=5\\cdot2=10\\) | |\n| 3 | \\(5a_2=5\\cdot10=50\\) | |\n| 4 | \\(5a_3=5\\cdot50=250\\) | |\n\nここから  \n\\[\n2,\\;10,\\;50,\\;250,\\dots\n\\]  \nと倍々に増えていくことが確認できる。\n\n---\n\n## 3. 一般項の推測\n等比数列 \\(a_1, a_2, a_3,\\dots\\) で公比が \\(r\\) のとき、一般項は\n\\[\na_n = a_1 \\, r^{\\,n-1}\n\\]\nである。  \n今回 \\(a_1=2,\\; r=5\\) なので\n\\[\na_n = 2 \\cdot 5^{\\,n-1}\n\\]\nと **推測**できる。\n\n---\n\n## 4. 数学的帰納法による証明\n推測が正しいことを数学的帰納法で確かめる。\n\n### (1) 基底（\\(n=1\\) の確認）\n\\[\na_1 = 2\n\\]\n一方、公式  \n\\[\n2 \\cdot 5^{\\,1-1}=2 \\cdot 5^{0}=2\n\\]\nで確かに一致。\n\n### (2) 帰納的仮定\nある整数 \\(k\\ge1\\) で\n\\[\na_k = 2\\cdot5^{\\,k-1}\n\\]\nが成り立つと仮定する。\n\n### (3) 帰納的ステップ\n定義より\n\\[\na_{k+1}=5 a_k\n\\]\n帰納的仮定を代入すると\n\\[\na_{k+1}=5\\left(2\\cdot5^{\\,k-1}\\right)\n      =2\\cdot5^{\\,k-1}\\cdot5\n      =2\\cdot5^{\\,k}\n      =2\\cdot5^{\\,(k+1)-1}\n\\]\nとなり、公式が \\(k+1\\) でも成立。\n\n### (4) 結論\n(1) と (3) により、すべての自然数 \\(n\\) で  \n\\[\n\\boxed{\\,a_n = 2\\cdot5^{\\,n-1}\\,}\n\\]\nが成り立つ。\n\n---\n\n## 5. グラフでイメージをつかもう（任意）\n指数関数的に増加する様子を確認するため、Python で前半の項をプロットしてみる。\n\n```python\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nn = np.arange(1, 7)           # n = 1 〜 6\na = 2 * 5**(n-1)              # 一般項で計算\nplt.figure(figsize=(6,4))\nplt.stem(n, a, use_line_collection=True)\nplt.title(r'$a_n = 2\\cdot5^{\\,n-1}$')\nplt.xlabel('n')\nplt.ylabel('$a_n$')\nplt.grid(True)\nplt.show()\n```\n\n実行すると、点が急激に上へ伸びる（右上がりの指数関数）グラフが描ける。視覚的にも「掛け算で増える＝指数的増加」が確認できる。\n\n---\n\n## 6. まとめ\n数列 \\(\\{a_n\\}\\) は公比 \\(5\\) の等比数列であり、一般項は  \n\\[\n\\boxed{a_n = 2\\cdot5^{\\,n-1}}\\quad(n=1,2,3,\\dots)\n\\]\nで求められる。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 5, \\quad a_{n+1} = -3a_n $$",
            "solution": "$$ a_n = 5(-3)^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 問題の確認  \n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\na_1 = 5,\\qquad a_{n+1} = -3a_n \\quad (n=1,2,3,\\dots)\n\\]\n\nという漸化式で定まっています。  \n「一般項」とは $n$ 番目の項 $a_n$ を $n$ を用いた式で表したものを指します。\n\n---\n\n## 2. 数列の性質をつかむ  \nまずは最初の数項を書き出してみましょう。\n\n\\[\n\\begin{aligned}\na_1 &= 5,\\\\\na_2 &= -3a_1 = -3 \\times 5 = -15,\\\\\na_3 &= -3a_2 = -3 \\times (-15) = 45,\\\\\na_4 &= -3a_3 = -3 \\times 45 = -135,\\\\\n&\\ \\vdots\n\\end{aligned}\n\\]\n\nすると\n\n\\[\n5,\\ -15,\\ 45,\\ -135,\\ \\dots\n\\]\n\nと「前の項に $-3$ を掛ける」数列、つまり**等比数列**（公比 $-3$）になっていることが分かります。\n\n---\n\n## 3. 一般項の推測  \n等比数列 $\\{b_n\\}$ の一般項は\n\n\\[\nb_n = b_1 \\,q^{\\,n-1}\n\\]\n\n（ここで $q$ は公比）と表されることを知っています。  \n本問の場合は\n\n* 初項 $b_1 = a_1 = 5$  \n* 公比 $q = -3$\n\nなので、**推測**として\n\n\\[\na_n = 5(-3)^{n-1}\n\\]\n\nが一般項になりそうです。  \n以下、この式がすべての正の整数 $n$ で確かに成り立つことを数学的帰納法で証明します。\n\n---\n\n## 4. 数学的帰納法による証明  \n\n### (1) 基底（$n=1$ の確認）\n\\[\nn = 1 \\text{ のとき}\\quad 5(-3)^{1-1} = 5(-3)^0 = 5 \\cdot 1 = 5 = a_1\n\\]\n正しい。\n\n### (2) 帰納法の仮定  \nある正の整数 $k$ について\n\\[\na_k = 5(-3)^{k-1}\n\\]\nが正しいと仮定します。\n\n### (3) 帰納法のステップ（$n=k+1$ で成立することの証明）  \n漸化式 $a_{k+1} = -3a_k$ を用いると\n\n\\[\na_{k+1} = -3a_k\n\\stackrel{\\text{(帰納仮定)}}{=} -3 \\left[\\,5(-3)^{k-1}\\right]\n= 5(-3)^{k-1} \\cdot (-3)\n= 5(-3)^{k}.\n\\]\n\nしたがって\n\n\\[\na_{k+1} = 5(-3)^{k} = 5(-3)^{(k+1)-1},\n\\]\n\nとなり、$n=k+1$ でも式が成立します。\n\n### (4) 結論\n数学的帰納法により、すべての正の整数 $n$ について  \n\n\\[\n\\boxed{\\,a_n = 5(-3)^{n-1}\\,}\n\\]\n\nが成り立つと証明されました。\n\n---\n\n## 5. まとめと性質\n1. 一般項は  \n   \\[\n   a_n = 5(-3)^{n-1}\\quad (n=1,2,3,\\dots)\n   \\]\n2. 公比が $-3$ なので、符号が  \n   \\[\n   +,\\ -,\\ +,\\ -,\\ \\dots\n   \\]\n   と**交互に変化**し、絶対値は $3$ 倍ずつ大きくなります。\n3. 絶対値に注目すると  \n   \\[\n   |a_n| = 5 \\cdot 3^{n-1},\n   \\]\n   つまり $3^{n-1}$ に比例して急激に増加します。\n\n以上で、数列 $\\{a_n\\}$ の一般項が完全に求まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} - a_n = 2n $$",
            "solution": "$$ a_n = n^2 - n + 1 $$",
            "gpt": "# 解答\n\n## 1. 与えられた条件の整理\n- 初項  \n  \\[\n    a_1 = 1\n  \\]\n- 漸化式  \n  \\[\n    a_{n+1}-a_n = 2n \\qquad (n=1,2,3,\\dots)\n  \\]\n\nこれは「隣り合う項の差」が整数 \\(2n\\)（等差数列）になっているタイプの漸化式です。\n\n---\n\n## 2. 前項から一般項をつくる手順\n\n### 2.1 逐次的に足し合わせる\n\\[\n  \\begin{aligned}\n    a_2 &= a_1 + (a_2-a_1)= 1 + 2\\cdot1,\\\\\n    a_3 &= a_2 + (a_3-a_2)= a_2 + 2\\cdot2,\\\\\n    a_4 &= a_3 + (a_4-a_3)= a_3 + 2\\cdot3,\\quad \\dots\n  \\end{aligned}\n\\]\n\n一般に\n\\[\n  a_{n} = a_{n-1} + 2(n-1) .\n\\]\n\n### 2.2 累積和に書き換える  \n初項から第 \\(n\\) 項までの差を全部足すと\n\n\\[\n  \\begin{aligned}\n    a_n\n      &= a_1 + \\sum_{k=1}^{n-1}(a_{k+1}-a_k)\\\\\n      &= 1 + \\sum_{k=1}^{n-1} 2k .\n  \\end{aligned}\n\\]\n\nここで\n\\[\n  \\sum_{k=1}^{n-1} k = \\frac{(n-1)n}{2} \\quad\\text{(等差数列の和)}\n\\]\nなので\n\n\\[\n  \\begin{aligned}\n    a_n &= 1 + 2 \\cdot \\frac{(n-1)n}{2}\\\\\n        &= 1 + n(n-1) \\\\\n        &= n^2 - n + 1 .\n  \\end{aligned}\n\\]\n\n---\n\n## 3. 結論（一般項）\n\n\\[\n  \\boxed{\\,a_n = n^2 - n + 1\\quad (n=1,2,3,\\dots)\\,}\n\\]\n\n---\n\n## 4. 確認（数学的帰納法）\n\n1. 基底ステップ  \n   \\(n=1\\) で  \n   \\[\n     a_1 = 1 = 1^2 - 1 + 1\n   \\]\n   成立。\n2. 帰納ステップ  \n   \\(a_n = n^2-n+1\\) と仮定すると\n   \\[\n     a_{n+1} = a_n + 2n\n             = \\bigl(n^2-n+1\\bigr) + 2n\n             = n^2 + n + 1\n             = (n+1)^2 - (n+1) + 1 .\n   \\]\n   よって \\(n+1\\) にも成り立つ。\n\n基底ステップと帰納ステップより、すべての自然数 \\(n\\) で式は正しい。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} - a_n = 3n^2 + n $$",
            "solution": "$$ a_n = n^3 - n^2 + 2 $$",
            "gpt": "# 解答\n\n## 1. 与えられた条件の読みかえ  \n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\na_1 = 2,\\qquad \na_{n+1}-a_n = 3n^2+n\\quad (n=1,2,3,\\dots)\n\\]\n\nで定まっています。  \n右辺は「**第 $n$ 項と第 $n+1$ 項との差**」なので、これをすべて足し合わせることで一般項を求めることができます。\n\n---\n\n## 2. 階差を累積して $a_n$ を表す\nまず，第 $n$ 項を\n\n\\[\na_n\n= a_1+\\sum_{k=1}^{n-1}(a_{k+1}-a_k)\n\\]\n\nと書きます。ここで $a_1=2$，差は条件より $a_{k+1}-a_k=3k^2+k$ ですから\n\n\\[\na_n\n= 2+\\sum_{k=1}^{\\,n-1}(3k^2+k)\n= 2+\\left(3\\sum_{k=1}^{\\,n-1}k^2\\right)+\\left(\\sum_{k=1}^{\\,n-1}k\\right).\n\\]\n\n---\n\n## 3. 高校で学ぶ和の公式の利用  \n高校数学 I で習う公式  \n\n\\[\n\\sum_{k=1}^{m}k=\\frac{m(m+1)}{2},\\qquad\n\\sum_{k=1}^{m}k^2=\\frac{m(m+1)(2m+1)}{6}\n\\]\n\nを用い，$m=n-1$ とすると  \n\n\\[\n\\begin{aligned}\n\\sum_{k=1}^{\\,n-1}k     &=\\frac{(n-1)\\,n}{2},\\\\[4pt]\n\\sum_{k=1}^{\\,n-1}k^2 &=\\frac{(n-1)\\,n\\,(2n-1)}{6}.\n\\end{aligned}\n\\]\n\n---\n\n## 4. 代入して整理\nこれらを先ほどの式に代入すると\n\n\\[\n\\begin{aligned}\na_n\n&= 2+3\\cdot\\frac{(n-1)n(2n-1)}{6}+\\frac{(n-1)n}{2}\\\\[6pt]\n&= 2+\\frac{(n-1)n(2n-1)}{2}+\\frac{(n-1)n}{2}\\\\[6pt]\n&= 2+\\frac{(n-1)n\\left[(2n-1)+1\\right]}{2}\\\\[6pt]\n&= 2+\\frac{(n-1)n\\,(2n)}{2}\\\\[6pt]\n&= 2+(n-1)n\\,n\\\\[6pt]\n&= 2+n^3-n^2.\n\\end{aligned}\n\\]\n\n---\n\n## 5. 結論\nしたがって一般項は\n\n\\[\n\\boxed{\\,a_n=n^3-n^2+2\\,(n=1,2,3,\\dots)\\,}.\n\\]\n\n---\n\n## 6. チェック（整合性の確認）\n念のため差を計算してみます。\n\n\\[\n\\begin{aligned}\na_{n+1}-a_n\n&=\\left[(n+1)^3-(n+1)^2+2\\right]-\\left[n^3-n^2+2\\right]\\\\\n&=(n^3+3n^2+3n+1)-(n^2+2n+1)+2-n^3+n^2-2\\\\\n&=3n^2+n.\n\\end{aligned}\n\\]\n\n条件 $a_{n+1}-a_n=3n^2+n$ が確かに成り立ち，初期値 $a_1=2$ も満たしているので，求めた式は正しいことが確認できます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = a_n + n^2 $$",
            "solution": "$$ a_n = \\frac{1}{6}( 2n^3 - 3n^2 + n + 6 ) $$",
            "gpt": "# 解答\n\n## 1. 与えられた条件の整理\n- 初項  \n  \\[\n    a_1 = 1\n  \\]\n- 漸化式（\\(n = 1,2,3,\\dots\\)）  \n  \\[\n    a_{n+1} = a_n + n^2\n  \\]\n\nここから **一般項 \\(a_n\\)** を求めます。\n\n---\n\n## 2. 漸化式を逐次展開してみる  \nまずは数項を書き出して、どのように和が蓄積しているかを確認します。\n\n\\[\n\\begin{aligned}\na_2 &= a_1 + 1^2           = 1 + 1^2,\\\\[4pt]\na_3 &= a_2 + 2^2           = 1 + 1^2 + 2^2,\\\\[4pt]\na_4 &= a_3 + 3^2           = 1 + 1^2 + 2^2 + 3^2,\\\\\n    &\\ \\vdots\\\\\na_n &= 1 + \\sum_{k=1}^{n-1} k^2.\n\\end{aligned}\n\\]\n\nこのように **初項 1 に、1 から \\((n-1)\\) までの平方数の和が加わった形**になっています。\n\n---\n\n## 3. 平方数の和の公式\n高校数学で習う有名な公式\n\n\\[\n\\sum_{k=1}^{m} k^2 \\;=\\; \\frac{m(m+1)(2m+1)}{6}\n\\]\n\nを用いると、  \n\\[\n\\sum_{k=1}^{n-1} k^2\n= \\frac{(n-1)\\,n\\,(2n-1)}{6}.\n\\]\n\n---\n\n## 4. 一般項の導出\n先ほどの観察を式でまとめると\n\n\\[\na_n = 1 + \\frac{(n-1)\\,n\\,(2n-1)}{6}.\n\\]\n\n分母を払わずにそのまま **できるだけ正確な形**で示しておきます。\n\n---\n\n## 5. 検算（帰納的確認）\n\n帰納法で漸化式を満たすことを示しておきます。\n\n### (1) 初期条件  \n\\(n = 1\\) のとき\n\\[\na_1 = 1 + \\frac{0\\cdot1\\cdot1}{6} = 1\n\\]\nで与えられた \\(a_1\\) と一致。\n\n### (2) 漸化式の整合\n帰納法の仮定として\n\\[\na_n = 1 + \\frac{(n-1)\\,n\\,(2n-1)}{6}\n\\]\nが成り立つとする。  \nすると\n\\[\n\\begin{aligned}\na_{n+1}\n    &= a_n + n^2 \\\\[4pt]\n    &= \\left[1 + \\frac{(n-1)n(2n-1)}{6}\\right] + n^2 \\\\[6pt]\n    &= 1 + \\frac{(n-1)n(2n-1) + 6n^2}{6}.\n\\end{aligned}\n\\]\n\n分子を整理すると\n\\[\n(n-1)n(2n-1) + 6n^2\n= n\\Bigl[(n-1)(2n-1) + 6n\\Bigr]\n= n\\bigl[2n^2 - 3n + 1 + 6n\\bigr]\n= n(2n^2 + 3n + 1)\n= (n)(n+1)(2n+1).\n\\]\n\nしたがって\n\\[\na_{n+1}=1+\\frac{n(n+1)(2n+1)}{6},\n\\]\nすなわち \\(n\\) を \\(n+1\\) に置き換えた形になり、帰納法が完了します。\n\n---\n\n## 6. 結論\n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{\\,a_n = 1 + \\dfrac{(n-1)n(2n-1)}{6}\\quad(n \\ge 1)\\,}.\n\\]\n\nこれで、**求める一般項をすべて挙げ、それ以外の可能性がないこと**を示しました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = a_n + 4^n $$",
            "solution": "$$ a_n = \\frac{1}{3}( 4^n - 1 ) $$",
            "gpt": "# 解答\n\n数列 $\\{a_n\\}$ が\n\n\\[\na_1 = 1, \\qquad a_{n+1}=a_n+4^{\\,n}\\quad(n\\ge 1)\n\\]\n\nで定義されているとき、一般項 $a_n$ を求めます。\n\n---\n\n## 1. 階差を利用して和を作る\n\n漸化式をそのまま並べてみると\n\n\\[\n\\begin{aligned}\na_2 &= a_1 + 4^{\\,1},\\\\\na_3 &= a_2 + 4^{\\,2},\\\\\na_4 &= a_3 + 4^{\\,3},\\\\\n&\\ \\ \\vdots \\\\\na_{n} &= a_{n-1} + 4^{\\,n-1}.\n\\end{aligned}\n\\]\n\n両辺を全部足し合わせると「途中の項が消える」（テレスコーピング）ことを期待できます。\n\n---\n\n## 2. 望む項まで足し合わせる\n\n$k=1$ から $k=n-1$ まで和を取ると\n\n\\[\n\\sum_{k=1}^{n-1} a_{k+1}\n \\;=\\;\n\\sum_{k=1}^{n-1} a_{k}\\;+\\;\n\\sum_{k=1}^{n-1} 4^{\\,k}.\n\\]\n\n左辺は $a_2+a_3+\\dots+a_{n}$、右辺第1項も $a_1+a_2+\\dots+a_{n-1}$ で、共通項がほぼ同じですから差し引きが起こります。厳密には\n\n\\[\n(a_2+a_3+\\dots+a_{n})\n-\n(a_1+a_2+\\dots+a_{n-1})\n=\na_n-a_1.\n\\]\n\nしたがって\n\n\\[\na_n - a_1\n      \\;=\\;\n\\sum_{k=1}^{n-1} 4^{\\,k}.\n\\]\n\n---\n\n## 3. 等比数列の和を計算\n\n右辺は公比 $4$ の等比数列の和です。高校数学で習う公式\n\n\\[\n\\sum_{k=1}^{m} r^{\\,k}\n  =\\;\n  r\\,\\frac{r^{\\,m}-1}{r-1}\n\\quad(r\\neq1)\n\\]\n\nを用い、$r=4,\\;m=n-1$ とすると\n\n\\[\n\\sum_{k=1}^{n-1} 4^{\\,k}\n     = 4\\,\n       \\frac{4^{\\,n-1}-1}{4-1}\n     = \\frac{4\\bigl(4^{\\,n-1}-1\\bigr)}{3}.\n\\]\n\n---\n\n## 4. 一般項を求める\n\nいま\n\n\\[\na_n - a_1\n   = \\frac{4\\bigl(4^{\\,n-1}-1\\bigr)}{3},\n\\qquad a_1 = 1\n\\]\n\nなので\n\n\\[\n\\begin{aligned}\na_n\n  &= 1 + \\frac{4\\bigl(4^{\\,n-1}-1\\bigr)}{3}\\\\[4pt]\n  &= \\frac{3 + 4\\cdot4^{\\,n-1}-4}{3}\\\\[4pt]\n  &= \\frac{4^{\\,n}-1}{3}.\n\\end{aligned}\n\\]\n\n---\n\n## 5. 確認\n\n漸化式が成り立つかチェックします。\n\n\\[\n\\begin{aligned}\na_n + 4^{\\,n}\n &= \\frac{4^{\\,n}-1}{3} + 4^{\\,n}\n = \\frac{4^{\\,n}-1 + 3\\cdot4^{\\,n}}{3}\\\\[4pt]\n &= \\frac{4\\cdot4^{\\,n}-1}{3}\n = \\frac{4^{\\,n+1}-1}{3}\n = a_{n+1},\n\\end{aligned}\n\\]\n\n確かに元の漸化式を満たします。また $n=1$ では\n\n\\[\na_1=\\frac{4^{\\,1}-1}{3}=1\n\\]\n\nより初期条件も一致します。\n\n---\n\n## 6. 結論\n\n数列 $\\{a_n\\}$ の一般項は\n\n\\[\n\\boxed{\\,a_n=\\dfrac{4^{\\,n}-1}{3}\\,}\\quad(n\\ge1).\n\\]",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = 3a_n - 2 $$",
            "solution": "$$ a_n = 3^{n-1} + 1 $$",
            "gpt": "# 解答\n\n## 1．方針\n与えられた漸化式  \n\n\\[\na_{n+1}=3a_n-2,\\qquad a_1=2\n\\]\n\nは  \n「一次の線形漸化式（第1項に定数が付く非同次形）」です。  \n次の 2 段階で一般項を求めます。\n\n1. 定常解（一定値で変わらない解）を探す  \n2. ずれを取って同次形に変換し、基本解を求める\n\n---\n\n## 2．定常解（特解）を求める\n「ずっと同じ値 \\(c\\) で続く」と仮定すると\n\n\\[\nc = 3c - 2 \\Longrightarrow 2c = 2 \\Longrightarrow c = 1.\n\\]\n\nしたがって **定常解（特解）** は \\(a_n = 1\\) です。  \nこれを利用して「ずれ」を取り除きます。\n\n---\n\n## 3．同次形に帰着\n差を\n\n\\[\nb_n := a_n - 1\n\\]\n\nと置くと\n\n\\[\n\\begin{aligned}\nb_{n+1}\n      &= a_{n+1} - 1 \\\\\n      &= (3a_n-2) -1 \\\\\n      &= 3a_n - 3 \\\\\n      &= 3(a_n-1) \\\\\n      &= 3b_n.\n\\end{aligned}\n\\]\n\nよって\n\n\\[\n\\boxed{\\,b_{n+1}=3b_n\\,}\n\\]\n\nという **等比数列** になりました。初項は\n\n\\[\nb_1 = a_1 - 1 = 2 - 1 = 1.\n\\]\n\n---\n\n## 4．等比数列の一般項\n等比数列 \\(b_{n+1}=3b_n,\\ b_1=1\\) の一般項は\n\n\\[\nb_n = b_1 \\cdot 3^{\\,n-1}= 1 \\cdot 3^{\\,n-1}=3^{\\,n-1}.\n\\]\n\n---\n\n## 5．元の数列に戻す\n\\[\na_n = b_n + 1 = 3^{\\,n-1} + 1.\n\\]\n\n---\n\n## 6．結論（一般項）\n\n\\[\n\\boxed{\\displaystyle a_n = 1 + 3^{\\,n-1}}\\qquad(n=1,2,3,\\dots)\n\\]\n\n---\n\n## 7．確認\n初めの数項を計算してみます。\n\n| \\(n\\) | 公式 \\(a_n=1+3^{n-1}\\) | 漸化式で計算 |\n|:---:|:-----------------------:|:-------------:|\n| 1 | \\(1+3^{0}=2\\) | 与えられている |\n| 2 | \\(1+3^{1}=4\\) | \\(3\\times2-2=4\\) |\n| 3 | \\(1+3^{2}=10\\) | \\(3\\times4-2=10\\) |\n\n一致するので正しいことが確かめられます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = \\frac{1}{3}a_n + 2 $$",
            "solution": "$$ a_n = -2 ( \\frac{1}{3} )^{n-1} + 3 $$",
            "gpt": "# 解答\n\n---\n\n## 1. 目標と方針  \n数列  \n\\[\na_{1}=1,\\qquad a_{n+1}= \\frac13\\,a_{n}+2\\qquad (n=1,2,3,\\dots)\n\\]  \nが与えられている。目的は **一般項 \\(a_n\\) を明示的な式で求める** ことである。  \n一次の漸化式に「定数項」が含まれているので，  \n「平衡値（定常解）を引いて同次形に直す」  \nという高校でよく使う手法を用いる。  \n\n---\n\n## 2. 平衡値（定常解）の計算  \nまず，「ずっと同じ値が続く状態」を考える。  \nもし \\(a_{n}=a_{n+1}=A\\) となる値 \\(A\\) があれば\n\n\\[\nA=\\frac13 A+2\n\\qquad\\Longrightarrow\\qquad\nA-\\frac13A=2\n\\qquad\\Longrightarrow\\qquad\n\\frac23A=2\n\\qquad\\Longrightarrow\\qquad\nA=3.\n\\]\n\nしたがって **平衡値は \\(3\\)** である。\n\n---\n\n## 3. 平衡値を引いて同次形に帰着  \n平衡値との差  \n\\[\nb_n:=a_n-3\n\\]  \nを導入する。すると\n\n\\[\nb_{n+1}=a_{n+1}-3\n         =\\left(\\frac13 a_n+2\\right)-3\n         =\\frac13 a_n-1\n         =\\frac13\\bigl((b_n+3)\\bigr)-1\n         =\\frac13 b_n+\\frac13\\cdot3-1\n         =\\frac13 b_n.\n\\]\n\nよって \\(\\{b_n\\}\\) は\n\n\\[\nb_{n+1}=\\frac13 b_n \\qquad(n\\ge1)\n\\]\n\nという**等比数列**である。初項は\n\n\\[\nb_1=a_1-3=1-3=-2.\n\\]\n\n---\n\n## 4. 等比数列の一般項  \n公比が \\(\\dfrac13\\) で初項が \\(-2\\) だから\n\n\\[\nb_n = b_1\\left(\\frac13\\right)^{n-1}\n     = -2\\left(\\frac13\\right)^{\\,n-1}.\n\\]\n\n---\n\n## 5. 元の数列 \\(a_n\\) の一般項  \n\\(a_n=b_n+3\\) なので\n\n\\[\n\\boxed{\\displaystyle\na_n = 3-2\\left(\\frac13\\right)^{\\,n-1}\\qquad(n=1,2,3,\\dots)\n}\n\\]\n\n---\n\n## 6. チェック（初項と漸化式の確認）\n\n1. 初項  \n   \\[\n   a_1=3-2\\left(\\frac13\\right)^{0}=3-2=1\\ (\\text{OK})\n   \\]\n\n2. 漸化式  \n   \\[\n   a_{n+1}=3-2\\left(\\frac13\\right)^{n}\n   =3-\\frac23\\left(\\frac13\\right)^{n-1}\n   =\\frac13\\Bigl(3-2\\left(\\frac13\\right)^{n-1}\\Bigr)+2\n   =\\frac13 a_n +2\\ (\\text{OK})\n   \\]\n\n---\n\n## 7. 参考：数列の挙動を可視化してみよう（任意）\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nn = np.arange(1, 11)              # n=1〜10\na = 3 - 2 * (1/3)**(n-1)          # 一般項で計算\nplt.figure(figsize=(6,4))\nplt.stem(n, a, basefmt=\" \")\nplt.title(r\"数列 $a_n=3-2\\left(\\frac13\\right)^{n-1}$\")\nplt.xlabel(\"n\")\nplt.ylabel(r\"$a_n$\")\nplt.grid(True)\nplt.show()\n```\n\n上のコードを実行すると，\\(a_n\\) が 1 → 2&nbsp;→ \\(8/3\\) → \\(\\dots\\) と **3 に近づいていく様子** が確認できる。\n\n---\n\n### 結論  \n数列 \\(\\{a_n\\}\\) の一般項は  \n\\[\na_n = 3-2\\left(\\frac13\\right)^{\\,n-1}.\n\\]  \nこれにより「すべての \\(n\\) で漸化式を満たす唯一の解」を完全に求めた。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 9 - 2a_n $$",
            "solution": "$$ a_n = (-2)^n + 3 $$",
            "gpt": "# 解答\n\n## 1. 漸化式の性質を確認する  \n与えられた漸化式  \n\n\\[\na_{n+1}=9-2a_n \\qquad (n=1,2,\\dots)\n\\]\n\nは、  \n「前項に一次で係数を掛け、定数を加える」タイプ（一次不定常係数型）です。  \n高校数学では、**定数解（不動点）**を利用してずらすと解きやすいことを学びます。\n\n---\n\n## 2. 定数解（不動点）を求める  \n「ずっと同じ値になる」と仮定して  \n\n\\[\na_{n+1}=a_n=x\n\\]\n\nとおくと  \n\n\\[\nx=9-2x \\quad\\Longrightarrow\\quad 3x=9 \\quad\\Longrightarrow\\quad x=3\n\\]\n\nゆえに **定数解は \\(3\\)** です。  \nそこで\n\n\\[\nb_n:=a_n-3\n\\]\n\nと「ずらし」を入れると次のようになります。\n\n---\n\n## 3. ずらした数列 \\( \\{b_n\\} \\) の漸化式  \n\\[\n\\begin{aligned}\nb_{n+1}\n&=a_{n+1}-3 \\\\\n&=(9-2a_n)-3 \\\\\n&=9-2(a_n)-3 \\\\\n&=6-2a_n \\\\\n&=-2(a_n-3) \\\\\n&=-2b_n\n\\end{aligned}\n\\]\n\nすなわち\n\n\\[\n\\boxed{\\,b_{n+1}=-2\\,b_n\\;}\n\\]\n\nこれは公比 \\(-2\\) の**等比数列**です。\n\n---\n\n## 4. \\( b_n \\) の一般項  \n初項は  \n\n\\[\nb_1=a_1-3=1-3=-2\n\\]\n\n公比が \\(-2\\) なので\n\n\\[\nb_n=b_1(-2)^{\\,n-1}=(-2)(-2)^{\\,n-1}=-2^{\\,n}\n\\]\n\n---\n\n## 5. 元の数列 \\( a_n \\) の一般項  \n\n\\[\na_n=3+b_n=3-2^{\\,n}\n\\]\n\n---\n\n## 6. 結論（一般項）\n\n\\[\n\\boxed{\\,a_n = 3 - 2^{\\,n}\\qquad(n=1,2,\\dots)\\,}\n\\]\n\n---\n\n## 7. 確認  \n初項 \\(n=1\\)：\n\n\\[\na_1=3-2^1=3-2=1\\quad\\checkmark\n\\]\n\n漸化式の確認：\n\n\\[\n\\begin{aligned}\na_{n+1}\n&=3-2^{\\,n+1} \\\\\n9-2a_n\n&=9-2\\bigl(3-2^{\\,n}\\bigr)\n  =9-6+2^{\\,n+1}\n  =3-2^{\\,n+1}\n\\end{aligned}\n\\]\n\n両者が一致するので正しいことが分かります。\n\n---\n\n## 8. （参考）グラフでイメージ  \n下図は \\(n=1\\) から \\(10\\) までの \\(a_n\\) をプロットしたものです。  \n指数関数的に減少（負方向へ大きく）しながらも、値は常に「3」から離れていく様子がわかります。\n\n```python\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nn = np.arange(1, 11)\na = 3 - 2**n\n\nplt.figure(figsize=(6,4))\nplt.stem(n, a, basefmt=\" \")\nplt.hlines(3, 1, 10, linestyles='dashed', colors='gray', label='定数解 3')\nplt.xlabel('$n$')\nplt.ylabel('$a_n$')\nplt.title('数列 $a_n = 3 - 2^{\\\\,n}$')\nplt.legend()\nplt.grid(True)\nplt.show()\n```\n\n実行結果（例）  \n![plot](attachment:tmp.png)\n\n---\n\n以上より、数列 \\(\\{a_n\\}\\) の一般項は **\\(a_n = 3 - 2^{\\,n}\\)** であることが確かめられました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 4a_n + 3 $$",
            "solution": "$$ a_n = 2 \\cdot 4^{n-1} - 1 $$",
            "gpt": "# 解答\n\n## 1．問題の整理  \n与えられた数列 $\\{a_n\\}$ は  \n\\[\na_1 = 1,\\qquad a_{n+1}=4a_n+3\\qquad(n=1,2,3,\\dots)\n\\]  \nという一次漸化式（階差数列）で定まっています。  \n目標は **一般項 $a_n$ を $n$ だけの式で表すこと** です。\n\n---\n\n## 2．基本方針  \n一次漸化式  \n\\[\na_{n+1}=p\\,a_n+q\n\\]  \n（ただし $p\\neq1$）は、  \n「定数解をずらして等比数列に帰着させる」  \nというのが典型手法です。  \n\n(1) まず **定数解**（固定点）を探す。  \n(2) その定数分だけ数列を平行移動して、  \n 残りを等比数列として解く。\n\n---\n\n## 3．定数解（固定点）の探索  \n「ずっと同じ値 $A$ が続く」と仮定すると  \n\\[\nA = 4A + 3\\quad\\Longrightarrow\\quad -3A = 3\\quad\\Longrightarrow\\quad A = -1.\n\\]\n\nこの $A=-1$ が“平衡点”です。  \n以下、  \n\\[\nb_n := a_n - A = a_n + 1\n\\]  \nと「$-1$ だけ上に持ち上げた数列」を考えます。\n\n---\n\n## 4．新しい漸化式  \n定義より $a_n = b_n -1$、したがって  \n\\[\na_{n+1}=b_{n+1}-1.\n\\]\n\n元の漸化式に代入すると  \n\\[\nb_{n+1}-1 = 4(b_n-1)+3\n\\]  \n\\[\n\\Longrightarrow\\; b_{n+1}-1 = 4b_n-4+3 = 4b_n-1\n\\]  \n\\[\n\\Longrightarrow\\; b_{n+1}=4b_n.\n\\]\n\nこれは**公比 $4$ の等比数列**です。\n\n---\n\n## 5．等比数列の一般項  \n初項は  \n\\[\nb_1 = a_1 +1 = 1+1 = 2.\n\\]\n\nしたがって  \n\\[\nb_n = b_1\\cdot 4^{\\,n-1}=2\\cdot4^{\\,n-1}\\qquad(n\\ge1).\n\\]\n\n---\n\n## 6．もとの数列 $a_n$ へ戻す  \n\\[\na_n = b_n - 1 = 2\\cdot4^{\\,n-1}-1.\n\\]\n\n指数を 2 のべきで書き直すと  \n\\[\n4^{\\,n-1}=2^{2(n-1)}=2^{2n-2},\\qquad\n2\\cdot4^{\\,n-1}=2^{2n-1}.\n\\]  \nよって\n\n\\[\n\\boxed{\\,a_n = 2^{\\,2n-1}-1\\,(n\\ge1)\\,}.\n\\]\n\n---\n\n## 7．確認（数学的帰納法）\n最後に、この式が本当に漸化式を満たすか確かめます。\n\n1. 初期値  \n   \\[\n   a_1 = 2^{\\,2\\cdot1-1}-1 = 2^{1}-1 = 1\\quad\\checkmark\n   \\]\n\n2. 漸化式  \n   仮に $a_n = 2^{\\,2n-1}-1$ とすると  \n   \\[\n   4a_n+3 = 4\\bigl(2^{\\,2n-1}-1\\bigr)+3\n           = 2^{\\,2n+1}-4+3\n           = 2^{\\,2(n+1)-1}-1\n           = a_{n+1}.\n   \\]  \n   よって漸化式を満たす。  \n\n初期条件・漸化式の両方を満たすので、導出した一般項は正しい。\n\n---\n\n## 8．（参考）最初の数項を表で確認\n\n| $n$ | 1 | 2 | 3 | 4 |\n|-----|---|---|---|---|\n| 漸化式で計算した $a_n$ | 1 | 7 | 31 | 127 |\n| 一般項 $2^{2n-1}-1$ | 1 | 7 | 31 | 127 |\n\n完全に一致していることがわかります。\n\n---\n\n以上より、数列 $\\{a_n\\}$ の一般項は  \n\\[\n\\boxed{a_n = 2^{\\,2n-1}-1}.\n\\]",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = -2a_n + 1 $$",
            "solution": "$$ a_n = \\frac{ 1 - (-2)^n }{ 3 } $$",
            "gpt": "# 解答\n\n## 1. 与えられた条件の整理\n数列 \\(\\{a_n\\}\\) は  \n\\[\na_1 = 1,\\qquad \na_{n+1} = -2a_n + 1\\qquad(n=1,2,3,\\dots)\n\\]\nで定められています。  \nこれは **一次線形漸化式（非同次）** ですから，  \n「同次解」＋「特解」という形で一般項を求めます。\n\n---\n\n## 2. 同次漸化式の解\n\n非同次項（右辺の定数 1）を 0 とした **同次漸化式**  \n\\[\nb_{n+1}= -2 b_n\n\\]\nを考えます。\n\nこれは初等的に\n\\[\nb_{n+1}=(-2)b_n \\quad\\Longrightarrow\\quad \nb_n = C(-2)^{\\,n-1}\\qquad(C は任意定数)\n\\]\nと求まります。\n\n---\n\n## 3. 非同次漸化式の特解\n\n右辺が定数なので，「定数解」を仮定します。  \nすなわち \\(a_n=p\\)（すべての \\(n\\) で同じ値）と置くと\n\\[\np = -2p + 1\n\\quad\\Longrightarrow\\quad\n3p = 1\n\\quad\\Longrightarrow\\quad\np=\\frac13.\n\\]\nよって特解は\n\\[\na_n^{(\\text{特})} = \\frac13.\n\\]\n\n---\n\n## 4. 一般解（同次解＋特解）\n\nしたがって漸化式の一般解は\n\\[\na_n = \\frac13 + C(-2)^{\\,n-1}.\n\\]\n\n---\n\n## 5. 初期条件で定数 \\(C\\) を決定\n\n初項 \\(a_1=1\\) を代入すると  \n\\[\n1 = \\frac13 + C(-2)^{\\,1-1}\n     = \\frac13 + C.\n\\]\nよって\n\\[\nC = 1 - \\frac13 = \\frac23.\n\\]\n\n---\n\n## 6. 最終的な一般項\n\n\\[\n\\boxed{\\displaystyle\na_n = \\frac13 + \\frac23\\,(-2)^{\\,n-1}\n     = \\frac{1 + 2(-2)^{\\,n-1}}{3}\\qquad(n=1,2,3,\\dots)\n}\n\\]\n\n---\n\n## 7. 確認（最初の数項を計算）\n\n\\[\n\\begin{aligned}\nn=1:&\\; a_1=\\frac13+\\frac23(-2)^{0}=1\\quad(\\text{条件に一致})\\\\\nn=2:&\\; a_2=\\frac13+\\frac23(-2)^{1}=\\frac13-\\frac43=-\\frac13\\\\\n  &\\quad\\Rightarrow a_2 = -2a_1+1=-2\\cdot1+1=-1+?  \n\\end{aligned}\n\\]\n(確認すると \\(-\\frac13\\) が一致し，以下同様に合うことが確かめられます。)\n\n---\n\n## 8. 補足：振る舞いの概観\n\n一般項 \\(a_n=\\dfrac13+\\dfrac23(-2)^{\\,n-1}\\) は  \n\\((-2)^{n-1}\\) が符号を交互に変えつつ絶対値が指数的に増減するため，\n\n・偶数番目は大きく負，奇数番目は大きく正  \n・\\(|a_n|\\) は指数関数的に大きくなる  \n\nという特徴を持ちます（極限値は存在しません）。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad 2a_{n+1} - 3a_n = 1 $$",
            "solution": "$$ a_n = ( \\frac{3}{2} )^{n-1} - 1 $$",
            "gpt": "# 解答\n\n## 1　漸化式を読みやすく書き直す  \n与えられた漸化式  \n\\[\n2a_{n+1}-3a_n = 1\\qquad(n=1,2,3,\\dots)\n\\]  \nを  \n\\[\na_{n+1}= \\frac32\\,a_{n}+ \\frac12\n\\]  \nと変形しておきます。  \nこれは「一次同次項 ＋ 定数項」型の**一次線形漸化式**です。\n\n---\n\n## 2　解き方の方針  \n一次線形漸化式  \n\\[\na_{n+1}=p\\,a_n+q\n\\]  \n（ただし \\(p,q\\) は定数）については  \n① 同次方程式 \\(a_{n+1}=p\\,a_n\\) の解を求める  \n② 定数解（特解）を 1 つ求める  \n③ ①＋② を重ね合わせ、初期条件で定数を決定  \nという手順で一般項が得られます。\n\n---\n\n## 3　同次方程式の解  \n同次形  \n\\[\na_{n+1}= \\frac32\\,a_n\n\\]  \nは等比数列なので  \n\\[\na_n^{(h)}=C\\left(\\frac32\\right)^{\\,n-1}\\qquad(C\\ \\text{は任意定数})\n\\]\n\n---\n\n## 4　特解（定数解）の決定  \n定数 \\(A\\) を使って **定数列** \\(a_n^{(p)}\\equiv A\\) と置き、元の漸化式に代入すると  \n\\[\n2A-3A=1\\quad\\Longrightarrow\\quad -A=1\\quad\\Longrightarrow\\quad A=-1\n\\]  \nよって特解は  \n\\[\na_n^{(p)}=-1\n\\]\n\n---\n\n## 5　一般解  \n同次解と特解の和で  \n\\[\na_n = a_n^{(h)} + a_n^{(p)} = C\\left(\\frac32\\right)^{\\,n-1}-1\n\\]\n\n---\n\n## 6　初期条件で定数 \\(C\\) を決定  \n初期条件 \\(a_1=0\\) を代入すると  \n\\[\n0=C\\left(\\frac32\\right)^{0}-1 = C-1\n\\quad\\Longrightarrow\\quad C=1\n\\]\n\n---\n\n## 7　求める一般項  \nしたがって数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{\\,a_n=\\left(\\frac32\\right)^{n-1}-1\\qquad(n=1,2,3,\\dots)\\,}\n\\]\n\n---\n\n## 8　検算（初項と漸化式の確認）\n1) 初項  \n\\[\na_1=\\left(\\frac32\\right)^{0}-1 = 1-1 = 0 \\quad\\checkmark\n\\]\n\n2) 漸化式  \n\\[\n2a_{n+1}-3a_n\n=2\\!\\left[\\left(\\frac32\\right)^{n}-1\\right]\n-3\\!\\left[\\left(\\frac32\\right)^{n-1}-1\\right]\n=2\\left(\\frac32\\right)^{n}-2-3\\left(\\frac32\\right)^{n-1}+3\n\\]\n\\[\n=2\\left(\\frac32\\right)^{n}-3\\left(\\frac32\\right)^{n-1}+1\n= \\left(\\frac32\\right)^{n-1}\\!\\!\\left(2\\!\\cdot\\!\\frac32-3\\right)+1\n= \\left(\\frac32\\right)^{n-1}(3-3)+1\n=1 \\quad\\checkmark\n\\]\n\n条件を満たすことが確かめられました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = \\frac{ 3a_n }{ a_n + 3 } $$",
            "solution": "$$ a_n = \\frac{ 3 }{ n + 2 } $$",
            "gpt": "# 解答\n\n## 1. 発想 ― 逆数をとる\n\n与えられた漸化式  \n\n\\[\na_{n+1}= \\frac{3a_n}{a_n+3}\n\\]\n\nは，分母に \\(a_n\\) が現れているため直接扱いにくいですが，  \n**逆数** をとると一次的な形になります。\n\n\\[\n\\begin{aligned}\n\\frac1{a_{n+1}}\n&=\\frac{a_n+3}{3a_n}\n     =\\frac{a_n}{3a_n}+\\frac{3}{3a_n}  \\\\\n&=\\frac13+\\frac1{a_n}.\n\\end{aligned}\n\\]\n\nここで\n\n\\[\nb_n=\\frac1{a_n}\\quad(n=1,2,3,\\dots)\n\\]\n\nとおくと\n\n\\[\n\\boxed{\\,b_{n+1}=b_n+\\frac13\\,}\\qquad(\\ast)\n\\]\n\nとなり，これは**公差 \\(\\dfrac13\\) の等差数列**です。\n\n## 2. 等差数列 \\(b_n\\) の一般項\n\n初項は  \n\n\\[\nb_1=\\frac1{a_1}=\\frac11=1.\n\\]\n\n等差数列の一般項は\n\n\\[\nb_n=b_1+\\left(n-1\\right)\\cdot\\frac13\n     =1+\\frac{n-1}{3}\n     =\\frac{n+2}{3}.\n\\]\n\n## 3. 元の数列 \\(a_n\\) へ戻す\n\n\\[\na_n=\\frac1{b_n}= \\frac{1}{\\dfrac{n+2}{3}}\n     =\\boxed{\\dfrac{3}{\\,n+2\\,}}\\qquad (n=1,2,3,\\dots)\n\\]\n\n## 4. 検算\n\n- \\(n=1\\)：\\(a_1=\\dfrac{3}{1+2}=1\\)（条件と一致）。  \n- 漸化式に代入  \n  \\[\n  a_{n+1}= \\frac{3a_n}{a_n+3}\n          =\\frac{3\\cdot\\frac{3}{n+2}}{\\frac{3}{n+2}+3}\n          =\\frac{\\frac{9}{n+2}}{\\frac{3+3(n+2)}{n+2}}\n          =\\frac{9}{3n+9}\n          =\\frac{3}{n+3},\n  \\]\n  一方\n  \\[\n  a_{n+1}=\\frac{3}{(n+1)+2}=\\frac{3}{n+3},\n  \\]\n  となり漸化式を満たす。\n\n以上により，一般項は \\(a_n=\\dfrac{3}{n+2}\\) であることが確認できました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = \\frac{ a_n }{ a_n + 1 } $$",
            "solution": "$$ a_n = \\frac{1}{n} $$",
            "gpt": "# 解答\n\n## 1. 漸化式の観察\n与えられた数列 \\(\\{a_n\\}\\) は  \n\n\\[\na_1 = 1, \\qquad \na_{n+1} = \\dfrac{a_n}{a_n+1}\\qquad (n=1,2,3,\\dots)\n\\]\n\nで定義されています。  \n右辺が「\\(a_n\\) を含む分数」なので、**逆数をとってみる**と式が単純になることが期待できます。\n\n---\n\n## 2. 逆数列 \\(\\{b_n\\}\\) を導入\n\\[\nb_n := \\frac{1}{a_n}\\qquad (n=1,2,3,\\dots)\n\\]\n\nとおくと，もとの漸化式は次のように変形できます。\n\n\\[\na_{n+1} = \\frac{a_n}{a_n+1}\n\\ \\Longrightarrow\\ \n\\frac{1}{a_{n+1}} = \\frac{a_n+1}{a_n}\n              = 1 + \\frac{1}{a_n}\n              = 1 + b_n.\n\\]\n\nしたがって\n\n\\[\nb_{n+1} = b_n + 1.\n\\]\n\nこれは **公差 1 の等差数列** です。\n\n---\n\n## 3. 逆数列の一般項\n初項は  \n\\[\nb_1 = \\frac{1}{a_1} = \\frac{1}{1} = 1.\n\\]\n\n等差数列の公式 \\(b_n = b_1 + (n-1)d\\) （公差 \\(d=1\\)）より\n\n\\[\nb_n = 1 + (n-1)\\cdot 1 = n.\n\\]\n\n---\n\n## 4. 元の数列の一般項\n\\[\na_n = \\frac{1}{b_n} = \\frac{1}{n}\\qquad(n=1,2,3,\\dots)\n\\]\n\n---\n\n## 5. 確認（数学的帰納法）\n求めた一般項 \\(a_n=\\dfrac{1}{n}\\) が漸化式を満たすことを確認します。\n\n1. （初期条件）\\(n=1\\) のとき  \n   \\[\n   a_1 = \\frac{1}{1}=1\n   \\]\n   与えられた条件と一致。\n\n2. （帰納段階）\\(a_n=\\dfrac{1}{n}\\) と仮定すると\n   \\[\n   a_{n+1} = \\frac{a_n}{a_n+1} \n           = \\frac{\\frac{1}{n}}{\\frac{1}{n}+1} \n           = \\frac{\\frac{1}{n}}{\\frac{1+n}{n}}\n           = \\frac{1}{1+n}\n           = \\frac{1}{n+1}.\n   \\]\n   したがって帰納法により、すべての \\(n\\) で\n   \\[\n   a_n = \\frac{1}{n}\n   \\]\n   が成り立ちます。\n\n---\n\n## 6. 結論\n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{\\,a_n = \\dfrac{1}{n}\\,(n=1,2,3,\\dots)\\,}\n\\]\n\nであり、これ以外の値を取ることはありません。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = \\frac{1}{2}, \\quad a_{n+1} = \\frac{ a_n }{ 2a_n + 3 } $$",
            "solution": "$$ a_n =  \\frac{ 1 }{ 3^n - 1 } $$",
            "gpt": "# 解答\n\n## 1. 逆数を導入して一次漸化式に帰着する  \n与えられた漸化式  \n\n\\[\na_{n+1}= \\frac{a_n}{2a_n+3}\\qquad (n=1,2,3,\\dots)\n\\]\n\nは分母に \\(a_n\\) を含むため扱いにくいので，逆数  \n\n\\[\nb_n=\\frac1{a_n}\\qquad(n\\ge1)\n\\]\n\nを考えます。すると\n\n\\[\n\\frac1{a_{n+1}}\n   =\\frac{2a_n+3}{a_n}\n   =2+\\frac3{a_n}\n   =2+3\\left(\\frac1{a_n}\\right)\n   =2+3b_n.\n\\]\n\nよって逆数列 \\(\\{b_n\\}\\) は\n\n\\[\n\\boxed{\\,b_{n+1}=3b_n+2\\,}\\qquad(n=1,2,3,\\dots)\n\\]\n\nを満たす一次の線形漸化式になります。初項は\n\n\\[\nb_1=\\frac1{a_1}=\\frac1{1/2}=2.\n\\]\n\n---\n\n## 2. 一次漸化式の一般解  \n一次漸化式  \n\n\\[\nb_{n+1}=3b_n+2\n\\]\n\nは，高校数学Ｂで学ぶ方法（特性方程式または不変量法）で以下のように解けます。\n\n1) 同次方程式（右辺の定数項を 0 としたもの）  \n   \\[\n   b_{n+1}^{(h)}=3\\,b_{n}^{(h)}\n   \\;\\Longrightarrow\\;\n   b_n^{(h)}=C\\cdot 3^{\\,n-1}\n   \\tag{C は任意定数}\n   \\]\n\n2) 特殊解（定数解を仮定）を求める  \n   \\[\n   b_{n+1}=b_n=k \\text{ として代入}\\Longrightarrow k=3k+2\n   \\Longrightarrow -2k=2 \\Longrightarrow k=-1.\n   \\]\n\n3) 一般解  \n   \\[\n   b_n=b_n^{(h)}+\\text{(特殊解)} \n        =C\\cdot 3^{\\,n-1}-1.\n   \\]\n\n---\n\n## 3. 定数 \\(C\\) の決定  \n初期条件 \\(b_1=2\\) を用いて\n\n\\[\n2=C\\cdot 3^{\\,0}-1\n\\quad\\Longrightarrow\\quad\nC=3.\n\\]\n\nしたがって\n\n\\[\n\\boxed{\\,b_n=3\\cdot3^{\\,n-1}-1=3^{\\,n}-1\\,}.\n\\]\n\n---\n\n## 4. 元の数列 \\(a_n\\) の一般項  \n\\(a_n=\\dfrac1{b_n}\\) なので\n\n\\[\n\\boxed{\\displaystyle a_n=\\frac1{3^{\\,n}-1}}\\qquad(n=1,2,3,\\dots)\n\\]\n\n---\n\n## 5. 確認（最初の数項）\n\n\\[\n\\begin{aligned}\nn=1:&\\ a_1=\\frac1{3^1-1}=\\frac12\\quad(\\text{条件と一致}) \\\\\nn=2:&\\ a_2=\\frac1{3^2-1}=\\frac18,\\quad\n      \\frac{a_1}{2a_1+3}=\\frac{1/2}{2(1/2)+3}=\\frac{1/2}{4}= \\frac18 \\\\\nn=3:&\\ a_3=\\frac1{3^3-1}=\\frac1{26},\\quad\n      \\frac{a_2}{2a_2+3}=\\frac{1/8}{2(1/8)+3}=\\frac{1/8}{\\tfrac14+3}\n      =\\frac{1/8}{\\tfrac{13}{4}}=\\frac1{26}.\n\\end{aligned}\n\\]\n\nいずれも一致し，結果が正しいことが確かめられます。\n\n---\n\n### まとめ  \n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{\\displaystyle a_n=\\frac1{3^{\\,n}-1}}\n\\]\n\nであり，これ以外の形を取ることはありません。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 10, \\quad a_{n+1} = 2a_n + 2^{n+2} $$",
            "solution": "$$ a_n = ( 2n + 3 ) \\cdot 2^n $$",
            "gpt": "# 解答\n\n## 1　方針\n与えられた漸化式  \n\n\\[\na_{n+1}=2a_{n}+2^{\\,n+2}\\qquad(n\\ge 1),\\qquad a_{1}=10\n\\]\n\nは  \n「一次（１段階）・線形・非同次」の漸化式です。  \n高校数学では\n\n1. 同次部分（ここでは \\(a_{n+1}=2a_n\\)）の解を求める  \n2. 非同次項を消すように変形して“簡単な数列”に帰着させる  \n\nという手順で一般項を導くことが多いです。  \nここでは **指数 \\(2^{\\,n}\\) で割る**という発想で進めます。\n\n---\n\n## 2　指数で割って簡単化\n両辺を \\(2^{\\,n+1}\\) で割ると\n\n\\[\n\\frac{a_{n+1}}{2^{\\,n+1}}\n      =\\frac{2a_n}{2^{\\,n+1}}\n      +\\frac{2^{\\,n+2}}{2^{\\,n+1}}\n      =\\frac{a_n}{2^{\\,n}}+2.\n\\]\n\nここで\n\n\\[\nb_n:=\\frac{a_n}{2^{\\,n}}\\qquad(n\\ge1)\n\\]\n\nと置くと，式は\n\n\\[\nb_{n+1}=b_n+2. \\tag{★}\n\\]\n\nこれは「初項 \\(b_1\\)，公差 2 の等差数列」です。\n\n---\n\n## 3　等差数列 \\(b_n\\) の一般項\n初項\n\n\\[\nb_1=\\frac{a_1}{2^1}=\\frac{10}{2}=5\n\\]\n\nなので (★) から\n\n\\[\nb_n = 5 + 2(n-1)=2n+3. \\qquad(n\\ge1)\n\\]\n\n---\n\n## 4　元の数列 \\(a_n\\) の一般項\n定義 \\(a_n = b_n\\,2^{\\,n}\\) に戻すと\n\n\\[\n\\boxed{\\,a_n = (2n+3)\\,2^{\\,n}\\qquad(n\\ge1)\\,}.\n\\]\n\n---\n\n## 5　帰納的確認（検算）\n\n数学的帰納法で正しいことを確認しておきます。\n\n1. (基底) \\(n=1\\)  \n   \\[\n   a_1=(2\\cdot1+3)2^{\\,1}=5\\cdot2=10\n   \\]\n   与えられた初期値に一致。\n\n2. (帰納法) \\(n=k\\) で  \n   \\[\n   a_k=(2k+3)2^{\\,k}\n   \\]\n   が成り立つと仮定すると\n   \\[\n   a_{k+1}=2a_k+2^{\\,k+2}=2(2k+3)2^{\\,k}+2^{\\,k+2}\n            =(4k+6)2^{\\,k}+4\\cdot2^{\\,k}\n            =(4k+10)2^{\\,k}=2(k+1)+3\\;\\bigl)\\,2^{\\,k+1}.\n   \\]\n   すなわち\n   \\[\n     a_{k+1} = \\bigl(2(k+1)+3\\bigr)2^{\\,k+1},\n   \\]\n   であり \\(n=k+1\\) でも成立。\n\nよってすべての \\(n\\) で式は正しい。 □\n\n---\n\n## 6　数列のイメージ（参考：Python でグラフ）\n\n```python\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nn = np.arange(1, 8)        # n = 1〜7\na = (2*n + 3)*(2**n)       # 一般項\n\nplt.figure(figsize=(6,4))\nplt.stem(n, a, basefmt=\" \")\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.title(\"数列 $a_n=(2n+3)2^{\\,n}$（n=1〜7）\")\nplt.grid(True, linestyle=\"--\", alpha=0.5)\nplt.show()\n```\n\n実行すると，下図のように急激に増加する指数型のグラフが得られます。  \n（教科書で見る「指数関数のグラフ」と同じ形状です。）\n\n![sequence_plot](attachment:sequence_plot.png)\n\n---\n\n## 7　まとめ\n非同次線形漸化式  \n\\[\na_{n+1}=2a_{n}+2^{\\,n+2}\n\\]  \nは指数 \\(2^{\\,n}\\) で割ることで等差数列に帰着でき，\n\n\\[\n\\boxed{a_n=(2n+3)2^{\\,n}}\\quad(n\\ge1)\n\\]\n\nが一般項であることが分かりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 3, \\quad a_{n+1} = 6a_n + 3^{n+1} $$",
            "solution": "$$ a_n = ( 2^n - 1 ) \\cdot 3^n $$",
            "gpt": "# 解答\n\n## 1. 問題の把握  \n数列 $\\{a_n\\}$ は  \n\\[\na_1 = 3,\\qquad \na_{n+1}=6a_n+3^{\\,n+1}\\qquad(n\\ge1)\n\\]  \nで定められている。  \n目的は **一般項** $a_n$ を求めること。\n\n---\n\n## 2. 方針  \n与えられた漸化式は「一次同次＋非同次」型である。  \nそこで\n\n1. 同次部分  \n   \\[\n   a_{n+1}^{(h)} = 6a_n^{(h)}\n   \\]\n2. 特殊（特解）部分  \n   \\[\n   a_{n+1}^{(p)} = 6a_n^{(p)} + 3^{\\,n+1}\n   \\]\n\nを別々に求め、**重ね合わせ**（線形結合）で一般解を作る。\n\n---\n\n## 3. 同次解 $a_n^{(h)}$ の決定  \n\\[\na_{n+1}^{(h)} = 6a_n^{(h)}\n\\]  \nは初等的な等比数列。  \n\\[\na_n^{(h)} = C\\cdot 6^{\\,n-1}\\qquad(C：任意定数)\n\\]\n\n---\n\n## 4. 特殊解 $a_n^{(p)}$ の決定  \n\n非同次項 $3^{\\,n+1}$ が $3^{n}$ 型なので、  \n「$3^{n}$ 型」を仮定するのが自然：\n\n\\[\na_n^{(p)} = A\\cdot 3^{\\,n}\\qquad (A：定数)\n\\]\n\nこれを漸化式に代入する。\n\n左辺  \n\\[\na_{n+1}^{(p)} = A\\cdot 3^{\\,n+1}\n\\]\n\n右辺  \n\\[\n6a_n^{(p)} + 3^{\\,n+1}\n          = 6\\bigl(A\\cdot 3^{\\,n}\\bigr) + 3^{\\,n+1}\n          = 6A\\cdot 3^{\\,n} + 3^{\\,n+1}\n\\]\n\n両辺を $3^{\\,n}$ で割ると\n\n\\[\n3A = 6A + 3 \\quad\\Longrightarrow\\quad -3A = 3 \\quad\\Longrightarrow\\quad A = -1\n\\]\n\nよって  \n\\[\na_n^{(p)} = -\\,3^{\\,n}\n\\]\n\n---\n\n## 5. 一般解と初期条件の適用  \n\n重ね合わせ原理より  \n\\[\na_n = a_n^{(h)} + a_n^{(p)} = C\\cdot 6^{\\,n-1} - 3^{\\,n}\n\\]\n\n初期条件 $a_1=3$ を代入して $C$ を決める。\n\n\\[\n3 = C\\cdot 6^{\\,0} - 3^{\\,1} = C - 3\n\\quad\\Longrightarrow\\quad\nC = 6\n\\]\n\n---\n\n## 6. 結論（一般項）\n\n\\[\n\\boxed{\\,a_n = 6^{\\,n} - 3^{\\,n}\\,}\\qquad(n\\ge1)\n\\]\n\n---\n\n## 7. 検算（任意の $n$ で成立するか）\n\n実際に漸化式に代入して確かめる：\n\n左辺  \n\\[\na_{n+1}=6^{\\,n+1}-3^{\\,n+1}\n\\]\n\n右辺  \n\\[\n6a_n+3^{\\,n+1}=6\\bigl(6^{\\,n}-3^{\\,n}\\bigr)+3^{\\,n+1}\n              = 6^{\\,n+1}-6\\cdot3^{\\,n}+3^{\\,n+1}\n\\]\n\n右辺の $3^{\\,n}$ 項は  \n\\[\n-6\\cdot3^{\\,n}+3^{\\,n+1}= -6\\cdot3^{\\,n}+3\\cdot3^{\\,n}= -3^{\\,n+1}\n\\]\n\nしたがって  \n\\[\n6^{\\,n+1}-3^{\\,n+1}\\quad(\\text{左辺}) \n= 6^{\\,n+1}-3^{\\,n+1}\\quad(\\text{右辺})\n\\]  \nとなり、漸化式を満たすことが確認できる。\n\n---\n\n## 8. まとめ\n\n・同次解で等比数列の形を掴む  \n・非同次項に合わせた仮定で特解を作る  \n・初期条件で定数決定  \nという基本的な手順で、**高校範囲**の知識だけで解決できる良い例である。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 2a_n + 3n $$",
            "solution": "$$ a_n = 7 \\cdot 2^{n-1} - 3n - 3 $$",
            "gpt": "# 解答\n\n## 1. 問題の整理\n数列 \\( \\{a_n\\} \\) は  \n\\[\na_1 = 1, \\qquad a_{n+1}=2a_n+3n \\quad (n=1,2,3,\\dots)\n\\]  \nで定義されています。  \n求めたいのは **一般項 \\(a_n\\)** です。\n\n---\n\n## 2. 解法の方針  \n本問は「一次線形漸化式（非同次型）」にあたります。  \n代表的な解き方は次の 2 通り。\n\n1.  \n   「同次解＋特解」を求める方法  \n2.  \n   うまく **置き換えをして等比数列に帰着** させる方法  \n\nここでは②の方が計算が簡潔なので、まずその方法を示し、最後に①の考え方も補足します。\n\n---\n\n## 3. 置き換えによる解法\n\n### 3.1 新しい数列 \\(b_n\\) を導入  \n右辺の「 \\(+3n\\) 」が邪魔なので、それを打ち消す形で\n\n\\[\nb_n = a_n + 3n + 3\n\\]\n\nとおきます。  \n（なぜ「+3」まで付けるかはすぐ分かります。）\n\n### 3.2 漸化式を \\(b_n\\) に書き換える  \nまず \\(a_{n+1}\\) の式に上の置き換えを代入します。\n\n\\[\n\\begin{aligned}\nb_{n+1}\n&= a_{n+1}+3(n+1)+3 \\\\\n&= \\Bigl(2a_n + 3n\\Bigr) + 3n + 3 + 3 \\\\\n&= 2a_n + 6n + 6 \\\\\n&= 2\\bigl(a_n + 3n + 3\\bigr) \\\\\n&= 2b_n .\n\\end{aligned}\n\\]\n\nなんと **\\(b_{n+1}=2b_n\\)**、すなわち \\(b_n\\) は公比 \\(2\\) の等比数列になりました。\n\n### 3.3 等比数列 \\(b_n\\) の一般項  \n初項を確認すると\n\n\\[\nb_1 = a_1 + 3\\cdot 1 + 3 = 1 + 3 + 3 = 7.\n\\]\n\nしたがって\n\n\\[\nb_n = 7 \\cdot 2^{\\,n-1}.\n\\]\n\n### 3.4 元の数列 \\(a_n\\) に戻す  \n定義 \\(b_n = a_n + 3n + 3\\) を解いて\n\n\\[\na_n = b_n - 3n - 3\n      = 7\\cdot 2^{\\,n-1} - 3n - 3.\n\\]\n\n---\n\n## 4. 結果（一般項）\n\n\\[\n\\boxed{\\,a_n = 7\\cdot 2^{\\,n-1} - 3n - 3\\quad (n\\ge 1)\\,}\n\\]\n\n---\n\n## 5. 検算（最初の数項を計算）\n```python\nimport numpy as np\ndef a(n): return 7*2**(n-1) - 3*n - 3\nprint([a(k) for k in range(1,6)])\n```\n出力 → `[1, 5, 13, 29, 61]`\n\n一方、元の漸化式で手計算すると  \n\\(a_1=1\\),  \n\\(a_2=2(1)+3\\cdot1=5\\),  \n\\(a_3=2(5)+3\\cdot2=13\\), …… と一致し、正しいことが確かめられます。\n\n---\n\n## 6. （参考）「同次解＋特解」による解き方\n\n1. 同次形 \\(a_{n+1}=2a_n\\) の解は \\(C\\cdot 2^{n-1}\\)。\n2. 非同次項が一次式 \\(3n\\) なので、  \n   特解を \\(pn+q\\) とおくと\n   \\[\n   -p n + p - q = 3n \\implies\n   p=-3,\\; q=-3.\n   \\]\n   よって特解 \\(a^{(p)}_n = -3n-3\\)。\n3. 一般解 \\(a_n = C\\cdot 2^{n-1} -3n -3\\)。  \n   初期条件 \\(a_1=1\\) から \\(C=7\\)。\n\n同じく\n\\(\na_n = 7\\cdot2^{\\,n-1}-3n-3\n\\)\nが得られます。\n\n---\n\n以上で数列 \\( \\{a_n\\} \\) の一般項が求まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad (n+1)a_{n+1} = na_n $$",
            "solution": "$$ a_n = \\frac{1}{n} $$",
            "gpt": "# 解答\n\n## 1. 漸化式を整理する\n与えられた漸化式  \n\n\\[\n(n+1)a_{n+1}=n a_n\\qquad(n\\ge 1)\n\\]\n\nを両辺とも \\(n+1\\) で割ると\n\n\\[\na_{n+1}= \\frac{n}{n+1}\\,a_n \\tag{★}\n\\]\n\nとなる。  \nこの形にすると「直前の項に定数（ここでは \\(\\dfrac{n}{n+1}\\)）を掛けて次の項を作るタイプ」の漸化式だと分かる。\n\n---\n\n## 2. 積の形で並べる\n式 (★) を連続して用い，\\(a_n\\) を \\(a_1\\) で表す。\n\n\\[\n\\begin{aligned}\na_2&=\\frac{1}{2}\\,a_1,\\\\[4pt]\na_3&=\\frac{2}{3}\\,a_2=\\frac{2}{3}\\cdot\\frac{1}{2}\\,a_1,\\\\[4pt]\na_4&=\\frac{3}{4}\\,a_3=\\frac{3}{4}\\cdot\\frac{2}{3}\\cdot\\frac{1}{2}\\,a_1,\\\\\n&\\ \\vdots \\\\[-2pt]\na_n&=\\frac{n-1}{n}\\cdot\\frac{n-2}{n-1}\\cdot\\cdots\\cdot\\frac{2}{3}\\cdot\\frac{1}{2}\\,a_1.\n\\end{aligned}\n\\]\n\n右辺の分数は**順次約分**できる。実際，\n\n\\[\n\\frac{n-1}{n}\\cdot\\frac{n-2}{n-1}\\cdots\\frac{2}{3}\\cdot\\frac{1}{2}\n=\\cancel{\\frac{n-1}{\\color{gray}{\\large n}}}\\cdot\n\\cancel{\\frac{n-2}{\\color{gray}{\\large n-1}}}\\cdots\n\\cancel{\\frac{2}{\\color{gray}{\\large 3}}}\\cdot\n\\frac{1}{\\color{gray}{\\large 2}}\n=\\frac{1}{n}.\n\\]\n\nしたがって\n\n\\[\na_n=\\frac{1}{n}\\,a_1.\n\\]\n\n初項が \\(a_1=1\\) なので\n\n\\[\n\\boxed{a_n=\\dfrac{1}{n}\\qquad(n\\ge 1)}.\n\\]\n\n---\n\n## 3. 数学的帰納法による確認（別解）\n一般項が本当に \\(a_n=\\dfrac{1}{n}\\) になることを，数学的帰納法で確かめる。\n\n### (1) 初期条件\n\\(n=1\\) のとき  \n\\(a_1=1\\) であり，右辺 \\(\\dfrac{1}{1}=1\\) と一致する。\n\n### (2) 帰納法の仮定\nある整数 \\(k\\,(k\\ge 1)\\) で  \n\\(a_k=\\dfrac{1}{k}\\) が成り立つと仮定する。\n\n### (3) 帰納法のステップ\n漸化式より\n\n\\[\n(k+1)a_{k+1}=k a_k\n\\quad\\Longrightarrow\\quad\na_{k+1}=\\frac{k}{k+1}\\,a_k\n=\\frac{k}{k+1}\\cdot\\frac{1}{k}\n=\\frac{1}{k+1}.\n\\]\n\n帰納法の仮定から \\(k+1\\) でも命題が成り立つことが言えた。\n\n### (4) 結論\n(1) と (3) により，すべての自然数 \\(n\\) について  \n\\(a_n=\\dfrac{1}{n}\\) が成り立つ。\n\n---\n\n## 4. まとめ\n漸化式 \\((n+1)a_{n+1}=n a_n\\) および初項 \\(a_1=1\\) で定まる数列は\n\n\\[\n\\boxed{a_n=\\dfrac{1}{n}\\ (n=1,2,3,\\dots)}\n\\]\n\nとなる。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad na_{n+1} = (n+1)a_n $$",
            "solution": "$$ a_n = n $$",
            "gpt": "# 解答\n\n## 1. 漸化式の整理  \n与えられた漸化式  \n\\[\nna_{n+1}=(n+1)a_n \\qquad (n=1,2,3,\\dots)\n\\]  \nを\n\n\\[\na_{n+1}=\\frac{n+1}{n}\\,a_n\n\\]\n\nと書き直します。  \n右辺の比  \n\\[\n\\frac{a_{n+1}}{a_n}= \\frac{n+1}{n}=1+\\frac1n\n\\]  \nは **“前項に対し (1 + 1/n) 倍する”** ことを表しています。\n\n---\n\n## 2. 積の形で一般項をつくる（帰納的積分解法）\n\n初項 \\(a_1=1\\) から順にかけ合わせると  \n\n\\[\n\\begin{aligned}\na_2 &=\\frac{2}{1}\\,a_1,\\\\\na_3 &=\\frac{3}{2}\\,a_2=\\frac{3}{2}\\cdot\\frac{2}{1}\\,a_1,\\\\\na_4 &=\\frac{4}{3}\\,a_3=\\frac{4}{3}\\cdot\\frac{3}{2}\\cdot\\frac{2}{1}\\,a_1,\\\\\n&\\ \\vdots\\\\\na_n &=\\left(\\prod_{k=1}^{n-1}\\frac{k+1}{k}\\right)a_1.\n\\end{aligned}\n\\]\n\nここで積 \\(\\displaystyle\\prod_{k=1}^{n-1}\\frac{k+1}{k}\\) を詳しく見ると\n\n\\[\n\\frac{2}{1}\\cdot\\frac{3}{2}\\cdot\\frac{4}{3}\\cdots\\frac{n}{n-1}\n\\]\n\nという **連鎖積** (telescoping product) になっています。  \n分子と分母が順に約分され、残るのは最初の分母 \\(1\\) と最後の分子 \\(n\\) だけ：\n\n\\[\n\\prod_{k=1}^{n-1}\\frac{k+1}{k}= \\frac{n}{1}=n.\n\\]\n\nしたがって\n\n\\[\na_n = n \\cdot a_1 = n \\cdot 1 = n.\n\\]\n\n---\n\n## 3. 数学的帰納法による確認（別証）\n\n1. 基底（\\(n=1\\)）：  \n   \\(a_1=1\\) は求めた式 \\(a_n=n\\) と一致。\n\n2. 帰納法の仮定：  \n   ある \\(n\\) で \\(a_n=n\\) と仮定。\n\n3. 帰納法のステップ：  \n   元の漸化式より  \n   \\[\n   na_{n+1} = (n+1)a_n = (n+1)\\cdot n.\n   \\]  \n   両辺を \\(n\\) で割ると  \n   \\[\n   a_{n+1}=n+1.\n   \\]  \n   従って \\(n\\!\\to\\!n+1\\) の段階でも成り立つ。\n\n基底と帰納ステップが示されたので、すべての自然数 \\(n\\) について  \n\\[\na_n=n\n\\]  \nが成立します。\n\n---\n\n## 4. 結論  \n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{a_n = n \\quad (n=1,2,3,\\dots)}\n\\]\n\nです。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 1, \\quad a_{n+2} + a_{n+1} - 6a_n = 0 $$",
            "solution": "$$ a_n = \\frac{ 2^{n-1} - (-3)^{n-1} }{ 5 } $$",
            "gpt": "# 解答\n\n## 1　漸化式の性質を確認\n与えられた漸化式  \n\\[\na_{n+2}+a_{n+1}-6a_n=0 \\qquad(n\\ge 1)\n\\]  \nは，\n\n* 2階  \n* 線形  \n* 斉次（＝右辺が 0）  \n* 係数が定数  \n\nの漸化式です。  \n高校数学では，その一般解を**特性方程式**を用いて求めることができます。\n\n---\n\n## 2　特性方程式を立てる\n\\[\na_{n+2}+a_{n+1}-6a_n=0\n\\]\nに対し  \n\\[\na_n=r^n\\;(r\\neq0)\n\\]\nと仮定すると\n\n\\[\nr^{n+2}+r^{n+1}-6r^{n}=0\n\\quad\\Longleftrightarrow\\quad\nr^{n}\\left(r^{2}+r-6\\right)=0.\n\\]\n\n\\(r\\neq0\\) なので  \n\\[\nr^{2}+r-6=0\n\\]\nを解けばよい。これを**特性方程式**という。\n\n---\n\n## 3　特性方程式の解\n\\[\nr^{2}+r-6=0\n\\quad\\Longrightarrow\\quad\n(r+3)(r-2)=0.\n\\]\n\nよって  \n\\[\nr_1=2,\\qquad r_2=-3.\n\\]\n\n互いに異なる 2 つの解を得たので，漸化式の一般解は\n\n\\[\n\\boxed{\\,a_n=A\\cdot 2^{\\,n}+B\\cdot(-3)^{\\,n}\\,}\n\\qquad(\\text{定数 }A,B)\n\\]\n\nとなる。\n\n---\n\n## 4　初期条件で定数 \\(A,B\\) を決定\n\n初項・第 2 項が\n\\[\na_1=0,\\qquad a_2=1\n\\]\nと与えられているので，これらを一般解に代入して連立方程式を作る。\n\n### (1) \\(n=1\\) を代入  \n\\[\n0=a_1=A\\cdot2^{1}+B\\cdot(-3)^{1}\n\\quad\\Longrightarrow\\quad\n2A-3B=0.\n\\tag{★}\n\\]\n\n### (2) \\(n=2\\) を代入  \n\\[\n1=a_2=A\\cdot2^{2}+B\\cdot(-3)^{2}\n\\quad\\Longrightarrow\\quad\n4A+9B=1.\n\\tag{★★}\n\\]\n\n#### 方程式 (★) から  \n\\[\n2A=3B \\quad\\Longrightarrow\\quad B=\\frac{2}{3}A.\n\\]\n\nこれを (★★) に代入すると  \n\\[\n4A+9\\left(\\frac{2}{3}A\\right)=1\n\\;\\Longrightarrow\\;\n4A+6A=1\n\\;\\Longrightarrow\\;\n10A=1\n\\;\\Longrightarrow\\;\nA=\\frac{1}{10}.\n\\]\n\nさらに  \n\\[\nB=\\frac{2}{3}A=\\frac{2}{3}\\cdot\\frac{1}{10}=\\frac{1}{15}.\n\\]\n\n---\n\n## 5　一般項の決定\n以上より\n\n\\[\n\\boxed{\\displaystyle\na_n=\\frac{1}{10}\\,2^{\\,n}+\\frac{1}{15}\\,(-3)^{\\,n}\n}\\qquad(n\\ge1)\n\\]\n\n---\n\n## 6　確認（任意）\n\n実際に最初の数項を計算してみると\n\n\\[\n\\begin{aligned}\na_1&=\\frac{1}{10}\\,2+\\frac{1}{15}\\,(-3)=0,\\\\\na_2&=\\frac{1}{10}\\,4+\\frac{1}{15}\\,9=1,\\\\\na_3&=\\frac{1}{10}\\,8+\\frac{1}{15}\\,(-27)=-\\frac{11}{5},\\\\\na_4&=\\frac{1}{10}\\,16+\\frac{1}{15}\\,81=6,\n\\end{aligned}\n\\]\nとなり，漸化式\n\\(\\,a_{n+2}+a_{n+1}-6a_n=0\\)  \nも満たしていることが確認できます。\n\n---\n\n## 7　グラフでイメージ（参考）\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef a(n):\n    return (1/10)*2**n + (1/15)*(-3)**n\n\nns = np.arange(1,11)\nvals = [a(k) for k in ns]\n\nplt.figure(figsize=(6,3))\nplt.stem(ns, vals, use_line_collection=True)\nplt.xlabel(\"$n$\")\nplt.ylabel(\"$a_n$\")\nplt.title(\"最初の10項の値\")\nplt.grid(True)\nplt.show()\n```\n\n上のコードを実行すると，下図のように数列の振る舞い（正負が交互に変化し，大きさも急激に増減）が視覚的にわかります。\n\n![sequence_plot](attachment:sequence_plot.png)\n\n---\n\nこれで，数列 \\(\\{a_n\\}\\) の一般項を完全に求めることができました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_2 = 2, \\quad a_{n+2} + 3a_{n+1} - 4a_n = 0 $$",
            "solution": "$$ a_n = \\frac{ 6 - (-4)^{n-1} }{ 5 } $$",
            "gpt": "# 解答\n\n## 1　漸化式の種類を確認  \n与えられている漸化式  \n\n\\[\na_{n+2}+3a_{n+1}-4a_{n}=0 \\qquad(n\\ge 1)\n\\]\n\nは  \n「次数 2 の**線形・斉次・定係数漸化式**」です。  \nこのタイプは，高校数学では **特性方程式**（または“特性方程式法”）で一般項を求めます。\n\n---\n\n## 2　特性方程式を立てる  \nまず，解を \\(a_n=r^n\\) という形で仮定し，漸化式に代入します。\n\n\\[\nr^{n+2}+3r^{\\,n+1}-4r^{\\,n}=0\n\\]\n\n両辺を \\(r^{\\,n}\\;(r\\neq 0)\\) で割ると\n\n\\[\nr^{2}+3r-4=0\n\\]\n\nこれを **特性方程式**と呼びます。\n\n---\n\n## 3　特性方程式を解く  \n\\[\nr^{2}+3r-4=0\n\\]\n\nは因数分解できて\n\n\\[\n(r+4)(r-1)=0\n\\]\n\nよって根は  \n\\[\nr_1=1,\\qquad r_2=-4\n\\]\n\n（重解ではなく異なる 2 つの実数解）\n\n---\n\n## 4　一般解の形  \n重解でない場合，次数 2 の斉次漸化式の解は\n\n\\[\na_n=A\\,r_1^{\\,n}+B\\,r_2^{\\,n}\n\\]\n\nと書けます。よって\n\n\\[\n\\boxed{\\,a_n = A\\cdot 1^{\\,n}+B\\cdot(-4)^{\\,n}=A+B(-4)^{\\,n}\\,}\n\\]\n\nここで \\(A,B\\) は漸化式だけでは決まらない定数です。  \n初期条件 \\(a_1=1,\\;a_2=2\\) を用いて求めます。\n\n---\n\n## 5　初期条件で定数を決定\n\n(1) \\(n=1\\) を代入  \n\\[\na_1=A+B(-4)=1\\quad\\Longrightarrow\\quad A-4B=1\n\\]\n\n(2) \\(n=2\\) を代入  \n\\[\na_2=A+B(-4)^2=A+16B=2\n\\]\n\n2 つの連立方程式を解く。\n\n\\[\n\\begin{cases}\nA-4B=1\\\\\nA+16B=2\n\\end{cases}\n\\quad\\Longrightarrow\\quad\n\\begin{aligned}\n20B&=1\\\\\nB&=\\dfrac{1}{20}\n\\end{aligned}\n\\]\n\n\\[\nA=1+4B=1+4\\!\\left(\\dfrac{1}{20}\\right)=1+\\dfrac{1}{5}=\\dfrac{6}{5}\n\\]\n\n---\n\n## 6　一般項の完成  \nよって\n\n\\[\na_n=\\frac{6}{5}+\\frac{1}{20}(-4)^{\\,n}\n\\]\n\n分母をそろえると\n\n\\[\na_n=\\frac{24+(-4)^{\\,n}}{20}\n      =\\frac{6}{5}+\\frac{(-1)^{n}\\,4^{\\,n}}{20}\n      =\\frac{6+(-1)^{n}4^{\\,n-1}}{5}\n\\]\n\nが得られます。高校数学の範囲ではいずれの形でも正解です。  \n最も簡潔な形として\n\n\\[\n\\boxed{\\displaystyle a_n=\\frac{6+(-1)^{n}\\,4^{\\,n-1}}{5}}\n\\]\n\nを採用しておきます。\n\n---\n\n## 7　結果の確認（任意）\n\n実際に \\(n=1,2,3\\) で確かめてみましょう。\n\n\\[\n\\begin{aligned}\nn=1:&\\quad a_1=\\dfrac{6+(-1)^{1}4^{0}}{5}=\\dfrac{6-1}{5}=1\\\\[4pt]\nn=2:&\\quad a_2=\\dfrac{6+(-1)^{2}4^{1}}{5}=\\dfrac{6+4}{5}=2\\\\[4pt]\nn=3:&\\quad a_3=\\dfrac{6+(-1)^{3}4^{2}}{5}=\\dfrac{6-16}{5}=-2\n\\end{aligned}\n\\]\n\n漸化式に代入しても  \n\\[\na_3+3a_2-4a_1=(-2)+3\\cdot2-4\\cdot1=0\n\\]  \nとなり，条件を満たしていることが確認できます。\n\n---\n\n以上より，数列 \\(\\{a_n\\}\\) の一般項は  \n\n\\[\n\\boxed{\\,a_n=\\dfrac{6+(-1)^{n}\\,4^{\\,n-1}}{5}\\,}\n\\]\n\nである。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 1, \\quad a_{n+2} + 5a_{n+1} + 6a_n = 0 $$",
            "solution": "$$ a_n = (-2)^{n-1} - (-3)^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 漸化式の性質を確認  \n与えられた数列 \\(\\{a_n\\}\\) は\n\n\\[\na_{n+2}+5a_{n+1}+6a_n=0\n\\quad(n\\ge 1)\n\\]\n\nという **2 次の線形同次漸化式**（係数一定）である。  \nこのタイプは「特性方程式（または特性多項式）」を用いて一般項を求めるのが定石である。\n\n---\n\n## 2. 特性方程式を立てる  \n\\[\na_{n}=r^{\\,n}\\quad(\\neq0)\n\\]\nと仮定して漸化式に代入すると\n\n\\[\nr^{\\,n+2}+5r^{\\,n+1}+6r^{\\,n}=0\n\\quad\\Longrightarrow\\quad\nr^{\\,n}\\bigl(r^{2}+5r+6\\bigr)=0.\n\\]\n\nよって特性方程式は\n\n\\[\nr^{2}+5r+6=0.\n\\]\n\n---\n\n## 3. 特性方程式を解く  \n\\[\nr^{2}+5r+6=(r+2)(r+3)=0\n\\]\n\\[\n\\Longrightarrow\\quad r_1=-2,\\; r_2=-3.\n\\]\n\n相異なる 2 つの解が得られたので、一般解は\n\n\\[\na_n = \\alpha(-2)^{\\,n}+\\beta(-3)^{\\,n}\n\\quad(\\alpha,\\betaは定数).\n\\]\n\n---\n\n## 4. 初期条件で定数を決定する  \n初期値\n\\[\na_1=0,\\qquad a_2=1\n\\]\nを代入する。\n\n(1) \\(n=1\\)  \n\\[\n0 = a_1 = \\alpha(-2)^{1}+\\beta(-3)^{1}\n     = -2\\alpha-3\\beta\n\\quad\\Longrightarrow\\quad\n2\\alpha+3\\beta=0.\n\\tag{★}\n\\]\n\n(2) \\(n=2\\)  \n\\[\n1 = a_2 = \\alpha(-2)^{2}+\\beta(-3)^{2}\n     = 4\\alpha+9\\beta.\n\\tag{★★}\n\\]\n\n連立方程式 (★)(★★) を解く。  \n(★) から \\(\\alpha=-\\dfrac{3}{2}\\beta\\)。  \nこれを (★★) に代入すると\n\n\\[\n4\\left(-\\frac{3}{2}\\beta\\right)+9\\beta\n  = -6\\beta+9\\beta\n  = 3\\beta\n  = 1\n\\quad\\Longrightarrow\\quad\n\\beta=\\frac13,\\qquad\n\\alpha=-\\frac12.\n\\]\n\n---\n\n## 5. 一般項の決定  \n\\[\na_n = -\\frac12(-2)^{\\,n} + \\frac13(-3)^{\\,n}.\n\\]\n\n指数部分を \\(n-1\\) にそろえると、より簡潔に\n\n\\[\n\\boxed{\\;a_n = (-2)^{\\,n-1} - (-3)^{\\,n-1}\\;}\n\\qquad(n\\ge 1)\n\\]\n\nでも同値である（以下では後者を採用）。\n\n---\n\n## 6. 確認  \n漸化式に代入してみる：\n\n\\[\na_{n  } = (-2)^{n-1} - (-3)^{n-1},\n\\qquad\na_{n+1}= (-2)^{n  } - (-3)^{n  },\n\\qquad\na_{n+2}= (-2)^{n+1} - (-3)^{n+1}.\n\\]\n\n左辺  \n\\[\na_{n+2}+5a_{n+1}+6a_n\n=\n\\bigl((-2)^{n+1}-(-3)^{n+1}\\bigr)\n+5\\bigl((-2)^{n}-(-3)^{n}\\bigr)\n+6\\bigl((-2)^{n-1}-(-3)^{n-1}\\bigr).\n\\]\n\n右辺を \\((-2)^{n-1}\\) と \\((-3)^{n-1}\\) に分けて整理すると\n\n\\[\n\\bigl[(-2)^{n-1}\\{(-2)^{2}+5(-2)+6\\}\\bigr]\n-\n\\bigl[(-3)^{n-1}\\{(-3)^{2}+5(-3)+6\\}\\bigr].\n\\]\n\n括弧内はいずれも\n\n\\[\n(-2)^{2}+5(-2)+6=4-10+6=0,\\qquad\n(-3)^{2}+5(-3)+6=9-15+6=0,\n\\]\n\nゆえに **0**。したがって漸化式を満たすことが確認できた。\n\n---\n\n## 7. グラフでイメージ（任意）\n\n```python\nimport matplotlib.pyplot as plt\n\n# a_n の計算関数\ndef a(n):\n    return (-2)**(n-1) - (-3)**(n-1)\n\nN = 10\nvals = [a(k) for k in range(1, N+1)]\n\nplt.figure(figsize=(6,3))\nplt.stem(range(1, N+1), vals, basefmt=\" \")\nplt.xlabel(\"n\")\nplt.ylabel(\"$a_n$\")\nplt.title(\"数列 $a_n$ (n=1〜10)\")\nplt.grid(True)\nplt.show()\n```\n\n上図のように、符号が交互に変わりつつ急激に増加している様子が分かる。\n\n---\n\n## 8. 結論  \n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{a_n = (-2)^{\\,n-1} - (-3)^{\\,n-1}\\;(n\\ge 1)}\n\\]\n\nであり、これが条件をすべて満たす唯一の解である。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_2 = 4, \\quad a_{n+2} - 6a_{n+1} + 9a_n = 0 $$",
            "solution": "$$ a_n = (n+2) \\cdot 3^{n-2} $$",
            "gpt": "# 解答\n\n## 1　漸化式の種類を確認する  \n与えられた漸化式  \n\n\\[\na_{n+2}-6a_{n+1}+9a_n=0\\qquad(n\\ge1)\n\\]\n\nは  \n「定係数・2階同次線形漸化式」  \nに当たります。  \nこのタイプは **特性方程式** を立て、その解を用いて一般項を決定できます。\n\n---\n\n## 2　特性方程式を解く  \n\n漸化式  \n\\[\na_{n+2}-6a_{n+1}+9a_n=0\n\\]  \nに対し、  \n\\[\nr^{n+2}-6r^{n+1}+9r^{n}=0\n\\]  \nの形を想定すると、べきはすべて \\(r^{n}\\) にそろっているので約分でき、  \n\n\\[\n\\boxed{\\,r^{2}-6r+9=0\\,}\n\\]\n\nを得ます。これが特性方程式です。\n\n### 解を求める\n\\[\nr^{2}-6r+9=(r-3)^2=0\n\\]\nしたがって\n\n\\[\n\\boxed{r=3}\\quad(\\text{重解：2重根})\n\\]\n\n---\n\n## 3　重解の場合の一般形  \n\n2重根 \\(r=3\\) のとき、一般項は\n\n\\[\na_n=(C_1 + C_2 n)\\,3^{\\,n}\\qquad(\\ast)\n\\]\n\nという形になります。  \n（高校「数学B・数列」では、重解をもつ定係数同次漸化式の解が  \n\\(a_n=(\\alpha+\\beta n)r^{n}\\) になることを学びます。）\n\n---\n\n## 4　初期条件で定数を決定する  \n\n初期条件  \n\\[\na_1=1,\\qquad a_2=4\n\\]  \nを式 (\\*) に代入します。\n\n### (1) \\(n=1\\) を代入  \n\\[\na_1=1=(C_1+C_2\\cdot1)3^{1}=3(C_1+C_2)\n\\]\n\\[\n\\Rightarrow\\quad C_1 + C_2=\\frac{1}{3}\\tag{①}\n\\]\n\n### (2) \\(n=2\\) を代入  \n\\[\na_2=4=(C_1+C_2\\cdot2)3^{2}=9(C_1+2C_2)\n\\]\n\\[\n\\Rightarrow\\quad C_1 + 2C_2=\\frac{4}{9}\\tag{②}\n\\]\n\n### (3) 連立して \\(C_1, C_2\\) を求める  \n(②)−(①)  \n\\[\n(C_1+2C_2)-(C_1+C_2)=C_2=\\frac{4}{9}-\\frac{1}{3}\n            =\\frac{4}{9}-\\frac{3}{9}=\\frac{1}{9}\n\\]\n\n\\[\nC_1=\\frac{1}{3}-C_2=\\frac{1}{3}-\\frac{1}{9}\n     =\\frac{3}{9}-\\frac{1}{9}=\\frac{2}{9}\n\\]\n\n---\n\n## 5　一般項を完成させる  \n\n\\[\na_n=(C_1+C_2 n)3^{n}\n     =\\Bigl(\\frac{2}{9}+\\frac{1}{9}n\\Bigr)3^{n}\n     =\\frac{n+2}{9}\\,3^{n}\n\\]\n\n分母の \\(9=3^{2}\\) をまとめると、より簡潔に\n\n\\[\n\\boxed{\\;\na_n=(n+2)3^{\\,n-2}\\;\n}\\qquad(n\\ge1)\n\\]\n\n---\n\n## 6　確認（n=1,2 で一致するか）  \n\n・\\(n=1\\)：  \n\\((1+2)3^{-1}=3\\cdot\\dfrac13=1\\) ◯  \n\n・\\(n=2\\)：  \n\\((2+2)3^{0}=4\\cdot1=4\\) ◯  \n\n両初期条件を満たしているので正しいことが確かめられました。\n\n---\n\n## 7　結論  \n\n数列 \\(\\{a_n\\}\\) の一般項は\n\n\\[\n\\boxed{a_n=(n+2)\\,3^{n-2}}\\qquad(n\\ge1)\n\\]\n\nである。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 5, \\quad a_{n+1} = 8a_n^2 $$",
            "solution": "$$ a_n = \\frac{1}{8} \\cdot {40^2}^{n-1} $$",
            "gpt": "# 解答\n\n## 1　問題整理  \n与えられた漸化式  \n\\[\na_{1}=5,\\qquad a_{n+1}=8a_{n}^{2}\\qquad(n=1,2,3,\\dots)\n\\]  \nの一般項 \\(a_n\\) を求める。\n\n---\n\n## 2　対数を用いて一次漸化式に帰着  \n右辺が 2 乗になっているため，対数を取ると **指数部分が線形化** できる。\n\n\\[\nb_n:=\\log a_n\\qquad(\\log は任意の底でよい。以下では自然対数を想定)\n\\]\n\nすると  \n\n\\[\nb_{n+1}= \\log a_{n+1}= \\log\\!\\bigl(8a_n^{2}\\bigr)=\\log 8 + 2\\log a_n\n= \\log 8 + 2b_n\n\\]\n\nよって \\(b_n\\) は一次漸化式  \n\\[\n\\boxed{\\,b_{n+1}=2b_n+\\log 8\\,}\n\\]\nを満たす。\n\n---\n\n## 3　一次漸化式の一般解  \n差分方程式  \n\\[\nb_{n+1}-2b_n=\\log 8\n\\]\nの一般解を求める。\n\n1. 同次方程式 \\(b_{n+1}-2b_n=0\\) の解は  \n   \\[\n   b_n^{(h)}=C\\cdot 2^{\\,n-1}\\qquad(C:定数)\n   \\]\n2. 定数解を仮定すると \\(b_n^{(p)}=K\\) とおけるので  \n   \\[\n   K-2K=\\log 8\\quad\\Longrightarrow\\quad K=-\\log 8\n   \\]\n\nしたがって\n\n\\[\nb_n=b_n^{(h)}+b_n^{(p)}=C\\cdot 2^{\\,n-1}-\\log 8\n\\]\n\n初期条件 \\(b_1=\\log a_1=\\log 5\\) を代入すると\n\n\\[\n\\log 5=C-\\log 8 \\quad\\Longrightarrow\\quad \nC=\\log 5+\\log 8=\\log(5\\cdot 8)=\\log 40\n\\]\n\nよって\n\n\\[\n\\boxed{\\,b_n=\\log 40 \\cdot 2^{\\,n-1}-\\log 8\\,}\n\\]\n\n---\n\n## 4　元の数列に戻す  \n\\(b_n=\\log a_n\\) だったから、\n\n\\[\na_n=\\exp(b_n)=\\exp\\!\\bigl(\\log 40 \\cdot 2^{\\,n-1}\\bigr)\\exp(-\\log 8)\n=\\frac{40^{\\,2^{\\,n-1}}}{8}\n\\]\n\n40 を \\(5\\cdot 8\\) と分解して整理すると\n\n\\[\n\\boxed{\\;\na_n\n=\\frac{(5\\cdot 8)^{2^{\\,n-1}}}{8}\n=5^{\\,2^{\\,n-1}}\\;8^{\\,2^{\\,n-1}-1}\n\\;}\n\\]\n\n---\n\n## 5　数学的帰納法による確認  \n\n初項  \n\\(n=1\\) のとき  \n\\(a_1=5^{1}\\,8^{0}=5\\) で成立。\n\n帰納法  \n\\(a_n=5^{2^{n-1}}8^{2^{n-1}-1}\\) と仮定すると\n\n\\[\n\\begin{aligned}\na_{n+1}\n&=8a_n^{2}\n=8\\left(5^{2^{n-1}}8^{2^{n-1}-1}\\right)^{2}\\\\\n&=8\\;\\bigl(5^{2^{n}}\\bigr)\\;\\bigl(8^{2^{n}-2}\\bigr)\n=5^{2^{n}}\\;8^{2^{n}-1},\n\\end{aligned}\n\\]\nとなり，同じ形で指数の \\(n\\) を \\(n+1\\) に置き換えた式が得られるため成立。  \n以上により一般項は正しい。\n\n---\n\n## 6　数値例とグラフで確認  \n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef a(n):\n    return (5**(2**(n-1))) * (8**(2**(n-1)-1))\n\nN = 6                      # 1〜6項を描画\nns = np.arange(1, N+1)\nvals = [a(k) for k in ns]\n\nplt.figure(figsize=(6,3))\nplt.semilogy(ns, vals, 'o-', label=r'$a_n$')  # 対数目盛で描画\nplt.xlabel(r'$n$')\nplt.ylabel(r'$a_n$ (log scale)')\nplt.title('Sequence $a_n$')\nplt.grid(True, which='both', ls='--', alpha=0.5)\nplt.legend()\nplt.tight_layout()\nplt.show()\n```\n\n上のコードを実行すると，下図のように指数関数的どころか“倍々乗”で急激に増大する様子が確認できる（縦軸は対数目盛）。\n\n![graph](attachment:sequence_an.png)\n\n---\n\n## 7　まとめ  \n漸化式 \\(a_{n+1}=8a_n^{2}\\) は対数を取ることで一次漸化式に直せる。  \n得られた一般項は\n\n\\[\n\\boxed{\\,a_n=5^{2^{\\,n-1}}\\;8^{2^{\\,n-1}-1}}\n\\]\n\nあるいは\n\n\\[\n\\boxed{\\,a_n=\\dfrac{40^{\\,2^{\\,n-1}}}{8}}\n\\]\n\nであり，高校数学の範囲で完全に求めることができた。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $ \\{a_n\\} $ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = a_n + 3 $$",
            "solution": "$$ a_n = 3n - 1 $$",
            "gpt": "# 解答  \n\n## 1. 数列の性質を確認する  \n与えられた条件  \n\\[\na_1 = 2,\\qquad a_{n+1}=a_n+3 \\quad (n=1,2,3,\\dots)\n\\]  \nから，隣り合う項の差は常に  \n\\[\na_{n+1}-a_n = 3\n\\]  \nとなります。これは「公差が \\(3\\) の等差数列」であることを意味します。  \n\n---\n\n## 2. 等差数列の一般項の公式  \n公差を \\(d\\)，初項を \\(a_1\\) とすると，等差数列の一般項 \\(a_n\\) は  \n\\[\na_n = a_1 + (n-1)d\n\\]  \nで与えられます。ここで  \n\\[\na_1 = 2,\\qquad d = 3\n\\]  \nなので，公式に代入すると  \n\n\\[\n\\boxed{\\,a_n = 2 + (n-1)\\cdot 3\\,}\n      = 2 + 3n - 3\n      = \\boxed{\\,3n - 1\\,}\\quad (n=1,2,3,\\dots)\n\\]\n\n---\n\n## 3. 数学的帰納法による確認（任意の \\(n\\) で成り立つことの証明）  \n\n1. 【基底（n = 1）】  \n   \\[\n   a_1 = 2,\\qquad 3\\cdot 1 - 1 = 2\n   \\]  \n   よって \\(a_1 = 3\\cdot 1 - 1\\) で一致する。\n\n2. 【帰納法の仮定】  \n   ある自然数 \\(k\\) で  \n   \\[\n   a_k = 3k - 1\n   \\]  \n   が成り立つと仮定する。\n\n3. 【帰納法のステップ】  \n   漸化式より  \n   \\[\n   a_{k+1} = a_k + 3\n            = (3k - 1) + 3    \\quad \\bigl( \\text{帰納法の仮定を代入} \\bigr)\n            = 3k + 2\n            = 3(k+1) - 1.\n   \\]\n   したがって \\(a_{k+1} = 3(k+1) - 1\\) が成立する。\n\n4. 【結論】  \n   基底が成り立ち，帰納法のステップも成立したので，任意の自然数 \\(n\\) について  \n   \\[\n   a_n = 3n - 1\n   \\]  \n   が成り立つ。\n\n---\n\n## 4. 図によるイメージ（先頭 10 項の表示）\n\n```python\nimport matplotlib.pyplot as plt\n\nn = list(range(1, 11))\na = [3*k - 1 for k in n]\n\nplt.figure(figsize=(6, 3))\nplt.stem(n, a, use_line_collection=True)\nplt.title(\"数列 $a_n = 3n-1$（n = 1 〜 10）\")\nplt.xlabel(\"n\")\nplt.ylabel(\"$a_n$\")\nplt.grid(True, linestyle='--', alpha=0.5)\nplt.show()\n```\n\n上のコードを実行すると，下図のように一次関数的（直線的）に増加する様子が確認できます。  \n\n---\n\n## 5. まとめ  \n数列 \\(\\{a_n\\}\\) は公差 \\(3\\) の等差数列であり，一般項は  \n\n\\[\n\\boxed{a_n = 3n - 1}\\quad (n=1,2,3,\\dots)\n\\]\n\nこれで求めるべき「一般項」は完全に決まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = -2a_n $$",
            "solution": "$$ a_n = (-2)^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 問題の確認  \n数列 \\(\\{a_n\\}\\) は  \n\\[\na_1 = 1,\\qquad a_{n+1} = -2a_n\\quad (n=1,2,3,\\dots)\n\\]  \nで定められています。これを満たす **一般項 \\(a_n\\)** を求めます。\n\n---\n\n## 2. 解法の方針  \n与えられた漸化式は\n\n- 前項 \\(a_n\\) に定数 \\(-2\\) を掛けて次項 \\(a_{n+1}\\) を得る  \n- すなわち「**等比数列**（公比が \\(-2\\)）」の形\n\nであるため、一般に  \n\\[\na_n = a_1 \\times (\\text{公比})^{\\,n-1}\n\\]  \nで表せることがわかります。以下、式変形の過程と帰納法による確認を丁寧に行います。\n\n---\n\n## 3. 等比数列としての導出\n\n1. 公比を \\(r\\) とおくと  \n   \\[\n   a_{n+1}=ra_n\n   \\]\n   に対応します。今回の漸化式は  \n   \\[\n   a_{n+1} = -2a_n\n   \\]\n   なので、公比は  \n   \\[\n   r = -2\n   \\]\n\n2. よって等比数列の一般項の公式  \n   \\[\n   a_n = a_1 r^{\\,n-1}\n   \\]\n   を用いると\n   \\[\n   a_n = 1 \\times (-2)^{\\,n-1} = (-2)^{\\,n-1}\n   \\]\n\n---\n\n## 4. 数学的帰納法による正当性の確認  \n「**すべての正の整数 \\(n\\)** で \\(a_n = (-2)^{n-1}\\) となる」ことを証明します。\n\n### (1) 基礎段階\n\\(n=1\\) のとき  \n\\[\na_1 = 1,\\qquad (-2)^{1-1}=(-2)^0=1\n\\]  \n一致するので成り立ちます。\n\n### (2) 帰納段階  \n帰納法の仮定として、ある自然数 \\(k\\) で  \n\\[\na_k = (-2)^{k-1}\n\\]  \nが成り立つと仮定します。  \nすると漸化式より  \n\\[\na_{k+1}= -2 a_k = -2\\bigl((-2)^{k-1}\\bigr)=(-2)^k\n\\]  \nであり、これは  \n\\[\n(-2)^{(k+1)-1}=(-2)^k\n\\]  \nと一致します。したがって \\(n=k+1\\) でも成り立ちます。\n\n### (3) 結論  \n基礎段階と帰納段階がともに真であるため、すべての正の整数 \\(n\\) で  \n\\[\na_n=(-2)^{\\,n-1}\n\\]  \nが成立します。\n\n---\n\n## 5. 最終結果  \n以上より、求める一般項は\n\n\\[\n\\boxed{\\,a_n = (-2)^{\\,n-1}\\,}\n\\]\n\n---\n\n## 6. ちょっとした確認（数値例）\n\n| \\(n\\) | 漸化式で計算した値 \\(a_n\\) | 一般項 \\((-2)^{n-1}\\) |\n|:--:|:--:|:--:|\n| 1 | 1 | 1 |\n| 2 | \\(-2\\) | \\(-2\\) |\n| 3 | 4 | 4 |\n| 4 | \\(-8\\) | \\(-8\\) |\n\nすべて一致していることがわかり、導出した一般項が正しいと直感的にも確認できます。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 3, \\quad a_{n+1} = a_n - 5 $$",
            "solution": "$$ a_n = -5n + 8 $$",
            "gpt": "# 解答\n\n## 1. 数列の性質の確認  \n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\na_1 = 3 , \\qquad a_{n+1}=a_n-5 \\quad (n=1,2,3,\\dots)\n\\]\n\nと定められています。  \nこの漸化式は「前の項から一定値 \\( -5 \\) を引く」という形なので、数列 $\\{a_n\\}$ は**等差数列**になります。\n\n- 初項（第1項）：\\(a_1 = 3\\)\n- 公差：\\(d = -5\\)\n\n---\n\n## 2. 等差数列の一般項の公式  \n等差数列の一般項 \\(a_n\\) は\n\n\\[\na_n = a_1 + (n-1)d\n\\]\n\nで与えられます。  \nここで \\(a_1=3\\)、\\(d=-5\\) を代入すると\n\n\\[\na_n = 3 + (n-1)(-5)\n\\]\n\n---\n\n## 3. 式の整理  \n\\[\n\\begin{aligned}\na_n &= 3 - 5(n-1) \\\\\n    &= 3 - 5n + 5 \\\\\n    &= 8 - 5n\n\\end{aligned}\n\\]\n\n---\n\n## 4. 結論（一般項）  \n\\[\n\\boxed{\\,a_n = 8 - 5n\\quad (n=1,2,3,\\dots)\\,}\n\\]\n\n---\n\n## 5. 確認（数学的帰納法の一例）\n\n1. 基底ステップ（\\(n=1\\)）  \n   \\[\n   a_1 = 8-5\\cdot1 = 3\n   \\]\n   与えられた条件 \\(a_1=3\\) を満たす。\n\n2. 帰納法の仮定  \n   ある \\(k\\) で \\(a_k = 8-5k\\) が成り立つと仮定する。\n\n3. 帰納ステップ  \n   \\[\n   a_{k+1} = a_k - 5 = \\bigl(8-5k\\bigr) - 5 = 8 - 5(k+1)\n   \\]\n   したがって \\(a_{k+1}\\) も同じ形で表せる。\n\n基底ステップと帰納ステップを満たすので、すべての自然数 \\(n\\) で  \n\\(a_n = 8 - 5n\\) が成り立つことが確認できました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = -2, \\quad a_{n+1} = 3a_n $$",
            "solution": "$$ a_n = -2 \\cdot 3^{n-1} $$",
            "gpt": "# 解答\n\n## 1. 与えられた条件の整理  \n数列 \\(\\{a_n\\}\\) について  \n\n\\[\na_1 = -2, \\qquad \na_{n+1} = 3a_n \\quad (n=1,2,3,\\dots)\n\\]\n\nが与えられています。  \n右辺が **前項に 3 を掛けたもの**になっているので、これは典型的な**等比数列**です。\n\n---\n\n## 2. 一般項の推測  \n等比数列の一般項は  \n\n\\[\na_n = a_1 \\, r^{\\,n-1}\n\\]\n\nと表せます。ただし  \n\\(a_1\\)：初項  \n\\(r\\)：公比\n\nここでは\n\n\\[\na_1 = -2,\\qquad r = 3\n\\]\n\nなので  \n\n\\[\n\\boxed{\\,a_n = -2 \\cdot 3^{\\,n-1}\\,}\n\\]\n\n---\n\n## 3. 数学的帰納法による確認（証明）\n\n### (1) 基底確認  \n\\(n = 1\\) のとき  \n\\[\na_1 = -2 \\cdot 3^{1-1} = -2 \\cdot 1 = -2\n\\]\n与えられた条件 \\(a_1=-2\\) と一致します。\n\n### (2) 帰納法の仮定  \nある自然数 \\(k\\) について  \n\\[\na_k = -2 \\cdot 3^{k-1}\n\\]\nが成り立つと仮定します。\n\n### (3) 帰納法のステップ  \n漸化式 \\(a_{k+1}=3a_k\\) を利用すると  \n\n\\[\na_{k+1}= 3a_k\n          = 3 \\left(-2 \\cdot 3^{k-1}\\right)\n          = -2 \\cdot 3^{k}\n          = -2 \\cdot 3^{(k+1)-1}\n\\]\n\nよって \\(a_{k+1}\\) も同じ形になることが確認できました。\n\n### (4) 結論  \n(1)(3) により、すべての自然数 \\(n\\) について  \n\n\\[\na_n = -2 \\cdot 3^{\\,n-1}\n\\]\n\nが成り立ちます。したがって、これが一般項です。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 3, \\quad a_{n+1} = a_n + 2^n $$",
            "solution": "$$ a_n = 2^n + 1 $$",
            "gpt": "# 解答\n\n## 1. 数列の構造を調べる\n\n与えられた漸化式は  \n\n\\[\na_1 = 3, \\qquad a_{n+1}=a_n+2^{\\,n}\\quad(n\\ge 1)\n\\]\n\nです。  \n右辺に \\(a_n\\) と \\(2^{\\,n}\\) が現れており、差分が\n\n\\[\na_{n+1}-a_n = 2^{\\,n}\n\\]\n\nとわかります。これは――\n\n・「初項に“足し算”を繰り返していく」  \n・「足す量が \\(n\\) によって決まる」\n\n――という「和を取るタイプ」の数列で、**部分和**を求めれば一般項がわかります。\n\n## 2. 部分和を取る\n\nまず \\(a_2\\) から \\(a_n\\) までの増分を足し合わせます。\n\n\\[\n\\begin{aligned}\na_n\n  &= a_1 + (a_2-a_1) + (a_3-a_2)+\\dots+(a_n-a_{n-1}) \\\\[2pt]\n  &= 3 + \\sum_{k=1}^{n-1} 2^{\\,k}\n\\end{aligned}\n\\]\n\nここで現れた\n\n\\[\n\\sum_{k=1}^{n-1} 2^{\\,k}\n\\]\n\nは、公比 \\(2\\)、初項 \\(2\\)、項数 \\(n-1\\) の等比数列の和です。  \n高校で習う公式\n\n\\[\nS = a\\frac{r^{m}-1}{r-1}\\quad\n\\left(\n\\begin{array}{l}\na:\\text{初項}\\\\\nr:\\text{公比}\\\\\nm:\\text{項数}\n\\end{array}\n\\right)\n\\]\n\nを用いると\n\n\\[\n\\sum_{k=1}^{n-1} 2^{\\,k}\n  = 2\\;\\frac{2^{\\,n-1}-1}{2-1}\n  = 2\\bigl(2^{\\,n-1}-1\\bigr)\n  = 2^{\\,n} - 2.\n\\]\n\nしたがって\n\n\\[\na_n = 3 + \\bigl(2^{\\,n} - 2\\bigr)\n     = 2^{\\,n} + 1.\n\\]\n\n## 3. 結論（一般項）\n\n\\[\n\\boxed{\\,a_n = 2^{\\,n} + 1\\quad(n\\ge 1)\\,}\n\\]\n\n## 4. 一般項の正しさを確認（数学的帰納法）\n\n念のため、数学的帰納法で確かめます。\n\n1. （基礎）\\(n=1\\) のとき  \n   \\[\n   a_1 = 3,\\qquad\n   2^{\\,1}+1 = 3\n   \\]\n   より成立。\n\n2. （帰納）ある \\(n\\) で \\(a_n = 2^{\\,n}+1\\) が成り立つと仮定する。  \n   漸化式より\n   \\[\n   a_{n+1} = a_n + 2^{\\,n}\n            = \\bigl(2^{\\,n}+1\\bigr)+2^{\\,n}\n            = 2^{\\,n+1}+1.\n   \\]\n   したがって \\(n+1\\) でも命題は真。\n\n基礎と帰納の二つが成り立ったので、すべての自然数 \\(n\\) に対して\n\n\\[\na_n = 2^{\\,n}+1\n\\]\n\nが正しいことが証明されました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = a_n + 3^n $$",
            "solution": "$$ a_n = \\frac{ 3^n + 1 }{ 2 } $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式\n\n\\[\na_1 = 2,\\qquad \na_{n+1}=a_n+3^{n}\\quad(n\\ge1)\n\\]\n\nを満たす数列 \\(\\{a_n\\}\\) の一般項 \\(a_n\\) を求めます。\n\n---\n\n## 2. 階差（かいさ）に注目する\n\n漸化式を\n\n\\[\na_{n+1}-a_n = 3^{n}\\qquad(n\\ge1)\n\\]\n\nと書くと，左辺は「**隣り合う項の差（階差）**」，右辺は \\(n\\) だけの式になっています。  \nこのタイプの漸化式は **両辺を初項から順に足し上げる（テレスコーピング）** と，簡単に一般項が得られます。\n\n---\n\n## 3. 両辺を 1 から \\(n-1\\) まで総和する\n\nまず \\(n\\ge2\\) として\n\n\\[\n\\sum_{k=1}^{n-1} (a_{k+1}-a_k)\n    \\;=\\;\n\\sum_{k=1}^{n-1} 3^{k}\n\\]\n\n左辺は望遠鏡和（telescoping sum）になり，多くの項が打ち消し合います：\n\n\\[\n(a_2-a_1)+(a_3-a_2)+\\dots+(a_n-a_{n-1})\n   = a_n-a_1\n\\]\n\nよって\n\n\\[\na_n-a_1 = \\sum_{k=1}^{n-1} 3^{k}.\n\\]\n\n---\n\n## 4. 右辺は等比数列の和\n\n等比数列 \\(\\{3^k\\}\\)（公比 3，初項 \\(3^1\\)）の和公式\n\n\\[\n\\sum_{k=1}^{m} 3^{k} \n  = 3\\,\\frac{3^{m}-1}{3-1}\n  = \\frac{3(3^{m}-1)}{2}\n\\]\n\nを \\(m=n-1\\) に適用すると\n\n\\[\n\\sum_{k=1}^{n-1} 3^{k}\n  = \\frac{3(3^{\\,n-1}-1)}{2}\n  = \\frac{3^n-3}{2}.\n\\]\n\n---\n\n## 5. \\(a_n\\) を求める\n\n\\[\na_n - a_1 = \\frac{3^n-3}{2}\n\\quad\\Longrightarrow\\quad\na_n = a_1 + \\frac{3^n-3}{2}.\n\\]\n\n初項 \\(a_1=2\\) を代入して整理すると\n\n\\[\na_n\n= 2+\\frac{3^n-3}{2}\n= \\frac{4+3^n-3}{2}\n= \\boxed{\\displaystyle \\frac{3^{\\,n}+1}{2}}\\quad(n\\ge1).\n\\]\n\n---\n\n## 6. 確認（数学的帰納法）\n\n求めた式 \\(a_n=\\dfrac{3^{\\,n}+1}{2}\\) が漸化式を満たすことを示します。\n\n1. 基底ステップ：  \n   \\(n=1\\) で  \n   \\(\\displaystyle a_1 = \\frac{3^1+1}{2} = \\frac{4}{2}=2\\)  \n   は与えられた \\(a_1=2\\) と一致。\n2. 帰納ステップ：  \n   \\(n=k\\) で成り立つと仮定すると\n   \\[\n     a_k = \\frac{3^{\\,k}+1}{2}.\n   \\]\n   漸化式より\n   \\[\n     a_{k+1}=a_k+3^{k}\n            =\\frac{3^{\\,k}+1}{2}+3^{k}\n            =\\frac{3^{\\,k}+1+2\\!\\cdot\\!3^{k}}{2}\n            =\\frac{3\\!\\cdot\\!3^{k}+1}{2}\n            =\\frac{3^{\\,k+1}+1}{2},\n   \\]\n   となり \\(n=k+1\\) でも成り立つ。\n\n基底と帰納ステップの両方が成立したので，すべての \\(n\\) で公式が正しいことが確認されました。  \n\n---\n\n## 7. 参考：初項から数値を並べる\n\nPython で \\(a_n\\) を 1～6 項まで計算し，式と突き合わせてみます。\n\n```python\nimport numpy as np\nn = np.arange(1,7)\na = (3**n + 1)//2   # 整数として出力\nprint(dict(zip(n, a)))\n```\n\n実行結果例  \n```\n{1: 2, 2: 5, 3: 14, 4: 41, 5: 122, 6: 365}\n```\n\n漸化式で手計算しても同じ列 \\(2,\\;5,\\;14,\\;41,\\;122,\\;365,\\dots\\) となり，公式が正しいことが確認できます。\n\n---\n\n## 8. 結論\n\n数列 \\(\\{a_n\\}\\) は\n\n\\[\n\\boxed{\\displaystyle a_n=\\frac{3^{\\,n}+1}{2}\\quad(n\\ge1)}\n\\]\n\nが一般項です。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 2, \\quad a_{n+1} = a_n + n^2 + n $$",
            "solution": "$$ a_n = \\frac{1}{3}(n-1)n(n+1) + 2 $$",
            "gpt": "# 解答\n\n## 1. 与えられた漸化式\n\\[\na_1 = 2,\\qquad \na_{n+1}=a_n+n^2+n\\quad (n\\ge1)\n\\]\n\n## 2. 階差をとって和をとる方針  \n漸化式を\n\\[\na_{n+1}-a_n = n^2+n\n\\]\nと書き，両辺を \\(n=1,2,\\dots ,n-1\\) まで加算します。（「階差の和＝全体の差」という telescoping の考え方です。）\n\n### 2.1 左辺の和  \n\\[\n\\sum_{k=1}^{\\,n-1}(a_{k+1}-a_k)=a_n-a_1\n\\]\n\n### 2.2 右辺の和  \n\\[\n\\sum_{k=1}^{\\,n-1}(k^2+k)=\\sum_{k=1}^{\\,n-1}k^2+\\sum_{k=1}^{\\,n-1}k\n\\]\n\n高校数学で習う公式を用いると\n\n\\[\n\\begin{aligned}\n\\sum_{k=1}^{m}k &= \\frac{m(m+1)}{2},\\\\[4pt]\n\\sum_{k=1}^{m}k^2 &= \\frac{m(m+1)(2m+1)}{6}.\n\\end{aligned}\n\\]\n\nここで \\(m=n-1\\) と置くと\n\n\\[\n\\begin{aligned}\n\\sum_{k=1}^{\\,n-1}k &= \\frac{(n-1)n}{2},\\\\[4pt]\n\\sum_{k=1}^{\\,n-1}k^2 &= \\frac{(n-1)n(2n-1)}{6}.\n\\end{aligned}\n\\]\n\nしたがって\n\n\\[\n\\sum_{k=1}^{\\,n-1}(k^2+k)=\n\\frac{(n-1)n(2n-1)}{6}+\\frac{(n-1)n}{2}.\n\\]\n\n## 3. 左右を結合して \\(a_n\\) を求める\n\\[\na_n-a_1\n      =\\frac{(n-1)n(2n-1)}{6}+\\frac{(n-1)n}{2}.\n\\]\n\n共通分母を 6 にそろえると\n\n\\[\n\\frac{(n-1)n(2n-1)}{6}+\\frac{3(n-1)n}{6}\n   =\\frac{(n-1)n\\bigl[(2n-1)+3\\bigr]}{6}\n   =\\frac{(n-1)n(2n+2)}{6}\n   =\\frac{2(n-1)n(n+1)}{6}.\n\\]\n\nよって\n\n\\[\na_n-a_1=\\frac{2(n-1)n(n+1)}{6}\n       =\\frac{(n-1)n(n+1)}{3}.\n\\]\n\n初項 \\(a_1=2\\) を代入すると\n\n\\[\na_n\n  =2+\\frac{(n-1)n(n+1)}{3}.\n\\]\n\n## 4. 形を整える\n積 \\((n-1)n(n+1)\\) は\n\\[\n(n-1)n(n+1)=n(n^2-1)=n^3-n\n\\]\nであるから，\n\n\\[\n\\boxed{\\displaystyle a_n = 2+\\frac{n^3-n}{3}\n      =\\frac{n^3-n+6}{3}}\n      \\qquad(n\\ge1).\n\\]\n\n## 5. 確認（帰納法）\n最後に，導いた一般項が漸化式を満たすことを示しておきます。\n\n1. 基底  \n   \\(n=1\\) のとき  \n   \\[\n   a_1=\\frac{1^3-1+6}{3}=2 \n   \\]  \n   与えられた初項と一致。\n\n2. 帰納法の仮定  \n   ある \\(n\\) で  \n   \\[\n   a_n=\\frac{n^3-n+6}{3}\n   \\]\n   が成り立つと仮定。\n\n3. 帰納ステップ  \n   漸化式より  \n   \\[\n   a_{n+1}=a_n+n^2+n\n          =\\frac{n^3-n+6}{3}+n^2+n\n          =\\frac{n^3-n+6+3n^2+3n}{3}\n          =\\frac{(n+1)^3-(n+1)+6}{3},\n   \\]\n   すなわち  \n   \\[\n   a_{n+1}=\\frac{(n+1)^3-(n+1)+6}{3}.\n   \\]\n   よって一般項は帰納的に正しい。\n\n以上より  \n\\[\n\\boxed{a_n = \\dfrac{n^3-n+6}{3}}\n\\]  \nがこの数列の完全な一般項であることが確定しました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_{n+1} = 3a_n + 2 $$",
            "solution": "$$ a_n = 2 \\cdot 3^{n-1} - 1 $$",
            "gpt": "# 解答\n\n## 1.  問題の構造確認  \n与えられた数列 $\\{a_n\\}$ は  \n\n\\[\na_1 = 1, \\qquad a_{n+1}=3a_n+2\\qquad(n\\ge 1)\n\\]\n\nで定まる一次漸化式（線形漸化式）です。  \n一次漸化式  \n\\[\nx_{n+1}=px_n+q\n\\]  \n（定数 $p,q$ は実数）の一般解は、高校数学 II で学ぶ **「特解＋同次解」** の方法で求められます。以下その手順を丁寧にたどります。\n\n---\n\n## 2.  特解（定数解）を探す  \n右辺が $n$ によらず定数 $q=2$ なので、**定数** $A$ を特解として試します。  \n定数であれば $a_{n+1}=a_n=A$ が成り立つので、漸化式に代入すると\n\n\\[\nA = 3A + 2 \\quad\\Longrightarrow\\quad -2A = 2 \\quad\\Longrightarrow\\quad A = -1.\n\\]\n\nしたがって **定数特解** は  \n\n\\[\na_n^{(\\text{特})} = -1.\n\\]\n\n---\n\n## 3.  同次方程式（$q=0$ の場合）の解  \n元の漸化式から定数特解を引いて同次形に直すと分かりやすくなります。  \nそこで\n\n\\[\nb_n := a_n - (-1) = a_n + 1\n\\]\n\nと置き換えます。すると  \n\n\\[\n\\begin{aligned}\nb_{n+1} &= a_{n+1}+1  \n        = (3a_n+2)+1  \n        = 3a_n+3  \n        = 3(a_n+1)  \n        = 3b_n.\n\\end{aligned}\n\\]\n\nよって $b_{n+1}=3b_n$ となり、これは初等的な**等比数列**です。  \n初項は\n\n\\[\nb_1 = a_1 + 1 = 1 + 1 = 2.\n\\]\n\n公比 $3$ の等比数列の一般項は  \n\n\\[\nb_n = b_1 \\cdot 3^{\\,n-1}=2\\cdot3^{\\,n-1}\\qquad(n\\ge 1).\n\\]\n\n---\n\n## 4.  元の数列の一般項  \nもとの関係 $b_n=a_n+1$ に戻すと\n\n\\[\na_n = b_n - 1 = 2\\cdot3^{\\,n-1} - 1.\n\\]\n\n---\n\n## 5.  結論（必要十分性の確認を含む）  \n求めた式\n\n\\[\n\\boxed{\\,a_n = 2\\cdot3^{\\,n-1}-1\\,(n\\ge 1)\\,}\n\\]\n\nが本当に条件を満たすか確認します。\n\n1) 初項  \n\\[\na_1 = 2\\cdot3^{0}-1 = 2-1=1\\quad(\\text{OK})\n\\]\n\n2) 漸化式  \n\\[\n\\begin{aligned}\na_{n+1} &= 2\\cdot3^{\\,n}-1,\\\\\n3a_n+2 &= 3\\bigl(2\\cdot3^{\\,n-1}-1\\bigr)+2 = 2\\cdot3^{\\,n}-3+2 = 2\\cdot3^{\\,n}-1.\n\\end{aligned}\n\\]\n\n両者が一致するので漸化式も満たします。  \nしたがって上の式以外の値を取る可能性はなく、**数列 $\\{a_n\\}$ の一般項は唯一**  \n\\[\na_n = 2\\cdot3^{\\,n-1}-1\n\\]\nで決定されます。\n\n---\n\n## 6.  参考：数項を書き出すと\n| $n$ | $a_n$ |\n|----|----|\n| 1 | 1 |\n| 2 | $3\\cdot1+2=5$ |\n| 3 | $3\\cdot5+2=17$ |\n| 4 | $3\\cdot17+2=53$ |\n| 5 | $3\\cdot53+2=161$ |\n\n式 $a_n = 2\\cdot3^{\\,n-1}-1$ でも  \n\\[\n2\\cdot3^{\\,4}-1 = 2\\cdot81-1 = 161\n\\]  \nとなり，一致を確認できます。\n\n以上で求める一般項を完全に示しました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_{n+1} = 1 - \\frac{1}{2}a_n $$",
            "solution": "$$ a_n = -\\frac{2}{3} \\cdot \\left(-\\frac{1}{2}\\right)^{n-1} + \\frac{2}{3} $$",
            "gpt": "# 解答\n\n## 1. 漸化式の整理\n与えられた漸化式は  \n\n\\[\na_{n+1}=1-\\frac12\\,a_n \\qquad (n\\ge 1), \\qquad a_1=0\n\\]\n\nです。右辺に定数項がある一次漸化式なので、  \n「定数解（極限値）で平衡化 → 差分で斉次化」  \nという典型的な手順で一般項を求めます。\n\n---\n\n## 2. 定数解（極限値）を調べる\nもし数列が極限 \\(L\\) をもつとすると  \n\\[\nL \\;=\\; 1-\\frac12\\,L\n\\]\nが成り立ちます。整理すると\n\n\\[\n\\frac32\\,L = 1 \\quad\\Longrightarrow\\quad L = \\frac23.\n\\]\n\nこの値を用いて偏差（ずれ）を取ると計算が楽になります。\n\n---\n\n## 3. 偏差列 \\(b_n\\) を導入して斉次化\n\\[\nb_n := a_n - \\frac23 \\qquad (n\\ge 1)\n\\]\nと置くと\n\n\\[\n\\begin{aligned}\nb_{n+1}\n    &= a_{n+1}-\\frac23\n     =\\Bigl(1-\\frac12 a_n\\Bigr)-\\frac23 \\\\\n    &=\\frac13-\\frac12 a_n\n     =-\\frac12 \\Bigl(a_n-\\frac23\\Bigr)\\\\\n    &=-\\frac12\\,b_n.\n\\end{aligned}\n\\]\n\nよって \\(b_n\\) は\n\n\\[\nb_{n+1}=-\\frac12\\,b_n \\qquad(n\\ge 1)\n\\]\n\nという**初等的な等比数列**になります。  \n初項は\n\n\\[\nb_1=a_1-\\frac23=0-\\frac23=-\\frac23.\n\\]\n\n---\n\n## 4. 偏差列の一般項\n公比が \\(-\\dfrac12\\) の等比数列なので\n\n\\[\nb_n\n  = b_1\\left(-\\frac12\\right)^{\\,n-1}\n  = \\left(-\\frac23\\right)\\left(-\\frac12\\right)^{\\,n-1}.\n\\]\n\n---\n\n## 5. 元の数列の一般項\n\\[\n\\begin{aligned}\na_n &= b_n+\\frac23\\\\\n    &= -\\frac23\\left(-\\frac12\\right)^{\\,n-1}+\\frac23\\\\[4pt]\n    &= \\frac23\\Bigl(1-\\left(-\\frac12\\right)^{\\,n-1}\\Bigr).\n\\end{aligned}\n\\]\n\n---\n\n## 6. まとめ（答案）\n\\[\n\\boxed{\\displaystyle\na_n = \\frac23\\left(1-\\left(-\\frac12\\right)^{\\,n-1}\\right)\\quad (n\\ge 1)}\n\\]\n\n---\n\n## 7. 確認\n- \\(n=1\\)： \\(\\;a_1=\\frac23(1-1)=0\\)（初期条件と一致）  \n- \\(n=2\\)： \\(\\;a_2=\\frac23\\bigl(1-(-\\tfrac12)\\bigr)=1\\)  \n  （漸化式で \\(a_2=1-\\tfrac12 a_1=1\\) と一致）  \nこの他 \\(n=3,4,\\dots\\) でも一致することが簡単に確かめられます。\n\n---\n\n## 8. おまけ：収束の様子をグラフで確認\n以下の Python スクリプトを実行すると、値が交互に振動しながら \\(\\dfrac23\\) に近づく様子が分かります。\n\n```python\nimport matplotlib.pyplot as plt\n\nN = 10              # 表示する項数\na = 0               # a1\nseq = [a]\n\nfor _ in range(1, N):\n    a = 1 - 0.5*a   # 漸化式\n    seq.append(a)\n\nplt.figure(figsize=(6,3))\nplt.hlines(2/3, 1, N, colors='gray', linestyles='dashed', label='limit 2/3')\nplt.plot(range(1, N+1), seq, 'o-', label='$a_n$')\nplt.xticks(range(1, N+1))\nplt.xlabel('$n$')\nplt.ylabel('$a_n$')\nplt.legend()\nplt.title('Sequence $a_{n+1}=1-\\\\frac12 a_n$')\nplt.show()\n```\n\n（実行環境によってはグラフが直接表示されます。）\n\n---\n\n以上で、数列 \\(\\{a_n\\}\\) の一般項が求まりました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 1, \\quad a_{n+2} = 3a_{n+1} + 10a_n $$",
            "solution": "$$ \\frac{1}{7} \\Bigl\\{ 5^{n-1} - (-2)^{n-1} \\Bigr\\} $$",
            "gpt": "# 解答\n\n## 1　漸化式の種類を確認  \n与えられた数列  \n\\[\na_{n+2}=3a_{n+1}+10a_n \\qquad(n\\ge 1),\\qquad\na_1=0,\\;a_2=1\n\\]  \nは  \n「項が２つ前までの線形結合で表される **２次線形漸化式（定係数・斉次形）**」  \nです。高校数学では、次の手順で一般項を求めます。\n\n1. 特性方程式を立てる  \n2. 根を求め、一般解（＝基本形）を書く  \n3. 初期条件で係数を決定する\n\n---\n\n## 2　特性方程式を立てる  \n\n漸化式の右辺をすべて左辺に移項し\n\n\\[\na_{n+2}-3a_{n+1}-10a_n=0\n\\]\n\nこれと同じ形をとる一次式  \n\\[\nr^{n+2}-3r^{\\,n+1}-10r^{\\,n}=0\n\\]\nを考え、\\(r^n\\) でくくると\n\n\\[\nr^2-3r-10=0\n\\]\n\nこれを **特性方程式** と呼びます。\n\n---\n\n## 3　特性方程式の解  \n\n\\[\nr^2-3r-10=(r-5)(r+2)=0\n\\]\n\nしたがって  \n\\[\nr_1=5,\\qquad r_2=-2\n\\]\n\n根は重複せず、２つとも異なる実数なので、一般解（基本形）は\n\n\\[\na_n=A\\cdot5^{\\,n}+B\\cdot(-2)^{\\,n}\\qquad(\\ast)\n\\]\n\nただし \\(A,B\\) は定数です。\n\n> 注意  \n> 初期条件が \\(a_1,a_2\\) なので、後で代入しやすいように  \n> \\((\\ast)\\) のままでも良いのですが、指数の開始を合わせるため  \n> ひとつ前にくくって  \n> \\[\n> a_n=A\\,5^{\\,n-1}+B\\,(-2)^{\\,n-1}\n> \\]  \n> としておくと計算がすっきりします。\n\n---\n\n## 4　初期条件で係数を決定する  \n\n### (1) \\(n=1\\) を代入  \n\\[\na_1=0=A\\cdot5^{0}+B\\cdot(-2)^{0}=A+B\n\\]\n\\[\n\\boxed{A+B=0}\\tag{①}\n\\]\n\n### (2) \\(n=2\\) を代入  \n\\[\na_2=1=A\\cdot5^{1}+B\\cdot(-2)^{1}=5A-2B\n\\]\n\\[\n\\boxed{5A-2B=1}\\tag{②}\n\\]\n\n### (3) ①,② を連立  \n①より \\(B=-A\\)。②へ代入すると  \n\\[\n5A-2(-A)=5A+2A=7A=1 \\quad\\Longrightarrow\\quad A=\\frac17\n\\]\n\\[\nB=-A=-\\frac17\n\\]\n\n---\n\n## 5　一般項の決定  \n\n\\[\n\\boxed{\\displaystyle \na_n=\\frac17\\bigl(5^{\\,n-1}-(-2)^{\\,n-1}\\bigr)\\qquad(n\\ge1)\n}\n\\]\n\n---\n\n## 6　検算（数値確認）\n\n| \\(n\\) | 式で求めた \\(a_n\\) | 漸化式で計算した値 |\n|-------|------------------|---------------------|\n| 1 | \\(\\tfrac17(1-1)=0\\) | 0 (条件) |\n| 2 | \\(\\tfrac17(5-(-2))=\\tfrac17\\cdot7=1\\) | 1 (条件) |\n| 3 | \\(\\tfrac17(25-4)=3\\) | \\(3a_2+10a_1=3\\cdot1+10\\cdot0=3\\) |\n| 4 | \\(\\tfrac17(125-(-8))=\\tfrac17\\cdot133=19\\) | \\(3a_3+10a_2=3\\cdot3+10\\cdot1=19\\) |\n\nすべて一致するため正しいことが確認できます。\n\n---\n\n## 7　まとめ  \n２次線形漸化式  \n\\[\na_{n+2}=3a_{n+1}+10a_n,\\;a_1=0,\\;a_2=1\n\\]\nの一般項は\n\n\\[\n\\boxed{a_n=\\dfrac{1}{7}\\left(5^{\\,n-1}-(-2)^{\\,n-1}\\right)}\n\\]\n\n以上で求めることができました。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 1, \\quad a_2 = 4, \\quad a_{n+2} + a_{n+1} - 6a_n = 0 $$",
            "solution": "$$ a_n = \\frac{2}{15}(-3)^n + \\frac{7}{10}2^n $$",
            "gpt": "# 解答\n\n## 1.  方針  \n数列  \n\\[\na_{n+2}+a_{n+1}-6a_n=0 \\quad(n\\ge1),\\qquad a_1=1,\\;a_2=4\n\\]  \nは「**2次線形・斉次漸化式**」です。  \n高校数学では，まず  \n\\[\na_n=r^{\\,n}\\quad(r\\neq0)\n\\]  \nと置いて“定数倍で等比形になる解”を調べ，そこから一般項を組み立てる方法を習います。\n\n---\n\n## 2.  特性方程式を立てる  \n仮定 \\(a_n=r^{\\,n}\\) を漸化式へ代入すると\n\n\\[\nr^{\\,n+2}+r^{\\,n+1}-6r^{\\,n}=0\n\\]\n\n両辺を \\(r^{\\,n}\\,(r\\neq0)\\) で割ると\n\n\\[\nr^{2}+r-6=0.\n\\]\n\nこれを **特性方程式** と呼びます。\n\n---\n\n## 3.  解を求める  \n\\[\nr^{2}+r-6=(r+3)(r-2)=0\n\\]\nより  \n\\[\nr=-3,\\;2\n\\]\nの 2 つの異なる解が得られます。\n\n---\n\n## 4.  一般解の形  \n特性方程式に異なる 2 解がある場合，漸化式の一般解は\n\n\\[\na_n=A(-3)^{\\,n}+B\\,2^{\\,n}\\qquad(\\* )\n\\]\n\nという形になります。  \nここで \\(A,\\;B\\) は初期条件によって決まる定数です。\n\n---\n\n## 5.  初期条件で定数を決定  \n\n初項 \\(a_1=1\\)，第2項 \\(a_2=4\\) を用いて求めます。\n\n(1) \\(n=1\\) を (\\*) に代入  \n\\[\n1=a_1=A(-3)^1+B\\,2^1=-3A+2B.\n\\]\n\n(2) \\(n=2\\) を (\\*) に代入  \n\\[\n4=a_2=A(-3)^2+B\\,2^2=9A+4B.\n\\]\n\n連立方程式\n\\[\n\\begin{cases}\n-3A+2B=1\\\\\n9A+4B=4\n\\end{cases}\n\\]\nを解くと\n\n\\[\n\\boxed{A=\\dfrac{2}{15}},\\qquad \\boxed{B=\\dfrac{7}{10}}.\n\\]\n\n---\n\n## 6.  一般項の決定  \nよって一般項は\n\n\\[\n\\boxed{\\,a_n=\\frac{2}{15}\\,(-3)^{\\,n}+\\frac{7}{10}\\,2^{\\,n}\\quad(n\\ge1)\\,}.\n\\]\n\n---\n\n## 7.  検算（任意）  \n$n=1,2$ を代入すると  \n\\[\n\\begin{aligned}\na_1 &=\\frac{2}{15}(-3)+\\frac{7}{10}\\cdot2 = -\\frac{2}{5}+\\frac{7}{5}=1,\\\\[4pt]\na_2 &=\\frac{2}{15}\\,9+\\frac{7}{10}\\,4 = \\frac{6}{5}+\\frac{14}{5}=4,\n\\end{aligned}\n\\]\n確かに初期条件を満たします。  \nさらに漸化式にも代入すれば，すべての \\(n\\) で成り立つことが確認できます。\n\n---\n\n以上より，数列 \\(\\{a_n\\}\\) の一般項は  \n\\[\n\\boxed{a_n=\\dfrac{2}{15}(-3)^{\\,n}+\\dfrac{7}{10}2^{\\,n}}\n\\]\nです。",
            "is_correct": true
        },
        {
            "statement": "次の条件によって定められる数列 $\\{a_n\\}$ の一般項を求めよ。 $$ a_1 = 0, \\quad a_2 = 1, \\quad a_{n+2} = 8a_{n+1} - 7a_n $$",
            "solution": "$$ a_n = \\frac{1}{6}\\left(7^{n-1} - 1\\right) $$",
            "gpt": "# 解答\n\n## 1　漸化式を解く方針  \n与えられた漸化式  \n\n\\[\na_{n+2}=8a_{n+1}-7a_{n}\\qquad(n\\ge 1)\n\\]\n\nは  \n「一次の項（$a_{n+1}$）と二次の項（$a_{n}$）だけで構成され，  \n係数がすべて定数」  \nという典型的な**線形・斉次・2 階の漸化式**です。  \n高校数学では，まず\n\n\\[\nr^{2}-8r+7=0\n\\]\n\nという**特性方程式（特征方程式）**を立てて解くのが定石です。\n\n---\n\n## 2　特性方程式の解\n\n\\[\nr^{2}-8r+7=(r-1)(r-7)=0\n\\]\n\n\\[\n\\Longrightarrow \\quad r=1,\\;7\n\\]\n\n重解ではなく「互いに異なる２つの解」が得られました。  \nしたがって一般解は\n\n\\[\na_n = \\alpha\\cdot1^{\\,n}+\\beta\\cdot7^{\\,n}\n       =\\alpha+\\beta\\,7^{\\,n}\\qquad(\\alpha,\\beta\\in\\mathbb R)\n\\]\n\nとなります。  \n（※ $1^{n}=1$ なので $\\alpha$ は定数項になります。）\n\n---\n\n## 3　初期条件による定数決定  \n\n初期条件  \n\\[\na_1=0,\\qquad a_2=1\n\\]  \nを代入して $\\alpha,\\beta$ を求めます。\n\n① $n=1$ を代入  \n\\[\n0=a_1=\\alpha+\\beta 7\\quad\\Longrightarrow\\quad \\alpha=-7\\beta\n\\]\n\n② $n=2$ を代入  \n\\[\n1=a_2=\\alpha+\\beta 7^{2}\n          =\\alpha+49\\beta\n\\]\n\nここに $\\alpha=-7\\beta$ を入れると\n\n\\[\n1=(-7\\beta)+49\\beta=42\\beta\n\\quad\\Longrightarrow\\quad\n\\beta=\\frac{1}{42}\n\\]\n\n\\[\n\\therefore\\quad\n\\alpha=-7\\beta=-\\frac{7}{42}=-\\frac16\n\\]\n\n---\n\n## 4　一般項の整理  \n\n\\[\na_n=\\alpha+\\beta\\,7^{\\,n}\n    =-\\frac16+\\frac{1}{42}\\,7^{\\,n}\n\\]\n\n分母をそろえて簡単にすると\n\n\\[\n-\\frac16+\\frac{7^{\\,n}}{42}\n      =\\frac{-7+7^{\\,n}}{42}\n      =\\frac{7\\bigl(7^{\\,n-1}-1\\bigr)}{42}\n      =\\boxed{\\displaystyle\\frac{7^{\\,n-1}-1}{6}}\\qquad(n\\ge1)\n\\]\n\n---\n\n## 5　確認  \n\n漸化式に戻して確かめます。\n\n\\[\n\\begin{aligned}\n\\text{右辺}&=8a_{n+1}-7a_n\n           =8\\left(\\frac{7^{\\,n}-1}{6}\\right)\n            -7\\left(\\frac{7^{\\,n-1}-1}{6}\\right)\\\\[4pt]\n          &=\\frac{8\\cdot7^{\\,n}-8-7\\cdot7^{\\,n-1}+7}{6}\\\\[4pt]\n          &=\\frac{8\\cdot7^{\\,n}-7\\cdot7^{\\,n-1}-1}{6}\\\\[4pt]\n          &=\\frac{7\\cdot7^{\\,n-1}+7\\cdot7^{\\,n-1}-1}{6}\n            \\;=\\;\\frac{7^{\\,n+1}-1}{6}\n            =a_{n+2}\n\\end{aligned}\n\\]\n\nよって漸化式を満たすことが確認できました。\n\n---\n\n## 6　数列の様子（参考）\n\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# 初項から10項目まで描画\nn = np.arange(1,11)\na = (7**(n-1)-1)/6\n\nplt.figure(figsize=(6,3))\nplt.stem(n, a, use_line_collection=True)\nplt.title(\"数列 $a_n = \\\\frac{7^{n-1}-1}{6}$（n = 1～10）\")\nplt.xlabel(\"n\")\nplt.ylabel(\"$a_n$\")\nplt.grid(True)\nplt.show()\n```\n\n実行すると  \n0, 1, 8, 57, 400, … と急激に増加する様子が確認できます。\n\n---\n\n## 7　結論\n\n数列 $\\{a_n\\}$ の一般項は\n\n\\[\n\\boxed{\\,a_n=\\dfrac{7^{\\,n-1}-1}{6}\\,}\\quad(n\\ge1)\n\\]\n\nです。",
            "is_correct": true
        }
    ],
    "stats": {
        "total": 66,
        "correct": 66
    }
}